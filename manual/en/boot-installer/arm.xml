<!-- retain these comments for translator revision tracking -->
<!-- $Id$ -->

  <sect2 arch="arm" id="boot-tftp"><title>Booting from TFTP</title>

&boot-installer-intro-net.xml;

  </sect2>


  <sect2 arch="arm"><title>Booting from CD-ROM</title>

&boot-installer-intro-cd.xml;

  </sect2>


  <sect2 arch="arm" id="boot-firmware"><title>Booting from Firmware</title>

&boot-installer-intro-firmware.xml;

   <sect3 arch="arm" id="boot-firmware-nslu2"><title>Booting the NSLU2</title>
<para>

There are three ways how to put the installer firmware into flash:

</para>

    <sect4 arch="arm"><title>Using the NSLU2 web interface</title>
<para>

Go to the administration section and choose the menu item
<literal>Upgrade</literal>.  You can then browse your disk for the
installer image you have previously downloaded.  Then press the
<literal>Start Upgrade</literal> button, confirm, wait for a few minutes
and confirm again.  The system will then boot straight into the installer.

</para>
    </sect4>

    <sect4 arch="arm"><title>Via the network using Linux/Unix</title>
<para>

You can use <command>upslug2</command> from any Linux or Unix machine to
upgrade the machine via the network.  This software is packaged for
Debian.

First, you have to put your NSLU2 in upgrade mode:

<orderedlist>
<listitem><para>

Disconnect any disks and/or devices from the USB ports.

</para></listitem>
<listitem><para>

Power off the NSLU2

</para></listitem>
<listitem><para>

Press and hold the reset button (accessible through the small hole on the
back just above the power input).

</para></listitem>
<listitem><para>

Press and release the power button to power on the NSLU2.

</para></listitem>
<listitem><para>

Wait for 10 seconds watching the ready/status LED. After 10 seconds it
will change from amber to red. Immediately release the reset button.

</para></listitem>
<listitem><para>

The NSLU2 ready/status LED will flash alternately red/green (there is a 1
second delay before the first green). The NSLU2 is now in upgrade mode.

</para></listitem>
</orderedlist>

See the <ulink
url="http://www.nslu2-linux.org/wiki/OpenSlug/UsingTheBinary">NSLU2-Linux
pages</ulink> if you have problems with this.

Once your NSLU2 is in upgrade mode, you can flash the new image:

<informalexample><screen>
sudo upslug2 -i di-nslu2.bin
</screen></informalexample>

Note that the tool also shows the MAC address of your NSLU2, which may come
in handy to configure your DHCP server.  After the whole image has been
written and verified, the system will automatically reboot.  Make sure you
connect your USB disk again now, otherwise the installer won't be able to
find it.

</para>
    </sect4>

    <sect4 arch="arm"><title>Via the network using Windows</title>
<para>

There is <ulink
url="http://www.everbesthk.com/8-download/sercomm/firmware/all_router_utility.zip">a
tool</ulink> for Windows to upgrade the firmware via the network.

</para>
    </sect4>
   </sect3>

   <sect3 arch="arm" id="boot-firmware-ss4000e">
   <title>Booting the SS4000-E</title>
<para>

Due to limitations in the SS4000-E firmware, it unfortunately is not
possible to boot the installer without the use of a serial port at
this time. To boot the installer, you will need a serial nullmodem
cable; a computer with a serial port<footnote id="arm-s4ke-port">

<para>
A USB serial converter will also work.
</para>

</footnote>; and a ribbon cable with a male DB9 connector at one end,
and a 10-pin .1" IDC header at the other<footnote id="arm-s4k-rib">

<para>
This cable is often found in older desktop machines with builtin 9-pin
serial ports.
</para>

</footnote>.

</para><para>

To boot the SS4000-E, first load the Debian-provided firmware image
(ss4000e.pkg) through the SS4000-E's web interface (go to
<quote>administration</quote>, then to <quote>firmware</quote>, and
upload the image). Next,
use your serial nullmodem cable and the ribbon cable to connect to the
serial port of the SS4000-E, and reboot the machine. You need to use a
serial terminal application to communicate with the machine; a good
option on a Debian GNU/Linux is to use the <command>cu</command>
program, in the package of the same name. Assuming the serial port on
your computer is to be found on <filename>/dev/ttyS0</filename>, use the
following command line:

</para>

<informalexample><screen>
cu -lttyS0 -s115200
</screen></informalexample>

<para>

If using Windows, you may want to consider using the program
<classname>hyperterminal</classname>. Use a baud rate of 115200,
8 bits word length, no stop bits, and one parity bit.

</para><para>

When the machine boots, you will see the following line of output:

</para>

<informalexample><screen>
No network interfaces found

EM-7210 ver.T04 2005-12-12 (For ver.AA)
== Executing boot script in 1.000 seconds - enter ^C to abort
</screen></informalexample>

<para>

At this point, hit Control-C to interrupt the boot
loader<footnote id="arm-s4ke-sec">

<para>
Note that you have only one second to do so; if you miss this window,
just powercycle the machine and try again.
</para>

</footnote>. This will give you the RedBoot prompt. Enter the
following command:

</para>

<informalexample><screen>
fconfig boot_script_data
</screen></informalexample>

<para>

RedBoot is now waiting for you to enter the boot script. Make sure to
<emphasis>exactly</emphasis> enter the following script:

</para>

<informalexample><screen>
fis load ramdisk.gz
fis load zImage
exec -c "console=ttyS0,115200 rw root=/dev/ram mem=256M@0xa0000000" -r 0x01800000
</screen></informalexample>

<para>

Finish the script with an empty line, and enter <quote>y</quote> at the
prompt to update the non-volatile configuration. Finally, use
<quote>reset</quote> to restart the system, and allow it to boot normally.
The installer should now come up as normal. You can either install Debian
through the serial port, or use an SSH client to connect through SSH.

</para><para>

Note that it is not necessary to update the boot script after the
installation. The system will be configured to take the root device from
system configuration, rather than from the kernel command line. It will
not do any harm to do so anyway, however.

</para>
   </sect3>
  </sect2>
