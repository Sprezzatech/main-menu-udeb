<?xml version="1.0" encoding="UTF-8"?>
<!-- original version: 61286 -->
<!-- revisado por Igor Támara, 16 nov. 2008 -->
<!-- actualizado por elric, septiembre 2010 -->

   <sect3 arch="x86">
   <title>Particionado de las memorias USB</title>

<para>
Le mostraremos como configurar una memoria USB para usar
la primera partición en lugar de todo el dispositivo.

</para><note><para>

Puesto que la mayoría de memorias USB vienen con una sola partición
FAT16 ya configurada, probablemente no tendrá que reparticionarlo o
reformatearlo. Si aún así tiene que hacerlo, use
<command>cfdisk</command> o cualquier otra herramienta de particionado
para crear la partición FAT16<footnote>

<para>
No se olvide de definir la marca de <quote>arranque</quote>.
</para>

</footnote>, y después cree el sistema de ficheros usando.

<informalexample><screen>
# mkdosfs /dev/<replaceable>sdX1</replaceable>
</screen></informalexample>

Tenga cuidado de usar el nombre de dispositivo correcto para su memoria
USB. La orden <command>mkdosfs</command> se encuentra en el paquete
<classname>dosfstools</classname> de Debian.

</para></note><para>

Para iniciar el núcleo después de arrancar desde el dispositivo USB,
necesitaremos colocar un gestor de arranque en él. Aunque cualquier
gestor de arranque (como <command>lilo</command>) debería funcionar, es
conveniente usar <command>syslinux</command>, puesto que usa una
partición FAT16 y puede reconfigurarse con sólo editar un
fichero de texto. Puede usar cualquier sistema operativo que soporte el
sistema de ficheros FAT para hacer cambios a la configuración del
gestor de arranque.

</para><para>

Para ubicar <command>syslinux</command> en la partición FAT16 de su
memoria USB, instale los paquetes <classname>syslinux</classname> y
<classname>mtools</classname> en su sistema, y ejecute

<informalexample><screen>
# syslinux /dev/<replaceable>sdX1</replaceable>
</screen></informalexample>

Nuevamente, tenga cuidado de usar el nombre de dispositivo correcto. La
partición no debe estar montada cuando ejecute <command>syslinux</command>.
Este procedimiento escribe un sector de arranque en la partición y
crea el fichero <filename>ldlinux.sys</filename> que contiene el código
del gestor de arranque.

</para>
   </sect3>

   <sect3 arch="x86">
   <title>Añadir la imagen del instalador</title>
<para>

Monte la partición (<userinput>mount /dev/sdX1 /mnt</userinput>) y
copie los ficheros indicados a continuación al dispositivo USB:

<itemizedlist>
<listitem><para>

<filename>vmlinuz</filename> (binario del núcleo)

</para></listitem>
<listitem><para>

<filename>initrd.gz</filename> (imagen inicial de disco RAM)

</para></listitem>
</itemizedlist>

Puede elegir entre la versión usual o la versión gráfica del instalador.
La segunda se puede encontrar en el subdirectorio <filename>gtk</filename>.
Si desea renombrar los ficheros, tenga en cuenta que 
<classname>syslinux</classname> solamente puede procesar nombres de 
ficheros estilo DOS (8.3).

</para><para>

A continuación debe crear el fichero de configuración 
<filename>syslinux.cfg</filename>, que como mínimo debe contener las dos 
líneas siguientes (cambie el nombre del núcleo binario a 
<quote><filename>linux</filename></quote> si ha usado una imagen
<filename>netboot</filename>):

<informalexample><screen>
default vmlinuz
append initrd=initrd.gz
</screen></informalexample>

Si usa el instalador gráfico necesitará adicionar 
<userinput>video=vesa:ywrap,mtrr vga=788</userinput> a la segunda línea.

</para><para>

Si usó una imagen <filename>hd-media</filename>, debería copiar ahora una 
imagen ISO de Debian<footnote>

<para>
Puede usar businesscard, netinst o una imagen completa de CD (consulte
<xref linkend="official-cdrom"/>). Aseguresé de elegir una que quepa.
Tenga en cuenta que la imagen <quote><filename>mini.iso</filename> netboot</quote>
no sirve para este propósito.
</para>

</footnote> en la memoria. Cuando haya finalizado, desmonte la memoria USB
When you are done, (<userinput>umount /mnt</userinput>).

</para>
   </sect3>
