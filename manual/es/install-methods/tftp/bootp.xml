<?xml version="1.0" encoding="UTF-8"?>
<!-- original version: 59293 -->
<!-- revisado por nahoo, 6 noviembre 2004 -->
<!-- actualizado por elric, 16 agosto 2010 -->

  <sect2 condition="supports-bootp" id="tftp-bootp">
  <title>Configuración del servidor BOOTP</title>
<para>

Existen dos servidores BOOTP disponibles para GNU/Linux, el
<command>bootpd</command> de CMU. El otro que en realidad es un servidor DHCP,
el <command>dhcpd</command> de ISC. En &debian-gnu; se pueden encontrar en los
paquetes <classname>bootp</classname> y <classname>dhcp3-server</classname>
respectivamente.

</para><para>

Para usar el <command>bootpd</command> de CMU, primero debe comentar
(o añadir) la línea relevante en <filename>/etc/inetd.conf</filename>. En
&debian-gnu;, puede ejecutar <userinput>update-inetd --enable
bootps</userinput>, y luego <userinput>/etc/init.d/inetd
reload</userinput> para hacerlo. En caso de que su servidor de BOOTP
no se esté ejecutando en un sistema &debian-gnu;, la línea en cuestión
deberá ser como sigue:

<informalexample><screen>
bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120
</screen></informalexample>

Ahora, debe crear el fichero <filename>/etc/bootptab</filename>.
Tiene el mismo tipo de formato familiar y críptico que los ficheros
antiguos de BSD <filename>printcap</filename>, <filename>termcap</filename>,
y <filename>disktab</filename>. Vea la página de manual de
<filename>bootptab</filename> para más información. Para el
<command>bootpd</command> de CMU, necesitará conocer la dirección de
hardware (MAC) del cliente. Este es un <filename>/etc/bootptab</filename>
de ejemplo:

<informalexample><screen>
client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:
</screen></informalexample>

Necesitará cambiar por lo menos la opción <quote>ha</quote>, que especifica la
dirección hardware del cliente. La opción <quote>bf</quote> especifica el fichero
que el cliente debe recuperar a través de TFTP; para más detalles vea
<xref linkend="tftp-images"/>.

<phrase arch="mips">
En sistemas SGI puede simplemente ingresar al monitor de órdenes y escribir
<userinput>printenv</userinput>. El valor de la variable
<userinput>eaddr</userinput> es la dirección MAC de la máquina.
</phrase>

</para><para>

En contraste, configurar BOOTP con <command>dhcpd</command> de ISC
es realmente fácil, porque trata los clientes BOOTP como casos moderadamente
especiales de clientes DHCP. Algunas arquitecturas necesitan una configuración
compleja para arrancar clientes a través de BOOTP. Si la suya es una de
estas, lea la sección <xref linkend="dhcpd"/>. De otro modo, probablemente
pueda continuar con sólo añadir la directiva
<userinput>allow bootp</userinput> al bloque de configuración
para la sub-red donde se ubique el cliente en
<filename>/etc/dhcp3/dhcpd.conf</filename>, y reiniciar
<command>dhcpd</command> con <userinput>/etc/init.d/dhcpd3-server
restart</userinput>.

</para>
  </sect2>
