<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 25496 -->
<!-- revisado por nahoo, 7 noviembre 2004 -->
<!-- revisado por Rudy Godoy, 22 feb. 2005 -->

 <sect1 condition="bootable-usb" id="boot-usb-files">
 <title>Preparación de ficheros para el arranque desde un dispositivo de memoria USB</title>

<para>

Para preparar el dispositivo USB necesitará un sistema donde se esté
ejecutando GNU/Linux con soporte USB. Deberá asegurarse que
el módulo del núcleo «usb-storage» esté cargado
(<userinput>modprobe usb-storage</userinput>) e intente averiguar que
dispositivo SCSI ha sido asignado al dispositivo USB (en este ejemplo
se usa <filename>/dev/sda</filename>). Para escribir en su dispositivo,
probablemente deberá desactivar la protección de escritura.

</para><para>

Note que el dispositivo USB, deberá tener por lo menos una capacidad de 128 MB
(se pueden realizar configuraciones con menos capacidad, tal como se indica en
<xref linkend="usb-copy-flexible"/>).

</para>

  <sect2 id="usb-copy-easy">
  <title>Copiado de los ficheros &mdash; la forma fácil</title>
<para arch="i386">

Existe un fichero «todo en uno» <filename>hd-media/boot.img.gz</filename>
que contiene todos los ficheros del instalador (incluyendo el núcleo)
así como <command>SYSLINUX</command> y su fichero de configuración.
Sólo debe extraerlo directamente en el dispositivo USB:

<informalexample><screen>
# gzip -dc boot.img.gz &gt;/dev/<replaceable>sda</replaceable>
</screen></informalexample>

Obviamente esto destruirá todo lo que haya en el dispositivo, así
que tenga cuidado y use el nombre de dispositivo correcto para
su dispositivo USB.

</para><para arch="powerpc">

Existe un fichero «todo en uno» <filename>hd-media/boot.img.gz</filename>
que contiene todos los ficheros del instalador (incluyendo el núcleo)
así como <command>yaboot</command> y su fichero de configuración.
Cree una partición del tipo «Apple_Bootstrap» en su dispositivo
USB utilizando la orden <userinput>C</userinput> de 
<command>mac-fdisk</command> y extraiga
la imagen directamente a éste:

<informalexample><screen>
# zcat boot.img.gz &gt;/dev/<replaceable>sda2</replaceable>
</screen></informalexample>

Obviamente esto destruirá todo lo que haya en el dispositivo, así
que tenga cuidado y use el nombre de dispositivo correcto para
su dispositivo USB.

</para><para>

Después, monte la memoria USB (<userinput>
<replaceable arch="i386">/dev/sda</replaceable>
<replaceable arch="powerpc">/dev/sda2</replaceable>
/mnt</userinput>),
que ahora tendrá un sistema de ficheros 
<phrase arch="i386">FAT</phrase>
<phrase arch="powerpc">HFS</phrase>
en ella, y copie una imagen ISO «netinst» o «bussinesscard» de Debian en ella.
Por favor, tenga en cuenta que el nombre del fichero debe terminar en 
<filename>.iso</filename>. Desmonte el dispositivo USB
(<userinput>umount /mnt</userinput>) y habrá terminado.

</para>
  </sect2>

  <sect2 id="usb-copy-flexible">
  <title>Copiado de los ficheros &mdash; la forma flexible</title>
<para>

Si desea más flexibilidad o simplemente le gusta saber que ocurre,
podría usar el siguiente método para colocar los ficheros en su
dispositivo USB. 

</para>

&usb-setup-i386.xml;
&usb-setup-powerpc.xml;

   <sect3>
   <title>Añadir una imagen ISO</title>
<para>

Ahora deberá poner cualquier imagen ISO de Debian («businesscard», «netinst» o
incluso una completa) en su dispositivo (si cabe). El nombre de fichero para
esta imagen debe terminar en <filename>.iso</filename>.

</para><para>

Si desea instalar a través de la red, sin usar una imagen ISO,
puede, por supuesto, obviar el paso anterior. En este caso tendrá
que usar el disco RAM inicial del directorio <filename>netboot</filename>
en lugar del que se encuentra en <filename>hd-media</filename>, debido a que 
<filename>hd-media/initrd.gz</filename> no tiene soporte de red.

</para><para>

Cuando finalice, desmonte el dispositivo USB (<userinput>umount
/mnt</userinput>) y active su protección de escritura.

</para>

   </sect3>

   <!-- TODO: doesn't this section belong later? -->
   <sect3 arch="i386">
   <title>Arranque con la memoria USB</title>

<warning><para>

Si su sistema rehúsa arrancar desde el dispositivo USB, éste podría
contener un registro de arranque maestro (MBR) inválido. Para
corregirlo, use la orden <command>install-mbr</command> del
paquete <classname>mbr</classname>:

<informalexample><screen>
# install-mbr /dev/<replaceable>sda</replaceable>
</screen></informalexample>

</para></warning>
   </sect3>
  </sect2>
 </sect1>
