<?xml version="1.0" encoding="ISO-8859-2"?>
<!-- $Id$ -->
<!-- original version: 35328 -->

  <sect2 arch="arm" id="boot-tftp"><title>Zavedení z TFTP</title>

&boot-installer-intro-net.xml;

  <sect3 arch="arm"><title>Zavedení z TFTP na poèítaèích Netwinder</title>

<para>

Netwindery mají dvì sí»ová rozhraní: NE2000-kompatibilní kartu na
10Mbps (obvykle <filename>eth0</filename>) a 100Mbps kartu Tulip
(<filename>eth1</filename>). 100Mbps karta mù¾e mít problémy
s nahráváním obrazu pøes TFTP, tak¾e radìji doporuèujeme pou¾ít
pomalej¹í rozhraní (oznaèené <literal>10 Base-T</literal>).

</para><note><para>

K zavedení instalaèního systému potøebujete NeTTrom verze
2.2.1 a pozdìj¹í, doporuèená verze je 2.3.3. Z licenèních dùvodù se
v¹ak soubory s firmwarem nedají stáhnout. Pokud se situace zmìní,
naleznete nové obrazy na <ulink url="http//www.netwinder.org/"></ulink>.

</para></note><para>

Pøi zavádìní Netwinderu musíte bìhem odpoèítávání pøeru¹it zavádìcí
proces, co¾ vám dovolí nastavit rùzné promìnné firmwaru, které
potøebujete pro zavedení instalaèního systému. Nejprve nahrajte
výchozí nastavení:

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>load-defaults</userinput>
</screen></informalexample>

Dále musíte nastavit sí»ovou adresu buï staticky:

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv netconfig_eth0 flash</userinput>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv eth0_ip 192.168.0.10/24</userinput>
</screen></informalexample>

kde 24 je poèet nastavených bitù v sí»ové masce, nebo dynamicky:

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv netconfig_eth0 dhcp</userinput>
</screen></informalexample>

Pokud TFTP server není na lokální podsíti, budete mo¾ná muset upravit
nastavení <userinput>route1</userinput>. Dále byste mìli nastavit
adresu TFTP serveru a umístìní obrazu. Poté mù¾ete ulo¾it nastavení do
flash pamìti.

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv kerntftpserver 192.168.0.1</userinput>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv kerntftpfile boot.img</userinput>
<prompt>NeTTrom command-&gt;</prompt> <userinput>save-all</userinput>
</screen></informalexample>

Nyní mù¾ete firmwaru sdìlit, ¾e má z TFTP obrazu zavést systém:

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv kernconfig tftp</userinput>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv rootdev /dev/ram</userinput>
</screen></informalexample>

Pou¾íváte-li pro instalaci Netwinderu sériovou konzoli, budete také
potøebovat následující nastavení:

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv cmdappend root=/dev/ram console=ttyS0,115200</userinput>
</screen></informalexample>

Naopak pro instalace pou¾ívající klávesnici a monitor musíte nastavit:

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>setenv cmdappend root=/dev/ram</userinput>
</screen></informalexample>

Nastavení promìnných mù¾ete zkontrolovat pøíkazem
<command>printenv</command>. Je-li v¹e v poøádku, mù¾ete obraz zavést
pøíkazem

<informalexample><screen>
<prompt>NeTTrom command-&gt;</prompt> <userinput>boot</userinput>
</screen></informalexample>

V pøípadì jakýchkoliv problémù je k dispozici <ulink
url="http://www.netwinder.org/howto/Firmware-HOWTO.html">podrobné
HOWTO</ulink>.

</para>
  </sect3>

  <sect3 arch="arm"><title>Zavedení z TFTP na poèítaèích CATS</title>

<para>

Na strojích CATS pou¾ijte v Cyclone promptu pøíkaz
<command>boot de0:</command> (nebo podobný).

</para>
   </sect3>
  </sect2>

  <sect2 arch="arm"><title>Zavedení z CD-ROM</title>

&boot-installer-intro-cd.xml;

<para>

Pro zavedení z CD-ROM zadejte v promptu Cyclone konzoly pøíkaz
<command>boot cd0:cats.bin</command>

</para>
  </sect2>

  <sect2 arch="arm" id="boot-firmware">
  <title>Zavedení z firmwaru</title>

&boot-installer-intro-firmware.xml;

   <sect3 arch="arm" id="boot-firmware-nslu2">
   <title>Zavedení NSLU2</title>
<para>

Firmware instalaèního systému lze do flash pamìti nahrát tøemi
zpùsoby.

</para>

    <sect4 arch="arm">
    <title>Pomocí webového rozhraní NSLU2</title>
<para>

Pøejdìte do administrátorské sekce a vyberte polo¾ku
<literal>Upgrade</literal>. Na disku vyhledejte obraz instalátoru,
který jste si tam ji¾ døíve stáhli. Poté stisknìte tlaèítko
<literal>Start Upgrade</literal>, potvrïte, poèkejte nìkolik minut
a znovu potvrïte. Systém se pak zavede rovnou do instalaèního
systému.

</para>
    </sect4>

    <sect4 arch="arm">
    <title>Pøes sí» pomocí Linuxu/Unixu</title>
<para>

Na libovolném poèítaèi s Linuxem nebo Unixem mù¾ete pou¾ít pro nahrání
instalaèního systému do poèítaèe program <command>upslug2</command>.
Tento software je dokonce zabalen pøímo v Debianu.

</para><para>

Nejprve musíte pøepnout NSLU2 do aktualizaèního re¾imu:

<orderedlist>
<listitem><para>

Od USB portù odpojte v¹echny disky a jiná zaøízení.

</para></listitem>
<listitem><para>

Vypnìte NSLU2.

</para></listitem>
<listitem><para>

Stisknìte a dr¾te tlaèítko reset (pøístupné skrze malou dírku na zadní
stranì nad napájením).

</para></listitem>
<listitem><para>

Zapnìte NSLU2.

</para></listitem>
<listitem><para>

Sledujte diodu ready/status a poèkejte 10 sekund. Po 10 sekundách se
zmìní barva ze ¾luté na èervenou. V ten okam¾ik uvolnìte tlaèítko
reset.

</para></listitem>
<listitem><para>

Dioda ready/status bude blikat støídavì èervenou/zelenou barvou (pøed
první zelenou je sekundová pauza). NSLU2 je nyní v re¾imu aktualizace.

</para></listitem>
</orderedlist>

Pokud máte s touto èástí problémy, podívejte se na stránky <ulink
url="http://www.nslu2-linux.org/wiki/OpenSlug/UsingTheBinary">NSLU2-Linux</ulink>.

A¾ bude NSLU2 v aktualizaèním re¾imu mù¾ete do nìj nahrát nový obraz:

<informalexample><screen>
<userinput>sudo upslug2 -i di-nslu2.bin</userinput>
</screen></informalexample>

V¹imnìte si, ¾e nástroj také zobrazí MAC adresu va¹eho NSLU2, co¾ se
mù¾e hodit pro nastavení DHCP serveru. Po zapsání a ovìøení celého
obrazu se systém automaticky restartuje. Nyní musíte znovu pøipojit
USB disk, proto¾e jinak by jej instalaèní systém nena¹el.

</para>
    </sect4>

    <sect4 arch="arm">
    <title>Pøes sí» pomocí Windows</title>
<para>

Pro Windows existuje <ulink
url="http://www.everbesthk.com/8-download/sercomm/firmware/all_router_utility.zip">nástroj</ulink>,
kterým se dá nahrát firmware pøes sí».

</para>
    </sect4>
   </sect3>
  </sect2>
