<!-- $Id$ -->
<!-- original version: 38289 -->

 <sect1 id="boot-parms"><title>Zaváděcí parametry</title>
<para>

Parametry pro zavádění jsou vlastně parametry pro jádro Linuxu,
které se používají v případech, kdy chceme zajistit, aby jádro
korektně pracovalo s neposlušnými zařízeními. Ve většinou je jádro
schopno rozpoznat všechna zařízení automaticky, ale v některých
speciálních případech mu musíte trochu pomoci.

</para><para>

Při prvním zavádění systému zkuste, zdali systém rozpozná všechna
potřebná zařízení jen s implicitními parametry (tj. nenastavujte
pro začátek žádné vlastní hodnoty). Systém obvykle naběhne.
V případě, že se tak nestane, můžete systém zavést později poté,
co zjistíte, jaké parametry je potřeba zadat, aby jádro korektně
rozpoznalo váš hardware.

</para><para>

Poznatky o nejrůznějších zaváděcích parametrech a podivných zařízeních
jsou k nalezení v
<ulink url="http://www.tldp.org/HOWTO/BootPrompt-HOWTO.html">Linux
BootPrompt HOWTO</ulink>.
Následující text obsahuje popis jen stěžejních parametrů. Vybrané
problémy popisuje <xref linkend="boot-troubleshooting"/>.

</para><para>

Brzy po zavedení jádra můžete zpozorovat hlášení

<informalexample><screen>
Memory:<replaceable>dostupná</replaceable>k/<replaceable>celkem</replaceable>k available
</screen></informalexample>

Hodnota <replaceable>celkem</replaceable> by měla ukazovat celkovou
fyzickou paměť RAM (v kilobajtech), která je systému dostupná.
Pokud tato hodnota neodpovídá aktuálnímu stavu instalované paměti,
potom byste měli použít zaváděcí parametr
<userinput>mem=<replaceable>ram</replaceable></userinput>,
kde <replaceable>ram</replaceable> je vámi udaná velikost paměti
zakončená znakem <quote>k</quote> pro kilobajty nebo <quote>m</quote> pro megabajty.
Například, obě hodnoty <userinput>mem=65536k</userinput> a
<userinput>mem=64m</userinput> znamenají 64MB RAM.

</para><para condition="supports-serial-console">

Jádro <phrase arch="mipsel">(kromě počítačů DECstation)</phrase> by
mělo být schopno rozpoznat, že zavádíte systém ze sériové konzoly.
Pokud máte v zaváděném počítači rovněž grafickou kartu (framebuffer)
a připojenou klávesnici, měli byste při zavádění zadat parametr
<userinput>console=<replaceable>zařízení</replaceable></userinput>,
kde <replaceable>zařízení</replaceable> je vaše sériové zařízení, což
je obvykle něco jako <filename>ttyS0</filename>.

</para><para arch="sparc">

Pro &arch-title; jsou sériová zařízení <filename>ttya</filename> nebo
<filename>ttyb</filename>. Eventuálně můžete nastavit proměnné pro
OpenPROM <envar>input-device</envar> a <envar>output-device</envar> na
hodnotu <filename>ttya</filename>.

</para>


  <sect2 id="installer-args"><title>Parametry instalačního programu</title>
<para>

Instalační systém rozpoznává několik užitečných parametrů.<footnote><para>

Jádra řady 2.4 akceptují nejvýše 8 parametrů a 8 proměnných prostředí
(včetně standardních voleb pro instalační program). Pokud tento limit
překročíte, jádro přebývající parametry zahodí. Od jádra verze 2.6.9
lze použít až 32 parametrů a 32 proměnných prostředí.

</para></footnote>

</para>

<variablelist>
<varlistentry>
<term>debconf/priority</term>
<listitem><para>

Nastavením tohoto parametru můžete změnit nejnižší prioritu
zobrazených otázek. Kratší varianta: <userinput>priority</userinput>

</para><para>

Standardní instalace používá nastavení
<userinput>priority=high</userinput>, což znamená, že se
zobrazí jak kritické, tak důležité hlášky, ale normální a nevýznamné
zprávy jsou přeskočeny. Jestliže se vyskytne problém, instalátor
upraví priority otázek podle potřeb.

</para><para>

Když použijete parametr
<userinput>priority=medium</userinput>, zobrazí se instalační
menu a získáte nad instalací větší kontrolu. Při použití
<userinput>priority=low</userinput>, nic se nepřeskakuje
a zobrazí se všechny hlášky instalačního programu (to je ekvivalentní
zaváděcí metodě <userinput>expert</userinput>).  Hodnotou
<userinput>priority=critical</userinput> se potlačí všechny
zprávy a otázky se stupněm důležitosti menším než kritickým.  Pro tyto
potlačené otázky se použijí přednastavené hodnoty.

</para></listitem>
</varlistentry>

<varlistentry>
<term>DEBIAN_FRONTEND</term>
<listitem><para>

Ovlivňuje uživatelské rozhraní, ve kterém bude instalace
probíhat. Dostupné volby jsou:

<itemizedlist>
<listitem>
<para><userinput>DEBIAN_FRONTEND=noninteractive</userinput></para>
</listitem><listitem>
<para><userinput>DEBIAN_FRONTEND=text</userinput></para>
</listitem><listitem>
<para><userinput>DEBIAN_FRONTEND=newt</userinput></para>
</listitem><listitem>
<para><userinput>DEBIAN_FRONTEND=slang</userinput></para>
</listitem><listitem>
<para><userinput>DEBIAN_FRONTEND=ncurses</userinput></para>
</listitem><listitem>
<para><userinput>DEBIAN_FRONTEND=bogl</userinput></para>
</listitem><listitem>
<para><userinput>DEBIAN_FRONTEND=gtk</userinput></para>
</listitem><listitem>
<para><userinput>DEBIAN_FRONTEND=corba</userinput></para>
</listitem>
</itemizedlist>

Standardní rozhraní je <userinput>DEBIAN_FRONTEND=newt</userinput>.
Pro instalaci přes sériovou konzolu může být vhodnější
<userinput>DEBIAN_FRONTEND=text</userinput>. Standardní instalační
média momentálně podporují pouze rozhraní <userinput>newt</userinput>,
tudíž je tato volba spíše příslibem do budoucna.

</para></listitem>
</varlistentry>

<varlistentry>
<term>BOOT_DEBUG</term>
<listitem><para>

Tímto parametrem můžete kontrolovat množství zpráv, které se
zapíší do instalačního logu.

<variablelist>
<varlistentry>
<term><userinput>BOOT_DEBUG=0</userinput></term>
<listitem><para>Toto je standardní hodnota.</para></listitem>
</varlistentry>

<varlistentry>
<term><userinput>BOOT_DEBUG=1</userinput></term>
<listitem><para>Upovídanější než obvykle.</para></listitem>
</varlistentry>

<varlistentry>
<term><userinput>BOOT_DEBUG=2</userinput></term>
<listitem><para>Spousty ladících informací.</para></listitem>
</varlistentry>

<varlistentry>
<term><userinput>BOOT_DEBUG=3</userinput></term>
<listitem><para>

Pro opravdu detailní ladění se během zavádění několikrát spustí shell,
ve kterém můžete kontrolovat a ovlivňovat náběh systému. Když shell
ukončíte, bude zavádění pokračovat.

</para></listitem>
</varlistentry>
</variablelist>

</para></listitem>
</varlistentry>

<varlistentry>
<term>INSTALL_MEDIA_DEV</term>
<listitem><para>

Hodnota tohoto parametru zadává cestu k zařízení, ze kterého se má
nahrát instalační systém, například
<userinput>INSTALL_MEDIA_DEV=/dev/floppy/0</userinput>

</para><para>

Normálně se totiž zaváděcí disketa snaží najít kořenovou disketu na
všech dostupných disketových mechanikách. Tímto parametrem jí sdělíte,
že se má podívat jenom na zadané zařízení.

</para></listitem>
</varlistentry>

<varlistentry>
<term>debian-installer/framebuffer</term>
<listitem><para>

Některé architektury využívají pro instalaci v různých jazycích
jaderný framebuffer (grafická konzole). Pokud na svém systému
zaznamenáte symptomy jako chybové hlášky o btermu a boglu, černou
obrazovku nebo zamrznutí instalace po několika minutách od spuštění,
můžete framebuffer vypnout parametrem
<userinput>debian-installer/framebuffer=false</userinput>, nebo
krátce <userinput>fb=false</userinput>.

</para><para arch="i386">

K vypnutí framebufferu též můžete použít parametr
<userinput>video=vga16:off</userinput>. Tyto problémy byly hlášeny na
počítači Dell Inspiron s grafickou kartou Mobile Radeon.

</para><para arch="m68k">

Tyto problémy byly hlášeny na Amize 1200 a SE/30.

</para><para arch="hppa">

Tyto problémy byly hlášeny na hppa.

</para><note arch="sparc"><para>

Kvůli zobrazovacím problémům na některých systémech je podpora
framebufferu na architektuře &arch-title; <emphasis>implicitně
vypnutá</emphasis>. To může způsobit ne zrovna pěkné zobrazení na
systémech, které framebuffer podporují korektně. Příkladem jsou
systémy s grafickými kartami ATI. Zaznamenáte-li při instalaci
problémy se zobrazením, zkuste zavést instalační systém s parametrem
<userinput>debian-installer/framebuffer=true</userinput>.

</para></note></listitem>
</varlistentry>

<varlistentry>
<term>debian-installer/probe/usb</term>
<listitem><para>

Pokud hledání USB zařízení způsobuje problémy, nastavte tento parametr
na hodnotu <userinput>false</userinput>.

</para></listitem>
</varlistentry>

<varlistentry>
<term>netcfg/disable_dhcp</term>
<listitem><para>

Standardně se &d-i; snaží získat nastavení sítě přes DHCP. Je-li
získáno nějaké nastavení, instalační systém se na nic nebude ptát
a automaticky bude pokračovat v instalaci. K ručnímu nastavení sítě se
dostanete pouze v případě, že dotaz na DHCP server selže.

</para><para>

Máte-li tedy na místní síti DHCP server, ale z nějakého důvodu jej
nechcete použít (protože např. pro účely instalace vrací špatné
hodnoty), můžete použít parametr
<userinput>netcfg/disable_dhcp=false</userinput>, kterým zabráníte
automatickému nastavení sítě přes DHCP a rovnou budete požádáni
o ruční nastavení síťových údajů.

</para></listitem>
</varlistentry>

<varlistentry>
<term>hw-detect/start_pcmcia</term>
<listitem><para>

Pokud chcete zabránit startu PCMCIA služeb, nastavte tento parametr na
hodnotu <userinput>false</userinput>. Některé notebooky jsou totiž
nechvalně známé tím, že při startu PCMCIA služeb zaseknou celý systém.

</para></listitem>
</varlistentry>

<varlistentry>
<term>preseed/url</term>
<listitem><para>

Zde můžete zadat url k souboru s přednastavením, podle kterého se
má provést automatická instalace, viz <xref
linkend="automatic-install"/>.
Kratší varianta: <userinput>url</userinput>

</para></listitem>
</varlistentry>

<varlistentry>
<term>preseed/file</term>
<listitem><para>

Zde můžete zadat soubor s přednastavením, podle kterého se má provést
automatická instalace, viz <xref linkend="automatic-install"/>.
Kratší varianta: <userinput>file</userinput>

</para></listitem>
</varlistentry>

<varlistentry>
<term>cdrom-detect/eject</term>
<listitem><para>

Před restartem &d-i; do nového systému se implicitně vysune optické
médium použité během instalace. To někdy není potřeba (např. systém
není nastaven pro automatické zavádění z CD-ROM) a v některých
případech může být vysunutí dokonce nežádoucí. Například pokud
mechanika neumí nahrát médium sama a uživatel zrovna není na místě,
aby to provedl ručně. Příkladem takovýchto mechanik jsou mechaniky
v přenosných počítačích a mechaniky se štěrbinovým podáváním.

</para><para>

Pro zakázání automatického vysunutí nastavte parametr na hodnotu
<userinput>false</userinput>.

</para></listitem>
</varlistentry>

<varlistentry arch="m68k">
<term>ramdisk_size</term>
<listitem><para>

Používáte-li ještě jádro řady 2.2.x, budete možná muset zadat
&ramdisksize;.

</para></listitem>
</varlistentry>

<varlistentry>
<term>rescue/enable</term>
<listitem><para>

Nastavíte-li tento parametr na hodnotu <userinput>true</userinput>,
spustí se místo běžné instalace záchranný režim. Viz <xref
linkend="rescue"/>.

</para></listitem>
</varlistentry>

</variablelist>
  </sect2>
 </sect1>

