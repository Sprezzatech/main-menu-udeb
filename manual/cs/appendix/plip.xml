<?xml version="1.0" encoding="ISO-8859-2"?>
<!-- $Id$ -->
<!-- original version: 29687 -->

 <sect1 id="plip" arch="i386">
 <title>Instalace &debian;u pøes paralelní port (PLIP)</title>

<para>

Tato èást vysvìtluje instalaci &debian;u na poèítaèi bez ethernetové
karty, ale na kterém funguje paralelní port, pøes který je pøipojen
druhý poèítaè (brána) pomocí nullmodemového kabelu. Poèítaè slou¾ící
jako brána by mìl být pøipojen do sítì, která obsahuje zrcadlo Debianu
(napø. Internet).

</para><para>

V pøíkladu pou¾ijeme pro PLIP spojení k bránì IP adresy 192.168.0.1
a 192.168.0.2. Pokud tyto kolidují s adresami va¹í lokální sítì,
zvolte si nìjaké vhodnìj¹í. Brána je do Internetu pøipojena pomocí
vytáèeného pøipojení (ppp0).

</para><para>

PLIP pøipojení, které bìhem instalace vytvoøíme, bude dostupné i po
restartu do nainstalovaného systému (viz <xref linkend="boot-new"/>).

</para><para>

Pøed zaèátkem instalace byste mìli zkontrolovat nastavení BIOSu
a poznamenat si pøeru¹ení (IRQ) a bázovou VV adresu (IO base address)
paralelních portù na obou spojovaných systémech. Nejbì¾nìj¹í hodnoty
jsou <literal>io=0x378</literal> a <literal>irq=7</literal>.

</para>

  <sect2>
  <title>Po¾adavky</title>

<itemizedlist>
<listitem><para>

Cílový poèítaè <emphasis>nahepc</emphasis>, na který budeme instalovat.

</para></listitem>
<listitem><para>

Instalaèní média, viz <xref linkend="installation-media"/>.

</para></listitem>
<listitem><para>

Pomocný poèítaè <emphasis>earthsimulator</emphasis> pøipojený
k Internetu, který bude slou¾it jako brána.

</para></listitem>
<listitem><para>

Nullmodemový kabel DB-25. Podrobnosti o kabelu naleznete v <ulink
url="&url-plip-install-howto;">PLIP-Install-HOWTO</ulink> spoleènì
s návodem, jak si mù¾ete tento kabel vyrobit vlastními silami.

</para></listitem>
</itemizedlist>

  </sect2>

  <sect2>
  <title>Nastavení stroje earthsimulator</title>
<para>

Následujíc skript ukazuje mo¾né nastavení earthsimulatoru jako brány
do Internetu pomocí ppp0.

<informalexample><screen>
#!/bin/sh

# Odstraníme z jádra následující moduly, abychom se vyhnuli
# konfliktùm a abychom je mohli nastavit ruènì.
modprobe -r lp parport_pc
modprobe parport_pc io=<replaceable>0x378</replaceable> irq=<replaceable>7</replaceable>
modprobe plip

# Nastavení rozhraní plip (zde je to plip0, viz dmesg | grep plip)
ifconfig <replaceable>plip0 192.168.0.2</replaceable> pointopoint <replaceable>192.168.0.1</replaceable> netmask 255.255.255.255 up

# Nastavení brány
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o <replaceable>ppp0</replaceable> -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward
</screen></informalexample>

</para>
  </sect2>

  <sect2>
  <title>Instalace na nahepc</title>
<para>

Zaveïte systém z instalaèních médií v expertním re¾imu (napø. na
zavádìcí výzvì zadejte <userinput>expert</userinput>) a poté bìhem
instalace odpovìzte na následující otázky naznaèeným zpùsobem.

</para>

<orderedlist>
<listitem><para>

<guimenuitem>Nahrát komponenty instalátoru</guimenuitem>

</para><para>

Ze seznamu vyberte mo¾nost <userinput>plip-modules</userinput>; tím se
instalaènímu systému zpøístupní ovladaèe pro PLIP.

</para></listitem>
<listitem><para>

<guimenuitem>Rozpoznat sí»ový hardware</guimenuitem>

</para>

 <itemizedlist>
 <listitem><para>

Pokud nahepc <emphasis>obsahuje</emphasis> sí»ové karty, zobrazí se
seznam modulù pro v¹echny rozpoznané karty. Trváte-li na pou¾ití PLIP,
musíte v¹echny vybrané moduly odznaèit. Samozøejmì ¾e pokud nejsou
rozpoznány ¾ádné karty, seznam se nezobrazí.

 </para></listitem>
 <listitem><para>

Dotazovat se na parametry modulù: Ano

 </para></listitem>
 <listitem><para>

Proto¾e nebyly nalezeny/vybrány ¾ádné sí»ové karty, instalaèní systém
vás po¾ádá o výbìr vhodného modulu s ovladaèem. Vyberte modul
<userinput>plip</userinput>.

 </para></listitem>
 <listitem><para>

Dodateèné parametry pro modul parport_pc:
<userinput><replaceable>io=0x378 irq=7</replaceable></userinput>

 </para></listitem>
 <listitem><para>

Dodateèné parametry pro modul plip: ponechte prázdné

 </para></listitem>
 </itemizedlist>

</listitem>
<listitem><para>

<guimenuitem>Nastavit sí»</guimenuitem>

 <itemizedlist>
 <listitem><para>

Automaticky nastavit sí» pøes DHCP: Ne

 </para></listitem>
 <listitem><para>

IP adresa: <userinput><replaceable>192.168.0.1</replaceable></userinput>

 </para></listitem>
 <listitem><para>

Point-to-point adresa:
<userinput><replaceable>192.168.0.2</replaceable></userinput>

 </para></listitem>
 <listitem><para>

Adresy jmenných serverù: mù¾ete zadat stejnou hodnotu, jako máte na
earthsimulatoru (viz soubor <filename>/etc/resolv.conf</filename>)

 </para></listitem>
 </itemizedlist>

</para></listitem>
</orderedlist>

  </sect2>
 </sect1>
