<!-- retain these comments for translator revision tracking -->
<!-- original version: 34713 -->


 <sect1 id="linux-upgrade">
 <!-- <title>Installing &debian; from a Unix/Linux System</title> -->
 <title>Installazione di &debian; da un sistema Unix/Linux esistente</title>

<para>

<!-- This section explains how to install &debian; from an existing
Unix or Linux system, without using the menu-driven installer as
explained in the rest of the manual. This <quote>cross-install</quote>
HOWTO has been requested by users switching to &debian; from
Red Hat, Mandrake, and SUSE. In this section some familiarity with
entering *nix commands and navigating the file system is assumed. In
this section, <prompt>$</prompt> symbolizes a command to be entered in
the user's current system, while <prompt>#</prompt> refers to a
command entered in the Debian chroot. -->

Questa sezione spiega come installare &debian; a partire da un sistema
Unix o Linux esistente, senza utilizzare l'installatore a menu
come illustrato nel resto del manuale. Questo HOWTO sul
<quote>cross-install</quote> è stato richiesto da utenti di altre distribuzioni,
Red Hat, Mandrake e SUSE, che vogliono passare a &debian;. Viene data per
acquisita una minima familiarità con i comandi *nix e con la navigazione
del file system. In questa sezione, <prompt>$</prompt> indica un comando
da inserire nel sistema attualmente in uso all'utente, mentre
<prompt>#</prompt> si riferisce a un comando da inserire nell'ambiente
chroot di Debian.

</para><para>

<!-- Once you've got the new Debian system configured to your preference,
you can migrate your existing user data (if any) to it, and keep on
rolling. This is therefore a <quote>zero downtime</quote> &debian;
install. It's also a clever way for dealing with hardware that
otherwise doesn't play friendly with various boot or installation
media. -->

Una volta che il nuovo sistema Debian sia stato configurato a
piacimento, si può procedere alla migrazione dei dati esistenti e
proseguire normalmente. Si tratta perciò di un'installazione che non
blocca nemmeno momentaneamente l'uso del sistema. Si tratta inoltre di
un modo ingegnoso per lavorare con hardware che potrebbe creare problemi
con i normali dispositivi di avvio o installazione.
</para>

  <sect2>
  <!-- <title>Getting Started</title> -->
  <title>Primi passi</title>
<para>

<!-- With your current *nix partitioning tools, repartition the hard
drive as needed, creating at least one filesystem plus swap. You
need at least 150MB of space available for a console only install,
or at least 300MB if you plan to install X. -->

Si ripartizioni secondo le proprie necessità il disco fisso con i tool
di partizionamento *nix disponibili. Come minimo servono un file system
e una partizione di swap, 150MB di spazio minimo per un ambiente
puramente testuale, 300MB se si intende installare X.

</para><para>

<!-- To create file systems on your partitions. For example, to create
an ext3 file system on partition <filename>/dev/hda6</filename> (that's
our example root partition): -->

Un esempio di come creare i file system sulle proprie partizioni. In
questo caso si tratta di un file system ext3 sulla partizione
<filename>/dev/hda6</filename> (negli esempi successivi si tratta della
partizione root):

<informalexample><screen>
# mke2fs -j /dev/hda6
</screen></informalexample>

<!-- To create an ext2 file system instead, omit
<userinput>-j</userinput>. -->

Per creare un file system ext2, basta omettere
<userinput>-j</userinput>.

</para><para>

<!-- Initialize and activate swap (substitute the partition number for
your intended Debian swap partition): -->

Si inizializzi e attivi lo swap (si sostituisca il numero della
partizione con quello della partizione destinata allo swap per Debian):

<informalexample><screen>
# mkswap /dev/hda5
# sync; sync; sync
# swapon /dev/hda5
</screen></informalexample>

<!-- Mount one partition as <filename>/mnt/debinst</filename> (the
installation point, to be the root (<filename>/</filename>) filesystem
on your new system). The mount point name is strictly arbitrary, it is
referenced later below. -->

Si monti una partizione come <filename>/mnt/debinst</filename> (il punto
di installazione, che sarà il root file system (<filename>/</filename>)
del nuovo sistema). Il nome del mount point è arbitrario, quello scelto
verrà utilizzato da qui in avanti.

<informalexample><screen>
# mkdir /mnt/debinst
# mount /dev/hda6 /mnt/debinst
</screen></informalexample>

</para><note><para>

<!--
If you want to have parts of the filesystem (e.g. /usr) mounted on
separate partitions, you will need to create and mount these directories 
manually before proceding with the next stage. 
-->

Nel caso si abbiano delle parti del filesystem (p.e. /usr) montate da
delle partizioni separate è necessario creare e montare manualmente queste
directory prima di procedere con la prossima fase.

</para></note>
  </sect2>

  <sect2>
  <!-- <title>Install <command>debootstrap</command></title> -->
  <title>Installazione di <command>debootstrap</command></title>
<para>

<!-- The tool that the Debian installer uses, which is recognized as the
official way to install a Debian base system, is
<command>debootstrap</command>. It uses <command>wget</command> and
<command>ar</command>, but otherwise depends only on
<classname>/bin/sh</classname> and basic Unix/Linux tools<footnote>
-->

Lo strumento che l'installatore Debian usa, considerato il mezzo ufficiale
per installare un sistema Debian di base, è <command>debootstrap</command>.
Utilizza <command>wget</command> e <command>ar</command>, ma a parte questo
dipende solo da <classname>/bin/sh</classname> e dagli strumenti Unix/Linux
di base<footnote>

<para>

<!--
These include the GNU core utilities and commands like <command>sed</command>,
<command>grep</command>, <command>tar</command> and <command>gzip</command>.
-->

Questi includono le principali utility GNU e comandi come
<command>sed</command>, <command>grep</command>, <command>tar</command> e
<command>gzip</command>.

</para>

<!--
</footnote>. Install <command>wget</command> and
<command>ar</command> if they aren't already on your current system,
then download and install <command>debootstrap</command>.
-->

</footnote>. Si installi
<command>wget</command> e <command>ar</command> in caso non siano già
presenti sul sistema in uso, quindi si scarichi e installi
<command>debootstrap</command>.

</para>

<!-- The files linked to here are from 2004 and thus currently not usable
<para>

If you have an rpm-based system, you can use alien to convert the
.deb into .rpm, or download an rpm-ized version at
<ulink
url="http://people.debian.org/~blade/install/debootstrap"></ulink>

Su un sistema basato su rpm, si può utilizzare alien per convertire il
pacchetto .deb in .rpm, o si può scaricarne una versione rpm presso
<ulink
url="http://people.debian.org/~blade/install/debootstrap"></ulink>

</para>
-->

<para>

<!-- Or, you can use the following procedure to install it
manually. Make a work folder for extracting the .deb into: -->

Un'ulteriore possibilità è fare come segue per installarlo a mano.
Si crei una cartella di lavoro in cui estrarre il .deb:

<informalexample><screen>
# mkdir work
# cd work
</screen></informalexample>

<!-- The <command>debootstrap</command> binary is located in the Debian
archive (be sure to select the proper file for your
architecture). Download the <command>debootstrap</command> .deb from
the <ulink url="http://ftp.debian.org/debian/pool/main/d/debootstrap/">
pool</ulink>, copy the package to the work folder, and extract the
binary files from it. You will need to have root privileges to install
the binaries. -->

Il binario di <command>debootstrap</command> si trova nell'archivio
Debian (si faccia attenzione a scegliere il file secondo la propria
architettura). Si scarichi il pacchetto .deb di
<command>debootstrap</command> da <ulink
url="http://ftp.debian.org/debian/pool/main/d/debootstrap/">pool</ulink>,
lo si copi nella cartella di lavoro e si estraggano da esso i file
binari. Servono i privilegi di root per installarli.

<informalexample><screen>
# ar -xf debootstrap_0.X.X_arch.deb
# cd /
# zcat &#60; /full-path-to-work/work/data.tar.gz | tar xv
</screen></informalexample>

</para><para>

<!--
Note that running <command>debootstrap</command> may require you to have
a minimal version of <classname>glibc</classname> installed (currently
GLIBC_2.3). <command>debootstrap</command> itself is a shell script, but
it calls various utilities that require <classname>glibc</classname>.
-->

Notare che l'esecuzione di <command>debootstrap</command> potrebbe
richiedere l'installazione di una versione minimale della
<classname>glibc</classname> (al momento GLIBC_2.3).
<command>debootstrap</command> è semplicemente uno script di shell ma
richiama diverse utilità che richiedono la <classname>glibc</classname>.

</para>
  </sect2>

  <sect2>
  <!-- <title>Run <command>debootstrap</command></title> -->
  <title>Esecuzione di <command>debootstrap</command></title>
<para>

<!-- <command>debootstrap</command> can download the needed files directly
from the archive when you run it. You can substitute any Debian
archive mirror for <userinput>http.us.debian.org/debian</userinput> in
the command example below, preferably a mirror close to you
network-wise. Mirrors are listed at
<ulink url="http://www.debian.org/misc/README.mirrors"></ulink>. -->

Quando viene lanciato, <command>debootstrap</command> è in grado
di scaricare i file necessari direttamente dall'archivio. Si può
sostituire a <userinput>http.us.debian.org/debian</userinput>,
utilizzato nell'esempio sottostante, un qualsiasi archivio mirror di
Debian, meglio se prossimo in rete. Un elenco dei mirror è reperibile
presso: <ulink
url="http://www.debian.org/misc/README.mirrors"></ulink>.

</para><para>

<!-- If you have a &releasename; &debian; CD mounted at
<filename>/cdrom</filename>, you could substitute a file URL instead
of the http URL: <userinput>file:/cdrom/debian/</userinput> -->

In caso si abbia un CD &debian; &releasename; montato su
<filename>/cdrom</filename>, si può sostituire all'URL http
l'URL <userinput>file:/cdrom/debian/</userinput>.

</para><para>

<!-- Substitute one of the following for <replaceable>ARCH</replaceable>
in the <command>debootstrap</command> command:

<userinput>alpha</userinput>,
<userinput>arm</userinput>,
<userinput>hppa</userinput>,
<userinput>i386</userinput>,
<userinput>ia64</userinput>,
<userinput>m68k</userinput>,
<userinput>mips</userinput>,
<userinput>mipsel</userinput>,
<userinput>powerpc</userinput>,
<userinput>s390</userinput>, or
<userinput>sparc</userinput>. -->

Al posto di <replaceable>ARCH</replaceable>, nel comando
<command>debootstrap</command> si sostituisca uno dei seguenti:

<userinput>alpha</userinput>,
<userinput>arm</userinput>,
<userinput>hppa</userinput>,
<userinput>i386</userinput>,
<userinput>ia64</userinput>,
<userinput>m68k</userinput>,
<userinput>mips</userinput>,
<userinput>mipsel</userinput>,
<userinput>powerpc</userinput>,
<userinput>s390</userinput> o
<userinput>sparc</userinput>.

<informalexample><screen>
# /usr/sbin/debootstrap --arch ARCH sarge \
      /mnt/debinst http://http.us.debian.org/debian
</screen></informalexample>

</para>
  </sect2>

  <sect2>
  <!-- <title>Configure The Base System</title> -->
  <title>Configurazione del sistema di base</title>
<para>

<!-- Now you've got a real Debian system, though rather lean, on disk.
<command>Chroot</command> into it: -->

Ora sul disco c'è un vero sistema Debian, seppur minimale. Ci si faccia
<command>chroot</command>:

<informalexample><screen>
# LANG= chroot /mnt/debinst /bin/bash
</screen></informalexample>

</para>

   <sect3>
   <!--<title>Mount Partitions</title> -->
   <title>Montare le partizioni</title>
<para>

<!-- You need to create <filename>/etc/fstab</filename>. -->

Bisogna creare <filename>/etc/fstab</filename>.

<informalexample><screen>
# editor /etc/fstab
</screen></informalexample>

<!-- Here is a sample you can modify to suit: -->

Segue un esempio che si può adattare secondo le proprie necessità:

<informalexample><screen>
# /etc/fstab: static file system information.
#
# file system    mount point   type    options                  dump pass
/dev/XXX         /             ext3    defaults                 0    1
/dev/XXX         /boot         ext3    ro,nosuid,nodev          0    2

/dev/XXX         none          swap    sw                       0    0
proc             /proc         proc    defaults                 0    0

/dev/fd0         /mnt/floppy   auto    noauto,rw,sync,user,exec 0    0
/dev/cdrom       /mnt/cdrom    iso9660 noauto,ro,user,exec      0    0

/dev/XXX         /tmp          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /var          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /usr          ext3    rw,nodev                 0    2
/dev/XXX         /home         ext3    rw,nosuid,nodev          0    2
</screen></informalexample>

<!-- Use <userinput>mount -a</userinput> to mount all the file systems you
have specified in your <filename>/etc/fstab</filename>, or to mount
file systems individually use: -->

Per montare tutti i file system specificati nel proprio
<filename>/etc/fstab</filename>, si esegua <userinput>mount -a</userinput>,
mentre per montarli singolarmente si usi:

<informalexample><screen>
# mount /path  # ad esempio:  mount /usr
</screen></informalexample>

<!-- You can mount the proc file system multiple times and to arbitrary
locations, though <filename>/proc</filename> is customary. If you didn't use
<userinput>mount -a</userinput>, be sure to mount proc before continuing:
-->

&Egrave; possibile montare il file system proc più volte e in posizioni
arbitrarie, ma è consuetudine farlo su <filename>/proc</filename>. In caso
non si esegua <userinput>mount -a</userinput>, ci si assicuri di montare
proc prima di continuare:

<informalexample><screen>
# mount -t proc proc /proc
</screen></informalexample>

</para><para>

<!--
The command <userinput>ls /proc</userinput> should now show a non-empty
directory. Should this fail, you may be able to mount proc from outside
the chroot:
-->

Adesso il comando <userinput>ls /proc</userinput> dovrebbe mostrare una
directory con dei file. Se non funziona, si dovrebbe essere in grado di
montare proc da fuori della chroot:

<informalexample><screen> 
# mount -t proc proc /mnt/debinst/proc 
</screen></informalexample> 

</para>
   </sect3>

   <sect3>
   <!-- <title>Configure Keyboard</title> -->
   <title>Configurazione della tastiera</title>
<para>

<!-- To configure your keyboard: -->

Per configurare la propria tastiera:

<informalexample><screen>
# dpkg-reconfigure console-data
</screen></informalexample>

</para><para>

<!--
Note that the keyboard cannot be set while in the chroot, but will be
configured for the next reboot.
-->

Notare che la tastiera non può essere impostata quando si è all'interno
della chroot, sarà possibile configurarla al riavvio successivo.

</para>
   </sect3>

   <sect3>
   <!-- <title>Configure Networking</title> -->
   <title>Configurazione della rete</title>
<para>

<!-- To configure networking, edit
<filename>/etc/network/interfaces</filename>,
<filename>/etc/resolv.conf</filename>, and
<filename>/etc/hostname</filename>. -->

Per configurare la rete, si editino
<filename>/etc/network/interfaces</filename>,
<filename>/etc/resolv.conf</filename> e <filename>/etc/hostname</filename>.

<informalexample><screen>
# editor /etc/network/interfaces
</screen></informalexample>

<!-- Here are some simple examples from
<filename>/usr/share/doc/ifupdown/examples</filename>: -->

Alcuni esempi banali da
<filename>/usr/share/doc/ifupdown/examples</filename>:

<informalexample><screen>
######################################################################
# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)
# See the interfaces(5) manpage for information on what options are
# available.
######################################################################

# We always want the loopback interface.
#
auto lo
iface lo inet loopback

# To use dhcp:
#
# auto eth0
# iface eth0 inet dhcp

# An example static IP setup: (broadcast and gateway are optional)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1
</screen></informalexample>

<!-- Enter your nameserver(s) and search directives in
<filename>/etc/resolv.conf</filename>: -->

Gli indirizzi dei name server e le direttive search vanno immesse in
<filename>/etc/resolv.conf</filename>:

<informalexample><screen>
# editor /etc/resolv.conf
</screen></informalexample>

<!-- A simple <filename>/etc/resolv.conf</filename>: -->

Un semplice <filename>/etc/resolv.conf</filename>:

<informalexample><screen>
search hqdom.local\000
nameserver 10.1.1.36
nameserver 192.168.9.100
</screen></informalexample>

<!-- Enter your system's host name (2 to 63 characters): -->

Si immetta l'hostname del proprio sistema (da 2 a 63 caratteri):

<informalexample><screen>
# echo DebianHostName &gt; /etc/hostname
</screen></informalexample>

<!-- If you have multiple network cards, you should arrange the names of
driver modules in the <filename>/etc/modules</filename> file into the
desired order. Then during boot, each card will be associated with the
interface name (eth0, eth1, etc.) that you expect. -->

In presenza di più schede di rete, si dovrebbero disporre i nomi dei driver
nel file <filename>/etc/modules</filename> nell'ordine desiderato. In tal
modo, durante l'avvio ad ogni scheda verrà associato il nome di interfaccia
che ci si aspetta (eth0, eth1, etc.).

</para>
   </sect3>

   <sect3>
   <!-- <title>Configure Locales</title> -->
   <title>Configurazione del pacchetto locales</title>
<para>

<!-- To configure your locale settings to use a language other than
English, install the locales support package and configure it: -->

Per utilizzare una localizzazione diversa da quella inglese, si installi
il pacchetto locales e lo si configuri.

<informalexample><screen>
# apt-get install locales
# dpkg-reconfigure locales
</screen></informalexample>

<!--
NOTE: Apt must be configured beforehand by creating a sources.list and
running apt-get update.
Before using locales with character sets other than ASCII or latin1,
please consult the appropriate localization HOWTO. -->

NOTA: Apt dev'essere già stato configurato in precedenza con la creazione
di source.list e l'esecuzione di apt-get update.
Prima di utilizzare locales con un set di caratteri diversi da
ASCII o latin1, si consulti l'HOWTO di localizzazione appropriato.

</para>
   </sect3>
  </sect2>

  <sect2>
  <!-- <title>Install a Kernel</title> -->
  <title>Installazione di un kernel</title>
<para>

<!-- If you intend to boot this system, you probably want a Linux kernel
and a boot loader. Identify available pre-packaged kernels with -->

In caso si intenda fare il boot nel nuovo sistema, servono un kernel
Linux e
un boot loader. I kernel pacchettizzati disponibili si trovano con

<informalexample><screen>
# apt-cache search kernel-image
</screen></informalexample>

<!-- Then install your choice using its package name. -->

Si può quindi installare quello scelto usando il nome del pacchetto

<informalexample><screen>
# apt-get install kernel-image-<replaceable>2.X.X-arch-etc</replaceable>
</screen></informalexample>

</para>
  </sect2>

  <sect2>
  <!-- <title>Set up the Boot Loader</title> -->
  <title>Configurazione del boot loader</title>
<para>

<!-- To make your &debian; system bootable, set up your boot loader to load
the installed kernel with your new root partition. Note that debootstrap
does not install a boot loader, though you can use apt-get inside your
Debian chroot to do so. -->

Per rendere avviabile il sistema &debian;, si configuri il boot loader
affinché carichi il kernel installato con la nuova partizione di root. Si
noti che debootstrap non installa di suo un boot loader, lo si può fare
tramite apt-get dall'interno della chroot Debian.

</para><para arch="i386">

<!-- Check <userinput>info grub</userinput> or <userinput>man
lilo.conf</userinput> for instructions on setting up the
bootloader.  If you are keeping the system you used to install Debian, just
add an entry for the Debian install to your existing grub
<filename>menu.lst</filename> or <filename>lilo.conf</filename>.  For
<filename>lilo.conf</filename>, you could also copy it to the new system and
edit it there. After you are done editing, call lilo (remember it will use
<filename>lilo.conf</filename> relative to the system you call it from). -->

Si provi <userinput>info grub</userinput> o <userinput>man
lilo.conf</userinput>
per ottenere istruzioni sulla configurazione del boot loader. Nel caso
si desideri
mantenere attivo il sistema da cui si è installato Debian, è sufficiente
aggiungere
una voce per Debian al file di grub (<filename>menu.lst</filename>) o di
lilo
(<filename>lilo.conf</filename>) esistente. Se si tratta di
<filename>lilo.conf</filename>, è anche possibile copiarlo sul nuovo
sistema e lì
modificarlo opportunamente. Dopo averlo fatto, si invochi lilo
(ricordandosi che
usa il <filename>lilo.conf</filename> relativo al sistema su cui viene
lanciato).

</para><para arch="i386">

<!-- Here is a basic <filename>/etc/lilo.conf</filename> as an example: -->

Di seguito un <filename>/etc/lilo.conf</filename> di base come esempio:

<informalexample><screen>
boot=/dev/hda6
root=/dev/hda6
install=menu
delay=20
lba32
image=/vmlinuz
label=Debian
</screen></informalexample>

</para><para arch="powerpc">

<!-- Check <userinput>man yaboot.conf</userinput> for instructions on
setting up the bootloader.  If you are keeping the system you used to
install Debian, just add an entry for the Debian install to your
existing <filename>yaboot.conf</filename>.  You could also copy it to
the new system and
edit it there. After you are done editing, call ybin (remember it will
use <filename>yaboot.conf</filename> relative to the system you call it
from). -->

Si provi <userinput>man yaboot.conf</userinput> per ottenere istruzioni
sulla configurazione del boot loader. Nel caso si intenda mantenere
attivo il sistema da cui si è installato Debian, è sufficiente
aggiungere una voce per Debian al file <filename>yaboot.conf</filename>
esistente. &Egrave; anche possibile copiarlo sul nuovo sistema e lì
modificarlo opportunamente. Dopo averlo fatto, si invochi ybin
(ricordandosi che usa il <filename>yaboot.conf</filename> relativo al
sistema su cui viene lanciato).

</para><para arch="powerpc">

<!-- Here is a basic <filename>/etc/yaboot.conf</filename> as an
example: -->

Di seguito un <filename>/etc/yaboot.conf</filename> di base come esempio:

<informalexample><screen>
boot=/dev/hda2
device=hd:
partition=6
root=/dev/hda6
magicboot=/usr/lib/yaboot/ofboot
timeout=50
image=/vmlinux
label=Debian
</screen></informalexample>

<!-- On some machines, you may need to use <userinput>ide0:</userinput>
instead of <userinput>hd:</userinput>. -->

Su alcune macchine potrebbe essere necessario usare
<userinput>ide0:</userinput> al posto di <userinput>hd:</userinput>.

</para>
  </sect2>
 </sect1>
