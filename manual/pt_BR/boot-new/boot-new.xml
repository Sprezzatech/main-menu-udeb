<!-- retain these comments for translator revision tracking -->
<!-- original version: 39351 -->
<!-- revised by Herbert Parentes Fortes Neto (hpfn) 2006.07.09 -->
<!-- revised by Felipe Augusto van de Wiel (faw) 2006.07.11 -->

<chapter id="boot-new">
 <title>Inicializando em seu novo sistema Debian</title>

 <sect1 id="base-boot"><title>O momento da verdade</title>
<para>

A primeira inicialização do seu sistema é o que os engenheiros elétricos
chamam de <quote>teste de fumaça</quote>.

</para><para>

Se estiver inicializando diretamente na Debian e o sistema não inicializar,
ou use sua mídia original de partida ou insira um disquete personalizado,
se tiver um, e reinicie seu sistema. Desta forma, você provavelmente precisará
especificar alguns argumentos como
<userinput>root=<replaceable>root</replaceable></userinput> onde
<replaceable>root</replaceable> é sua partição raíz, tal como
<filename>/dev/sda1</filename>.
Alternativamente, veja <xref linkend="rescue"/> para instruções sobre como usar
o módulo de recuperação (<quote>rescue</quote>) do instalador.

</para>

  <sect2 arch="m68k"><title>Inicialização no BVME 6000</title>
<para>

Se estiver fazendo uma instalação sem discos em uma máquina BVM ou Motorola
VMEbus: assim que o sistema carregar o programa
<command>tftplilo</command> a partir do servidor TFTP, no aviso de comandos
do <prompt>LILO Boot:</prompt> entre com um dos parâmetros:

<itemizedlist>
<listitem><para>

<userinput>b6000</userinput> seguido de &enterkey;
para inicializar em um BVME 4000/6000

</para></listitem><listitem><para>

<userinput>b162</userinput> seguido de &enterkey;
para inicializar em um MVME162

</para></listitem><listitem><para>

<userinput>b167</userinput> seguido de &enterkey;
para inicializar em um MVME166/167

</para></listitem>
</itemizedlist>

</para>

   </sect2>

  <sect2 arch="m68k"><title>Inicialização no Macintosh</title>

<para>

Vá para o diretório contendo os arquivos de instalação e inicie o
gerenciador de partida <command>Penguin</command>, segurando a tecla
<keycap>command</keycap>. Vá para o diálogo
<userinput>Configurações</userinput> (<keycombo>
<keycap>command</keycap> <keycap>T</keycap> </keycombo>) e localize
a linha que contém as opções de kernel que devem parecer com
<userinput>root=/dev/ram video=font:VGA8x16</userinput> ou similar.

</para><para>

Você precisará alterar a entrada para
<userinput>root=/dev/<replaceable>yyyy</replaceable></userinput>.
Substitua <replaceable>yyyy</replaceable> com o nome Linux da partição
no qual instalou o sistema
(e.g. <filename>/dev/sda1</filename>); você escreverá isto logo abaixo.
A opção <userinput>video=font:VGA8x8</userinput> é recomendada especialmente
para usuários que tem monitores pequenos. O kernel pegará uma fonte
bonita (6x11) mas o controlador de console desta fonte também pode travar
a máquina, assim o uso de uma fonte de 8x16 ou 8x8 é mais seguro neste estágio.
Você poderá alterar isto a qualquer momento.

</para><para>

Se não quiser iniciar automaticamente o GNU/Linux a cada vez que
ligar o computador, desmarque a opção <userinput>Auto Boot</userinput>. Salve
suas configurações no arquivo <filename>Prefs</filename> usando a opção
<userinput>Save Settings As Default</userinput> (Salvar configurações como
padrão).

</para><para>

Agora selecione <userinput>Boot Now</userinput>(iniciar agora) (<keycombo>
<keycap>command</keycap> <keycap>B</keycap> </keycombo>) para inicializar
em seu sistema GNU/Linux recém instalado ao invés do sistema de instalação
no disco RAM.

</para><para>

A Debian deverá inicializar e você verá as mesmas mensagens que
viu quando iniciou pela primeira vez o programa de instalação, seguida
de algumas mensagens novas.

</para>
   </sect2>


  <sect2 arch="powerpc"><title>PowerMacs OldWorld</title>
<para>

Caso a máquina falhe ao tentar inicializar após completar a instalação
e pare com um aviso <prompt>boot:</prompt>, tente digitar
<userinput>Linux</userinput> seguido de &enterkey;. (A configuração
padrão de partida em <filename>quik.conf</filename> é chamada Linux). As
identificações definidas no <filename>quik.conf</filename> serão mostradas
caso a tecla <keycap>Tab</keycap> seja pressionada no aviso
<prompt>boot:</prompt>.
Você pode também tentar voltar ao programa de instalação e editando o
<filename>/target/etc/quik.conf</filename> colocado ali pelo passo
<guimenuitem>Instalar o Quik no Disco Rígido</guimenuitem>.
As dicas para se trabalhar com o
<command>quik</command> estão disponíveis em <ulink
url="&url-powerpc-quik-faq;"></ulink>.

</para><para>

Para inicializar novamente no MacOS sem precisar reiniciar a nvram,
digite <userinput>bye</userinput> no aviso da OpenFirmware (assumindo que o
MacOS ainda não foi removido da máquina). Para obter um aviso de comando do
OpenFirmware, pressione a combinação de teclas
<keycombo> <keycap>command</keycap>
<keycap>option</keycap> <keycap>o</keycap> <keycap>f</keycap>
</keycombo> enquanto faz uma reinicialização pesada na máquina. Se precisar
resetar a OpenFirmware para o padrão do MacOS para inicializar de volta no
MacOS, pressione a combinação de teclas <keycombo> <keycap>command</keycap>
<keycap>option</keycap> <keycap>p</keycap> <keycap>r</keycap>
</keycombo> enquanto reinicia de forma pesada a máquina.

</para><para>

Caso usar o <command>BootX</command> para inicializar no sistema de instalação,
apenas selecione o kernel desejado na pasta <filename>Linux
Kernels</filename>, desmarque a opção ramdisk e adicione um dispositivo
raíz correspondendo a sua instalação;
e.g. <userinput>/dev/hda8</userinput>.

</para>
   </sect2>


  <sect2 arch="powerpc"><title>PowerMacs NewWorld</title>
<para>

Em máquinas G4 e Ibooks, você poderá manter pressionada a tecla
<keycap>option</keycap> e obter uma tela gráfica com um botão para
cada sistema operacional inicializável, a &debian; será um botão com um ícone
de pingüim pequeno.

</para><para>

Se manter o MacOS e em algum ponto ele alterar a variável
<envar>boot-device</envar> do OpenFirmware, você deverá
resetar o OpenFirmware para sua configuração padrão. Para fazer
isto mantenha pressionada a combinação de teclas <keycombo>
<keycap>command</keycap> <keycap>option</keycap> <keycap>p</keycap>
<keycap>r</keycap> </keycombo> enquanto reinicia de forma pesada a
máquina.

</para><para>

As identificações definidas no arquivo <filename>yaboot.conf</filename> serão
mostradas se pressionar a tecla <keycap>Tab</keycap> no aviso de comando
<prompt>boot:</prompt>.

</para><para>

Se resetar a OpenFirmware no G3 e G4, fará com que ele inicialize na
&debian; por padrão (se você particionou e colocou a partição
Apple_Bootstrap primeiro). Se tiver a &debian; em um disco SCSI
e o MacOS em um disco IDE, isto poderá não funcionar e você terá que entrar
no OpenFirmware e ajustar a variável <envar>boot-device</envar>.
o <command>ybin</command> normalmente faz isto automaticamente.

</para><para>

Após inicializar na &debian; pela primeira vez, você poderá adicionar qualquer
opção adicional que desejar (tais como opções de dupla inicialização) no arquivo
<filename>/etc/yaboot.conf</filename> e executar o <command>ybin</command>
para atualizar sua partição de inicialização com a configuração modificada.
Por favor, leia o <ulink url="&url-powerpc-yaboot-faq;">yaboot HOWTO</ulink>
para mais detalhes.

</para>
   </sect2>
 </sect1>

 <sect1 id="mount-encrypted-volumes">
 <title>Montando volumes criptografados</title>

<para>

Se você criou volumes criptografados durante a instalação e atribuiu pontos de
montagem para eles, você será questionado por senhas para cada um desses
volumes durante a inicialização. O procedimento atual difere levemente entre
dm-crypt e loop-AES.

</para>

  <sect2 id="mount-loop-aes">
  <title>loop-AES</title>

<para>

Para partições criptografadas via loop-AES serão exibidas em sua tela as 
seguintes linhas (<quote>prompt</quote>) durante a inicialização:

<informalexample><screen>
mount: going to use loop device /dev/loop<replaceable>X</replaceable>
Password:
</screen></informalexample>

Na primeira linha exibida, o <replaceable>X</replaceable> representa o número
do dispositivo de loop. Você agora provavelmente deve estar pensando
<emphasis>para qual volume</emphasis> você está efetivamente digitando a senha.
Para seu <filename>/home</filename>? Ou para <filename>/var</filename>? Claro
que se você tiver apenas um volume criptografado, isso é fácil e você pode
digitar a senha que você atribuiu a ele. Se você configurou mais de um volume
criptografado durante a instalação, as notas que você escreveu como últimos
passos em <xref linkend="partman-crypto"/> serão úteis. Caso você não tenha
feito anotações sobre o mapeamento entre
<filename>loop<replaceable>X</replaceable></filename> e os pontos de
montagem, você ainda pode encontrar essas informações no arquivo 
<filename>/etc/fstab</filename> do seu novo sistema.

</para><para>

Nenhum caractere (nem mesmo asteriscos) será exibido durante a digitação da
senha. Tenha cuidado, você tem apenas <emphasis>uma tentativa</emphasis>. Se
errar a senha, uma mensagem de erro irá aparecer e o processo de inicialização
irá pular esse volume e continuar, montando o próximo sistema de arquivos. Por
favor veja <xref linkend="crypto-troubleshooting"/> para mais informações.

</para><para>

Após digitar todas as senhas o processo de inicialização continua normalmente.

</para>
  </sect2>

  <sect2 id="mount-dm-crypt">
  <title>dm-crypt</title>

<para condition="FIXME">

TODO: write something once it works.

</para>
  </sect2>

  <sect2 id="crypto-troubleshooting">
  <title>Resolução de Problemas (<quote>Troubleshooting</quote>)</title>
  
<para>
 
Caso alguns dos volumes criptografados não possam ser montados porque uma
senha incorreta foi informada, você terá que montá-los manualmente após a
inicialização. Há vários casos.

</para>

<itemizedlist>
<listitem><para>

O primeiro caso é a partição root. Quando ela não é montada corretamente, o
processo de inicialização é interrompido e você terá que reiniciar o
computador para tentar novamente.

</para></listitem>
<listitem><para>

O caso mais simples são os volumes criptografados que armazenam dados como
<filename>/home</filename> ou <filename>/srv</filename>. Você pode simplesmente
montá-los manualmente após a inicialização. Para loop-AES isso é uma operação
de um passo:

<informalexample><screen>
<prompt>#</prompt> <userinput>mount <replaceable>/ponto_de_montagem</replaceable></userinput>
<prompt>Password:</prompt>
</screen></informalexample>

onde <replaceable>/ponto_de_montagem</replaceable> deve ser substituído pelo
diretório apropriado (e.g. <filename>/home</filename>). A única diferença em
relação a uma montagem comum é que você será questionado por uma senha para 
esse volume.

</para><para>

Para o dm-crypt isso é um pouco mais complicado. Primeiro você tem que
registrar os volumes com um
<application>mapeador de dispositivos (<quote>device mapper</quote>)</application>
executando:

<informalexample><screen>
<prompt>#</prompt> <userinput>/etc/init.d/cryptdisks start</userinput>
</screen></informalexample>

Isso irá iniciar uma busca em todos os volumes mencionados em
<filename>/etc/crypttab</filename> e irá criar os dispositivos apropriados sob
o diretório <filename>/dev</filename>, após a digitação das senhas
apropriadas. (Volumes já registrados serão ignorados, portanto você pode
repetir esse comando várias vezes sem preocupações). Após concluir com sucesso
os registros, você pode montar os volumes da maneira usual.

<informalexample><screen>
<prompt>#</prompt> <userinput>mount <replaceable>/ponto_de_montagem</replaceable></userinput>
</screen></informalexample>

</para></listitem>
<listitem><para>

Se os volumes que armazenam sistemas de arquivos não-crítico não puderem ser
montados (<filename>/usr</filename> ou <filename>/var</filename>), o sistema
deve continuar o processo de inicialização e você deve ser capaz de montar os
volumes manualmente, como nos casos previamente vistos. Contudo, você também
terá que (re)iniciar qualquer serviço que esteja rodando em seu nivel de
execução padrão. Muito provavelmente eles não foram iniciados. A maneira mais
fácil de fazer isso é ir para o primeiro nível de execução e voltar digitando:

<informalexample><screen>
<prompt>#</prompt> <userinput>init 1</userinput>
</screen></informalexample>

através da linha de comando e pressionando <keycombo> <keycap>Control</keycap>
<keycap>D</keycap> </keycombo> quando questionado pela senha do root.

</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>


 <sect1 id="login">
 <title>Entrando no Sistema</title>

<para>

Assim que seu sistema inicializar, você será presenteado com o aviso de login.
Entre usando seu login e senha escolhidos durante a instalação. Seu sistema
agora está pronto para ser usado.

</para><para>

Caso seja um novo usuário, você pode desejar explorar a documentação
que já está instalada em seu sistema assim que começar a usá-lo. Existem
diversos sistemas de documentação, alguns trabalhos estão sendo feitos
para integrar os diferentes tipos de documentação. Aqui estão alguns
pontos iniciais.

</para><para>

A documentação que acompanha programas foram instaladas no
diretório <filename>/usr/share/doc/</filename> sob um subdiretório
após o programa. Por exemplo, o guia do usuário do APT para usar
o <command>apt</command> na instalação de outros programas em seu
sistema, está localizado em
<filename>/usr/share/doc/apt/guide.html/index.html</filename>.

</para><para>


Em adição, existem alguns diretórios especiais dentro da
hierarquia <filename>/usr/share/doc/</filename>. Os HOWTO's do Linux estão
instalados em formato <emphasis>.gz</emphasis>, dentro de
<filename>/usr/share/doc/HOWTO/en-txt/</filename>.Após instalar o
<command>dhelp</command>, você encontrará um índice da
documentação em <filename>/usr/share/doc/HTML/index.html</filename>.

</para><para>

Um método fácil de ver estes documentos é entrar em <userinput>cd
/usr/share/doc/</userinput> e digitar <userinput>lynx</userinput>
seguido de um espaço e ponto (o ponto significa o diretório atual).

</para><para>

Você também poderá digitar <userinput>info
<replaceable>comando</replaceable></userinput> ou <userinput>man
<replaceable>comando</replaceable></userinput> para ver a documentação
da maioria dos comandos disponíveis no aviso de comando. Digitando-se
<userinput>help</userinput> exibirá a ajuda sobre os comandos do
interpretador de comandos. Digitando um comando seguido de
<userinput>--help</userinput> normalmente mostrará um resumo simples de
uso de comandos. Se um comando ultrapassar o espaço da tela,
acrescente <userinput>|more</userinput> após o comando para fazer o
resultado pausar antes de ultrapassar o topo da tela. Para ver uma
lista de todos os comandos disponíveis que começam com uma determinada
letra, digite a letra e então aperte duas vezes seguidas a tecla tab.

</para><para>

Para uma introdução mais completa ao sistema Debian e GNU/Linux, veja
<filename>/usr/share/doc/debian-guide/html/noframes/index.html</filename>.

</para>

 </sect1>
</chapter>
