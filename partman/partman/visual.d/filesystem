#!/bin/sh

. /usr/share/debconf/confmodule

cd $1

num=$2
id=$3
size=$4
type=$5
fs=$6
path=$7
name=$8

if [ "$fs" != free ]; then
    if [ -f $id/acting_filesystem ]; then
	filesystem=$(cat $id/acting_filesystem)
    elif [ -f $id/detected_filesystem -a ! -f $id/method ]; then
	filesystem=$(cat $id/detected_filesystem)
    else
	filesystem=''
    fi
    RET=''
    if [ "$filesystem" ]; then
	db_metaget partman/filesystem_short/$filesystem description || RET=''
    fi
    RET="${RET:-$filesystem}"
elif [ "$type" = unusable ]; then
    db_metaget partman/text/unusable description
else
    db_metaget partman/text/free_space description
fi

printf " %-10s" "$RET" #TODO: language dependent length

