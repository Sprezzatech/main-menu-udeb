create repository debian-installer
end repository

create repository udpkg
  branch devel
end repository

create repository main-menu
end repository

create repository installation-locale
end repository

create repository apt-setup
end repository

create repository user-setup
end repository

create repository mklibs
end repository

create repository busybox
end repository

create repository flash-kernel
  branch glantank
end repository

create repository pkgsel
  branch etch-beta3
end repository

create repository sarge-support
end repository
create repository etch-support
end repository

create repository netboot-assistant
end repository

create repository live-installer
end repository

create repository win32-loader
end repository

create repository kickseed
end repository

create repository preseed
  branch etch-beta2
end repository

create repository oldsys-preseed
end repository

create repository auto-install
end repository

create repository tzsetup
end repository

create repository clock-setup
end repository

create repository cdebconf
end repository

create repository cdebconf-entropy
end repository

create repository cdebconf-terminal
end repository

# TODO hw-detect?
create repository pcidetect
end repository

create repository hw-detect
end repository

create repository os-prober
end repository

create repository file-retriever
end repository

create repository cdrom-retriever
end repository

# TODO this is not in trunk, but debian-edu may still use it. Keep repo?
create repository autopartkit
end repository

create repository installation-report
end repository

create repository base-installer
  branch etch-beta1
  branch kernel-chooser
end repository

create repository bterm-unifont
end repository

create repository iso-scan
end repository

create repository rescue
end repository

create repository finish-install
end repository

create repository s390-netdevice
end repository

create repository s390-sysconfig-writer
end repository

create repository vmelilo-installer
end repository

create repository quik-installer
end repository

create repository zipl-installer
end repository

create repository colo-installer
end repository

create repository sibyl-installer
end repository

create repository localechooser
  branch languagechooser_ng
  branch countrychooser
  branch languagechooser
end repository

create repository kbd-chooser
end repository

create repository s390-dasd
end repository

create repository cdrom-checker
end repository

create repository silo-installer
end repository

create repository choose-mirror
end repository

create repository net-retriever
end repository

create repository srm-reader
end repository

create repository lowmem
end repository

create repository mdcfg
end repository

# TODO this was originally developed in people/zinoviev. Make sure
# that that part of the history is pulled in.
create repository console-setup
end repository

create repository userdevfs
end repository

create repository partitioner
end repository

create repository arcboot-installer
end repository

# TODO no longer in tree, remove?
create repository delo-installer
end repository

create repository partconf
end repository

create repository network-console
end repository

create repository linux-kernel-di-alpha-2.6
end repository
create repository linux-kernel-di-amd64-2.6
end repository
create repository linux-kernel-di-armel-2.6
end repository
create repository linux-kernel-di-hppa-2.6
end repository
create repository linux-kernel-di-i386-2.6
end repository
create repository linux-kernel-di-ia64-2.6
end repository
create repository linux-kernel-di-m68k-2.6
end repository
create repository linux-kernel-di-mips-2.6
end repository
create repository linux-kernel-di-mipsel-2.6
end repository
create repository linux-kernel-di-powerpc-2.6
end repository
create repository linux-kernel-di-s390-2.6
end repository
create repository linux-kernel-di-sparc-2.6
end repository
create repository linux-modules-di-alpha-2.6
end repository
create repository linux-modules-di-amd64-2.6
end repository
create repository linux-modules-di-armel-2.6
end repository
create repository linux-modules-di-hppa-2.6
end repository
create repository linux-modules-di-i386-2.6
end repository
create repository linux-modules-di-ia64-2.6
end repository
create repository linux-modules-di-m68k-2.6
end repository
create repository linux-modules-di-mips-2.6
end repository
create repository linux-modules-di-mipsel-2.6
end repository
create repository linux-modules-di-powerpc-2.6
end repository
create repository linux-modules-di-s390-2.6
end repository
create repository linux-modules-di-sparc-2.6
end repository
create repository kfreebsd-kernel-di-i386
end repository

create repository partman-auto
end repository
create repository partman-auto-crypto
end repository
create repository partman-auto-lvm
end repository
create repository partman-auto-raid
end repository
create repository partman-base
end repository
create repository partman-basicfilesystems
end repository
create repository partman-basicmethods
end repository
create repository partman-crypto
end repository
create repository partman-efi
end repository
create repository partman-ext2r0
end repository
create repository partman-ext3
end repository
create repository partman-jfs
end repository
create repository partman-lvm
end repository
create repository partman-md
end repository
create repository partman-multipath
end repository
create repository partman-newworld
end repository
create repository partman-palo
end repository
create repository partman-partitioning
end repository
create repository partman-prep
end repository
create repository partman-reiserfs
end repository
create repository partman-target
end repository
create repository partman-xfs
end repository

create repository lvmcfg
end repository

create repository nobootloader
end repository


create repository mountmedia
end repository

create repository media-retriever
end repository

create repository netcfg
end repository

create repository lilo-installer
end repository

create repository elilo-installer
end repository

create repository efi-reader
end repository

create repository grub-installer
end repository

create repository yaboot-installer
end repository

create repository prep-installer
end repository

create repository aboot-installer
end repository

create repository palo-installer
end repository

create repository cdrom-detect
end repository

create repository usb-discover
end repository

create repository debian-installer
  branch old-docs
end repository

create repository libdebian-installer
end repository

create repository kernel-wedge
  branch kernel-splitter
end repository

create repository rootskel
  branch cobalt-scripts
end repository

create repository rootskel-gtk
end repository

create repository debian-installer-utils
end repository

create repository debootstrap
end repository

create repository anna
end repository

match /trunk/packages/debootstrap/
  repository debootstrap
  branch master
end match

match /tags/packages/debootstrap/([^/]*)/
  repository debootstrap
  branch refs/tags/v\1
end match

match /
  min revision 134
  max revision 134
end match

match /
  min revision 378
  max revision 378
end match

# Move of trunk/tools to trunk/packages
match /
  min revision 11697
  max revision 11697
end match

# localechooser, countrychooser -> localechooser reorg, skip deletion
match /
  min revision 28304
  max revision 28304
end match

# prebaseconfig -> finish-install rename, skip deletion
match /
  min revision 37272
  max revision 37272
end match

# ddetect -> hwdetect rename, skip deletion
match /
  min revision 28494
  max revision 28494
end match

match /trunk/packages/mountfloppy
  repository mountmedia
  branch master
end match

match /trunk/packages/media-retriever
  repository media-retriever
  branch master
end match

match /tags/packages/mountfloppy/([^/]*)/
  repository mountmedia
  branch refs/tags/v\1
end match

# reorg of packages/arch/*
match /trunk/packages/arch/alpha/srm-reader/
  repository srm-reader
  branch master
end match
match /trunk/packages/arch/ia64/efi-reader/
  repository efi-reader
  branch master
end match
match /
  # throw away removal and addition of non-package directories
  min revision 11698
  max revision 11698
end match

# reorg of retriever directory
match /
  min revision 31388
  max revision 31389
end match

# removal of packages-build
match /
  min revision 31390
  max revision 31390
end match

# mklibs moved to people/waldi; mklibs-old moved from people/waldi to
# mklibs
match /
  min revision 49574
  max revision 49574
end match
match /people/waldi/packages/mklibs-old
  min revision 49575
  max revision 49575
end match

# s390-dasd and netdevice rename
match /
  min revision 51007
  max revision 51010
end match

# delo-installer removal
match /
  min revision 53807
  max revision 53807
end match

# rename of bugreporter-udeb to installation-report
match /trunk/packages/bugreporter-udeb
  # no trailing slash above, intentionally
  min revision 27586
  max revision 27586
end match

match /branches/(BRANCH-iproute|AMCK|pere|mrvn|cdebconf_external|cdebconf_capb_abort|debian_version_0_0_13_fixes|beta3|unlabeled-.*)
  # short lived CVS branches
end match

# TODO put this in a repo somewhere. scripts?
match /trunk/packages/kernel/massbuild.*
end match

# win32-loader started in people/rmh
match /people/rmh/win32-loader/
  repository win32-loader
  branch master
end match

# guess we should get busybox even tho it's in people
match /people/waldi/packages/busybox/
  repository busybox
  branch master
end match

match /branches/waldi.*/|/tags/cvs/
  # up to waldi
end match

# auto-install started life in people, but moved out.. get all
# old history
match /people/philh/packages/auto-install
  repository auto-install
  branch master
end match

# arm is not in tree any,ore
match /people/xam/kernel/linux-modules-di-arm-2.6/
end match

# linux-modules-* started life in people but moved out .. get all old
# history.
match /people/xam/kernel/linux-modules-di-([^/]*)-2.6/
  repository linux-modules-di-\1-2.6
  branch master
end match

match /people/
# up to individuals to re-add their stuff at end
end match

match /README|/trunk/(README|.cvsignore|tools/.cvsignore|retriever/.cvsignore|kernel/.cvsignore|tools/mips/.cvsignore|partman/.cvsignore)
  # skip; not part of anything
end match

# This is the packages/po explosion accident. Drop affected da.po file
# changes which bloat the repo size by gigabytes or so
# TODO: check result; make sure tags in the interval are not filtered
match /trunk.*/(po/sublevel4|cdebconf|nobootloader|flash-kernel|partman-(prep|newworld|target|ext2r0|efi|palo)|(silo|prep|quik|yaboot|sibyl|arcboot|vmelilo)-installer)/.*da.po
  min revision 55934
  max revision 57133
end match

match /trunk/retriever/choose_mirror
  # choose_mirror directory deletion during rename
  min revision 184
  max revision 184
end match

match /
  # deletion of wget retriever
  min revision 1078
  max revision 1078
end match

match /
  # deletion of nslu2-firmware-installer
  min revision 42183
  max revision 42183
end match

match /
  # deletion of file retriever
  min revision 5265
  max revision 5265
end match

match /
  # deletion of ppcdetect
  min revision 5570
  max revision 5570
end match

match /
  # deletion of pcmcia-udeb, supersceded by hw-detect
  min revision 5664
  max revision 5664
end match

match /trunk/kernel/linux-kernel-udeb
  # rename to linux-kernel-di
  min revision 4681
  max revision 4681
end match

match /
  # pcidetect rename
  min revision 583
  max revision 583
end match

# this branch was later removed, so don't keep
match /branches/packages/partman-base/etch-beta2
end match

match /tags/netboot-assistant/([^/]*)/
  repository netboot-assistant
  branch refs/tags/v\1
end match

match /tags/choose-mirror_([^/]*)/
  repository choose-mirror
  branch refs/tags/v\1
end match

match /tags/prebaseconfig_([^/]*)/
  repository finish-install
  branch refs/tags/v\1
end match

match /tags/packages/prebaseconfig/([^/]*)/
  repository finish-install
  branch refs/tags/v\1
end match

match /tags/main-menu/([^/]*)/
  repository main-menu
  branch refs/tags/v\1
end match

match /tags/anna/([^/]*)/
  repository anna
  branch refs/tags/v\1
end match

match /tags/tools/([^/]*)/([^/]*)
  repository \1
  branch refs/tags/v\2
end match

match /tags/(version_.*|debian_relesae_.*|debian_release_.*|debian_version_.*|release_.*|prebaseconfig_0_010|libdebian_installer_0_03|debian_versoni_0_13|cdebconf_.*|amck_.*|snapshot_.*|DEBIAN_RELEASE_.*|debian_vesion_0_013|VERSION_0_.*|upstream_version_.*|start|SNAPSHOT_.*)
  # cvs2svn messing up tags, skip
end match

match /
  # removal of "debian" branch in CVS
  min revision 3108
  max revision 3108
end match
match /
  # "debian" branch in CVS
  min revision 3134
  max revision 3134
end match
match /
  # "DEBIAN" branch in CVS
  min revision 3440
  max revision 3440
end match
match /
  # "DEBIAN" branch in CVS
  min revision 3445
  max revision 3445
end match
match /
  # "DEBIAN" branch in CVS
  min revision 3572
  max revision 3572
end match

match /
  # CVS to svn ugliness
  min revision 11599
  max revision 11599
end match
match /
  # CVS to svn ugliness
  min revision 11601
  max revision 11602
end match
match /
  # CVS to svn ugliness
  min revision 11607
  max revision 11607
end match

match /
  # tag removal
  min revision 13624
  max revision 13624
end match

match /
  # tag removal
  min revision 13551
  max revision 13551
end match

match /
  # Remove kernel-chooser.  The code is moved into kernel-installer from
  # base-installer.
  min revision 3389
  max revision 3389
end match

match /
  # disk-detect removal
  min revision 2975
  max revision 2975
end match

match /
  # niccfg removal
  min revision 576
  max revision 576
end match

match /trunk/packages/kernel/linux-kernel-di
  # removal
  min revision 12625
  max revision 12625
end match

match /trunk/packages/kernel/linux-kernel-di-386
  # removal
  min revision 12667
  max revision 12667
end match

match /trunk/packages/baseconfig-udeb
  min revision 33356
  max revision 33356
end match

match /trunk/tools/(yaboot|lilo|grub)-installer
  # Note no slash on end of line.
  # foo-installer removal (for move)
  min revision 11570
  max revision 11570
end match

# creation of tag container directories
match /
  min revision 11725
  max revision 11725
end match
match /
  min revision 11735
  max revision 11735
end match

match /trunk/tools/aboot-installer
  # Note no slash on end of line.
  # foo-installer removal (for move)
  min revision 11594
  max revision 11594
end match

match /
  # removal of 2.4 kernel hppa
  min revision 26055
  max revision 26055
end match

match /trunk/packages/retriever/choose-mirror
  # choose-mirror removal (for move)
  min revision 11806
  max revision 11806
end match

match /trunk/packages/kernel/linux-kernel-di-mipsel
  # merge/rename
  min revision 13730
  max revision 13730
end match

match /
  # partman rename
  min revision 29844
  max revision 29844
end match

match /
  # sysconfig-writer rename
  min revision 58489
  max revision 58490
end match

match /tags/packages/kernel/linux-kernel-di-(ia64|powerpc|sparc|mips|mipsel|arm|s390|m68k|alpha)
# creation of tag directories (note no trailing slash is intentional)
  min revision 11763
  max revision 11763
end match

# removal of old linux-kernel-di-*
match /
  min revision 35666
  max revision 35666
end match
match /
  min revision 37694
  max revision 37694
end match
match /
  min revision 38747
  max revision 38747
end match
match /
  min revision 39935
  max revision 39935
end match
match /
  min revision 39937
  max revision 39937
end match
match /
  min revision 40454
  max revision 40454
end match

match /
  # Remove unused packages kdetect, lmod-detect-pci, partkit and
  # selectdevice
  min revision 2098
  max revision 2099
end match

match /
  # tag fix
  min revision 15758
  max revision 15758
end match

match /
  # tag fix
  min revision 18760
  max revision 18760
end match

match /
  # tag fix
  min revision 22801
  max revision 22801
end match

match /
  # tag fix
  min revision 24810
  max revision 24810
end match

match /
  # tag fix
  min revision 28595
  max revision 28595
end match

match /
  # tag fix
  min revision 47091
  max revision 47091
end match

match /
  # tag fix
  min revision 47094
  max revision 47094
end match

match /
  # tag fix
  min revision 47187
  max revision 47187
end match

match /
  # tag put in wrong place; gets retagged to right place later, so skip
  min revision 45992
  max revision 45992
end match

match /
  # tag fix
  min revision 34476
  max revision 34476
end match

match /
  # tag fix
  min revision 34585
  max revision 34585
end match

match /
  # tag fix
  min revision 48585
  max revision 48585
end match

match /
  # tag fix
  min revision 51721
  max revision 51722
end match

# mistag and deletion
match /
  min revision 38377
  max revision 38377
end match
match /
  min revision 38380
  max revision 38380
end match

# mistag and deletion
match /
  min revision 58842
  max revision 58843
end match

# tag in wrong place
match /tags/cdebconf-entropy/0.1
  repository cdebconf-entropy
  branch refs/tags/v0.1
end match
# removal of tag in wrong place, add in right
match /
  min revision 35487
  max revision 35487
end match

# mistag and deletion
match /
  min revision 14211
  max revision 14211
end match
match /
  min revision 14215
  max revision 14215
end match

# mistag and deletion
match /
  min revision 38798
  max revision 38798
end match
match /
  min revision 38799
  max revision 38799
end match

# mistag and deletion
match /
  min revision 39156
  max revision 39156
end match
match /
  min revision 39155
  max revision 39155
end match

# omit mistag and deletion
match /tags/packages/arch/powerpc/yaboot-installer/0.20
  min revision 21303
  max revision 21303
end match
match /
  min revision 21303
  max revision 21303
end match

# TODO later
match /trunk/manual
end match
match /trunk/doc/manual
end match
match /tags/manual
end match
match /branches/manual
end match
# Note we allow /trunk/installer/manual to go into the debian-installer
# repo even though it was later moved out of that package, since it 
# historically was contained in there and is there in tags.

match /trunk/(build|installer)/
  repository debian-installer
  branch master
end match
match /trunk/
  # catch commit that added build.sh and test.sh, a very early build system
  min revision 239
  max revision 239
  repository debian-installer
  branch master
end match
match /trunk/
  # catch commit that removed build.sh and test.sh
  min revision 327
  max revision 327
  repository debian-installer
  branch master
end match
match /tags/installer/([^/]*)/
  repository debian-installer
  branch refs/tags/v\1
end match
match /trunk/doc/
# While I'd like to add this to the debian-installer repo to get the old
# history of a few files, it's difficult to do so because the files get
# added to the top level, not in a doc directory, and then the rev that
# that removed them (r11648) doesn't succeed in deleting them.
# So, only way I can see to preserve their history is to put them in a
# branch
  repository debian-installer
  branch old-docs
end match

# TODO scripts directory, put where?
match /trunk/scripts/
end match

# merged into rootskel
match /trunk/packages/arch/mipsel/cobalt-scripts/
  repository rootskel
  branch cobalt-scripts
end match
match /tags/packages/arch/mipsel/cobalt-scripts/.*/
  # tags would overlap, so not adding
end match
match /
  # deletion of cobalt-scripts directory
  min revision 56153
  max revision 56153
end match

# parted-tiny became partkit
# partkit seems not to have led to partitioner, or any
# other currently used package
# TODO?
match /trunk/tools/parted-tiny/
end match
match /trunk/tools/partkit/
end match

# arm kernel udeb package now obsolete, so don't create
match /(trunk|tags)/packages/kernel/linux-kernel-di-arm-2.6
end match
match /(trunk|tags)/packages/kernel/linux-modules-di-arm-2.6
end match

match /trunk/(packages|tools)/bugreporter-udeb/
  repository installation-report
  branch master
end match

match /branches/packages/udpkg/devel/
  repository udpkg
  branch devel
end match
match /
  # deletion of udpkg before reversion
  min revision 20742
  max revision 20742
end match

match /branches/packages/base-installer/etch-beta1/
  repository base-installer
  branch etch-beta1
end match

match /branches/packages/preseed/etch-beta2/
  repository preseed
  branch etch-beta2
end match

match /branches/packages/pkgsel/etch-beta3/
  repository pkgsel
  branch etch-beta3
end match

match /trunk/tools/pcmcia-udeb/
# TODO? just started pcmcia-cs, possibly add as old hw-detect branch?
end match

match /trunk/tools/ppcdetect/
# TODO? probably this code ended up in libdebian-installer
end match

# Does not seem to have led to anything current.
match /trunk/tools/selectdevice/
# TODO?
end match

# Does not seem to have led to anything current.
match /trunk/tools/kdetect/
# TODO?
end match

match /trunk/(packages/|)packages-build/
# TODO?
end match

match /trunk/tools/niccfg/
# TODO? became ethdetect, so put in hw-detect
end match

match /trunk/tools/lmod-detect-pci/
  repository pcidetect
  branch master
end match

match /trunk/(packages|tools)/prebaseconfig/
  repository finish-install
  branch master
end match

# ran base-config inside d-i, did not lead to current code
# TODO: maybe put in a branch of pkgsel?
match /trunk/(packages|tools)/baseconfig-udeb/
end match
match /tags/packages/baseconfig-udeb/([^/]*)/
end match

match /trunk/tools/(debian|\.no_dch_fix|README)
# was accidential import of files in the wrong place
end match

match /trunk/(packages/arch|tools)/s390/netdevice/
  repository s390-netdevice
  branch master
end match

match /trunk/packages/arch/s390/(s390-|)sysconfig-writer/
  repository s390-sysconfig-writer
  branch master
end match

match /trunk/(package/arch|tools)/alpha/srm-reader/
  repository srm-reader
  branch master
end match

match /trunk/(packages/arch|tools)/ia64/elilo-installer/
  repository elilo-installer
  branch master
end match

match /trunk/(packages/arch|tools)/ia64/efi-reader/
  repository efi-reader
  branch master
end match

match /trunk/(packages/arch|tools)/hppa/palo-installer/
  repository palo-installer
  branch master
end match

match /trunk/(packages/arch|tools)/sparc/silo-installer/
  repository silo-installer
  branch master
end match

match /trunk/(packages/arch|tools)/mips/arcboot-installer/
  repository arcboot-installer
  branch master
end match

match /trunk/(packages/arch|tools)/mipsel/delo-installer/
  repository delo-installer
  branch master
end match

match /trunk/(packages/arch|tools)/s390/zipl-installer/
  repository zipl-installer
  branch master
end match

match /trunk/(packages/arch|tools)/mipsel/colo-installer/
  repository colo-installer
  branch master
end match

match /trunk/(packages/arch|tools)/mips/sibyl-installer/
  repository sibyl-installer
  branch master
end match

match /trunk/packages/arch/powerpc/quik-installer/
  repository quik-installer
  branch master
end match

match /trunk/packages/arch/m68k/vmelilo-installer/
  repository vmelilo-installer
  branch master
end match
match /trunk/packages/arch/m68k
  # directory creation
  min revision 16141
  max revision 16141
end match

match /trunk/(packages/arch|tools)/s390/dasd/
  repository s390-dasd
  branch master
end match

match /trunk/(packages|tools)/ddetect/
  repository hw-detect
  branch master
end match

match /trunk/tools/kernel-chooser/
  repository base-installer
  branch kernel-chooser
end match

# these eventually merged into localechooser
match /trunk/(packages|tools)/countrychooser/
  repository localechooser
  branch countrychooser
  branch master
end match
match /trunk/(packages|tools)/languagechooser/
  repository localechooser
  branch languagechooser
end match
match /tags/packages/(languagechooser|countrychooser)/
# drop tags since there would be namespace overlaps
end match

# this was a well known branch, so keep it
match /branches/(languagechooser_ng)/
  repository localechooser
  branch languagechooser_ng
end match

# global d-i branches, not worth the effort and ugliness of having
# one branch per package (also tags)
# TODO check that these revs are right
match /branches/d-i/beta(2|3|4)/
end match
match /branches/beta2/
end match
match /branches/d-i/rc1/
end match
match /tags/beta4/
end match
match /tags/d-i/rc1
end match
match /tags/d-i/rc2
end match
match /tags/d-i/rc3
end match
match /tags/d-i/sarge
end match
match /tags/d-i/etch
end match
match /branches/d-i/sarge
end match
match /branches/d-i/etch
end match
match /branches/d-i/lenny
end match

# TODO this is an active branch so it would be good to add it to all
# relevant repos
match /branches/d-i/kfreebsd
end match

# TODO? scripts not currently being converted
match /tags/scripts
end match

# TODO disk-detect appears to have been replaced by hw-detect-full in
# ddetect, which then became hw-detect, but disk-detect itself may have
# been a separate package?
match /trunk/tools/disk-detect/
  repository hw-detect
  branch master
end match

match /trunk/(packages/arch|tools)/i386/grub-installer/
  repository grub-installer
  branch master
end match

match /trunk/packages/arch/i386/win32-loader/
  repository win32-loader
  branch master
end match

match /trunk/(packages/arch|tools)/alpha/aboot-installer/
  repository aboot-installer
  branch master
end match

match /trunk/(packages/arch|tools)/i386/lilo-installer/
  repository lilo-installer
  branch master
end match

match /trunk/(packages/arch|tools)/powerpc/yaboot-installer/
  repository yaboot-installer
  branch master
end match

match /trunk/packages/arch/powerpc/prep-installer/
  repository prep-installer
  branch master
end match

match /trunk/kernel-splitter/
  repository kernel-wedge
  branch kernel-splitter
end match

match /trunk/(packages/|)kernel/kernel-wedge/
  repository kernel-wedge
  branch master
end match

match /trunk/kernel-image-di/
# TODO? Was split into kernel-image-di-$arch
end match

# TODO?
# This started as -udeb and was renamed to -di, but what then?
match /trunk/kernel/linux-kernel-udeb/
end match
match /trunk/kernel/linux-kernel-di/
end match
match /trunk/packages/kernel/linux-kernel-di/
end match
match /tags/(packages/|)kernel/linux-kernel-di/([^/]*)/
#  repository TODO
#  branch refs/tags/v\1
end match

# old 2.4 kernel stuff, could be in separate repos from the 2.6 stuff, but
# probably not worth keeping
match /(trunk|tags)(/packages|)/kernel/linux-kernel-di-(386|i386|arm|hppa|mips|mipsel|ia64|sparc|powerpc|s390|m68k|alpha)/
end match

# did not survive to current day, so not keeping
match /trunk/packages/kernel/linux-modules-nonfree-di-i386-2.6
end match

# This was very shortlived and then ppc64 support was added
# to the regular powerpc udeb, so keeping it does not seem necessary.
# Note, trailing slash omitted intentionally to catch deletion too.
match /trunk/packages/kernel/linux-kernel-di-ppc64-2.6
end match

match /trunk/packages/kernel/linux-kernel-di-([^/]*)-2\.6/
  repository linux-kernel-di-\1-2.6
  branch master
end match
match /trunk/packages/kernel/kfreebsd-kernel-di-i386/
  repository kfreebsd-kernel-di-i386
  branch master
end match

match /trunk/packages/kernel/linux-modules-di-([^/]*)-2\.6/
  repository linux-modules-di-\1-2.6
  branch master
end match

match /tags/packages/kernel/([^/]*)/([^/]*)
  repository \1
  branch refs/tags/v\2
end match

match /trunk/libd-i/
  repository libdebian-installer
  branch master
end match

match /trunk/kernel/linux-kernel-di-([^/]*)/
  repository linux-kernel-di-\1
  branch master
end match

match /trunk/utils/
  repository debian-installer-utils
  branch master
end match

match /trunk/(packages/|)retriever/choose[_-]mirror/
  repository choose-mirror
  branch master
end match

match /trunk/(packages/|)partman/partman/
  repository partman-base
  branch master 
end match

# partman-dmraid is no longer used, but partman-multipath is derived from
# it, so store its history there
match /trunk/packages/partman/partman-dmraid/
  repository partman-multipath
  branch master 
end match
match /
  # deletion of partman-dmraid directory
  min revision 56352
  max revision 56352
end match

match /trunk/packages/partman/partman-([^/]*)/
  repository partman-\1
  branch master 
end match

match /trunk/retriever/wget/
  repository net-retriever
  branch master
end match

match /trunk/(packages/|)retriever/floppy/
  repository media-retriever
  branch master
end match

match /trunk/(packages/|)retriever/([^/]*)/
  repository \2-retriever
  branch master
end match

# leaving in svn
match /trunk/packages/po
end match

match /trunk/packages/base-config-prep
# rename to sarge-support
  min revision 35264
  max revision 35264
end match

match /trunk/packages/base-config-prep/
  repository sarge-support
  branch master
end match

# creation of arch/arm
match /trunk/packages/arch/arm
  min revision 36369
  max revision 36369
end match

# this was the beginning of what eventually became flash-kernel
match /trunk/packages/arch/arm/nslu2-firmware-installer/
  repository flash-kernel
  branch master
end match
match /tags/packages/arch/arm/nslu2-firmware-installer/([^/]*)/
  repository flash-kernel
  branch refs/tags/v\1
end match

# symlink-installer was renamed to glantank, and then
# got incorporated into flash-kernel, so preserve that history
# via a branch
match /trunk/packages/symlink-installer/
  repository flash-kernel
  branch glantank-installer
end match
match /trunk/packages/arch/arm/glantank/
  repository flash-kernel
  branch glantank
end match
match /
  # rename rev
  min revision 40957
  max revision 40957
end match
match /
  # rename rev
  min revision 57552
  max revision 57552
end match

# autopartkit removal
match /
  min revision 52272
  max revision 52272
end match

# floppy-retriever removal after rename
match /
  min revision 53836
  max revision 53836
end match

# win32-loader move
match /
  min revision 52137
  max revision 52137
end match
# win32-loader tags move
match /
  min revision 52138
  max revision 52138
end match

match /trunk/(packages/|)partman/doc/
# TODO? move to the repo that holds installer/doc
end match
match /trunk/packages/partman/doc
# This is the rev that deletes partman/doc
  min revision 21442
  max revision 21442
end match

match /trunk/(packages/arch|tools)/s390/s390-netdevice/
  repository s390-netdevice
  branch master
end match

match /trunk/(packages/arch|tools)/s390/s390-dasd/
  repository s390-dasd
  branch master
end match

match /trunk/(packages|tools)/floppy-retriever/
  repository media-retriever
  branch master
end match

# generic rules for debian-installer repo
match /trunk/(packages|tools)/([^/]*)/
  repository \2
  branch master
end match

match /tags/packages/retriever/floppy/([^/]*)/
  repository media-retriever
  branch refs/tags/v\2
end match

match /tags/packages/retriever/(floppy|net|cdrom)/([^/]*)/
  repository \1-retriever
  branch refs/tags/v\2
end match

match /tags/packages/retriever/([^/]*)/([^/]*)/
  repository \1
  branch refs/tags/v\2
end match

match /tags/packages/partman/partman-dmraid/([^/]*)/
  repository partman-multipath
  branch refs/tags/v\1
end match

match /tags/packages/partman/partman/([^/]*)/
  repository partman-base
  branch refs/tags/v\1
end match

match /tags/win32-loader/([^/]*)/
  repository win32-loader
  branch refs/tags/v\1
end match

match /tags/packages/partman/partman-([^/]*)/([^/]*)/
  repository partman-\1
  branch refs/tags/v\2
end match

match /tags/packages/arch/s390/dasd/([^/]*)/
  repository s390-dasd
  branch refs/tags/v\1
end match

match /tags/packages/arch/s390/netdevice/([^/]*)/
  repository s390-netdevice
  branch refs/tags/v\1
end match

match /tags/packages/arch/s390/sysconfig-writer/([^/]*)/
  repository s390-sysconfig-writer
  branch refs/tags/v\1
end match

# dropping tags for glantank since it is stored as a branch
# of the flash-kernel repo, and tags could conflict.
match /tags/packages/arch/arm/glantank/([^/]*)/
end match

# win32-loader had two tags that contain '~', which is not allowed,
# so remove it
match /tags/packages/arch/i386/win32-loader/0.6.0\~pre(2|3)/
  repository win32-loader
  branch refs/tags/v0.6.0.pre\1
end match

match /tags/packages/arch/[^/]*/([^/]*)/([^/]*)/
  repository \1
  branch refs/tags/v\2
end match

match /tags/packages/ddetect/([^/]*)/
  repository hw-detect
  branch refs/tags/v\1
end match

match /tags/packages/bugreporter-udeb/([^/]*)/
  repository installation-report
  branch refs/tags/v\1
end match

# tzsetup has some epoched tags; as git does not allow colon standard
# practice is to remove the epoch. In this case, there are no duplicates
# created doing so; the epoch was only added for ubuntu compatability.
# apt-setup has epoched tags; removing the epoch is ok due to luck with
# versions. busybox has been epoched forever, so drop that
match /tags/packages/(apt-setup|tzsetup|busybox)/1\:([^/]*)/
  repository \1
  branch refs/tags/v\2
end match

match /tags/packages/floppy-retriever/([^/]*)/
  repository media-retriever
  branch refs/tags/v\1
end match

match /tags/packages/([^/]*)/([^/]*)/
  repository \1
  branch refs/tags/v\2
end match

match /trunk/partman/partman/
  repository partman-base
  branch master 
end match

match /trunk/partman/partman-([^/]*)/
  repository partman-\1
  branch master 
end match

match /trunk/([^/]*)/
  repository \1
  branch master
end match
