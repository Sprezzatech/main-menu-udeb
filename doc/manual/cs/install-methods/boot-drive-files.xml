<?xml version="1.0" encoding="ISO-8859-2"?>
<!-- $Id: boot-drive-files.xml,v 1.1 2003/11/14 05:20:01 mck Exp $ -->
<!-- original version: 1.6 -->

 <sect1 condition="bootable-disk" id="boot-drive-files">
 <title>Pøíprava souborù pro zavedení z pevného disku</title>
<para>

Instalaèní systém mù¾ete zavést ze zavádìcích souborù umístìných na
stávající oblasti pevného disku buï pøímo BIOSem, nebo z pùvodního
operaèního systému.

</para><para>

Mù¾ete tak dosáhnout ,,èistì sí»ové'' instalace a vyhnout se
vzru¹ující loterii pøi pou¾ití spousty nespolehlivých disket 
(<xref linkend="unreliable-floppies"/>), pota¾mo neskladných
CD.

</para><para arch="i386">

Instalaèní program nelze zavést ze souborù umístìných na oblasti
NTFS.

</para><para arch="powerpc"> 

Instalaèní program nemù¾ete zavést ze souborù umístìných na oblasti
HFS+. Tento souborový systém mohou pou¾ívat poèítaèe s MacOS System
8.1 a novìj¹í. NewWorld PowerMacy pou¾ívají HFS+ standardnì. Zda tento
souborový systém pou¾íváte zjistíte tak, ¾e na pøíslu¹né oblasti
vyberete <userinput>Get Info</userinput>. Souborové systémy HFS se
zobrazí jako <userinput>Mac OS Standard</userinput>, zatímco HFS+
ukazují <userinput>Mac OS Extended</userinput>.
Abyste si mohli vymìòovat soubory mezi Linuxem a MacOS, musíte mít
oblast typu HFS (napøíklad pro instalaèní soubory).

</para><para arch="powerpc"> 

Zavedení instalace z pevného disku se li¹í podle toho, jestli máte
novìj¹í (NewWorld) nebo star¹í (OldWorld) Macintosh.

</para>

  <sect2 arch="i386" id="files-lilo">
  <title>Zavedení instalaèního systému programem
  <command>LILO</command></title>
<para>

Tato èást vysvìtluje, jak zavést instalaci z existující linuxové
distribuce za pomoci programu <command>LILO</command>.

</para><para>

<command>LILO</command> toti¾ kromì jádra umí zavést do pamìti také
obraz disku. Ten pak mù¾ete pou¾ít jako koøenový souborový systém.

</para><para>

Z debianího archivu si stáhnìte následující dva (resp. tøi) soubory a
pøesuòte je na vhodné místo (napøíklad do
<filename>/boot/newinstall/</filename>).

<itemizedlist>
<listitem><para>

<filename>linux.bin</filename> (vhodné jádro)

</para></listitem>
<listitem><para>

<filename>root.bin</filename> (koøenový obraz)

</para></listitem>
<listitem><para>

<filename>drivers.tgz</filename> (volitelné jaderné moduly)

</para></listitem>
</itemizedlist>

Rekurzivnì rozbalte v¹e z archivu <filename>drivers.tgz</filename> a
zapamatujte si název oblasti (napø. <filename>/dev/hda4</filename>),
kam jste umístili takto získané moduly (soubory s pøíponou
<filename>.o</filename>).

</para><para>

Samozøejmì ¾e mù¾ete <filename>linux.bin</filename> a
<filename>drivers.tgz</filename> nahradit svými vlastními verzemi
(napøíklad pøidáte modul pro svou exotickou sí»ovou kartu).
U vlastního jádra nezapomeòte zakompilovat podporu pro
<filename>RAMDISK</filename> a <filename>initrd</filename>
<emphasis>pøímo</emphasis> do jádra. Seznam dal¹ích po¾adavkù na jádro
naleznete na zaèátku <xref linkend="rescue-replace-kernel"/>.

</para><para>

Nastavení <command>LILA</command> popisuje
<xref linkend="boot-initrd"/>.

</para>
  </sect2>


  <sect2 arch="powerpc" id="files-oldworld">
  <title>Zavedení instalátoru z disku na OldWorld Macích</title>
<para>

Program <application>miBoot</application>, který se pou¾ívaná pøi
instalaci z diskety <filename>boot-floppy-hfs</filename>, se bohu¾el
velmi ¹patnì pøizpùsobuje pro zavádìní z pevného disku. Z tohoto
dùvodu je lep¹í pou¾ít program <application>BootX</application>, který
se spou¹tí z MacOS, podporuje zavádìní souborù z pevného disku a po
instalaci Debianu umí duální zavádìní MacOS a Linuxu.
Zdá se, ¾e <command>quik</command> na stroji Performa 6360 neumí
nastavit zavádìní z pevného disku, tak¾e
<application>BootX</application> musíte pou¾ít tak jako tak.

</para><para>

Z <ulink url="&url-powerpc-bootx;"></ulink> nebo z debianího zrcadla z
adresáøe
<filename>dists/woody/main/disks-powerpc/current/powermac</filename>
si stáhnìte program <application>BootX</application> a pomocí
<application>Stuffit Expander</application>u jej rozbalte. V balíèku
se nachází prázdná slo¾ka nazvaná <filename>Linux Kernels</filename>.
Do této slo¾ky nakopírujte soubory <filename>linux.bin</filename> a
<filename>ramdisk.image.gz</filename> ze slo¾ky 
<filename>disks-powerpc/current/powermac</filename>.
Slo¾ku <filename>Linux Kernels</filename> pak pøesuòte do aktivní
slo¾ky systému (active System Folder).

</para>
  </sect2>

  <sect2 arch="powerpc" id="files-newworld">
  <title>Zavedení instalátoru z disku na NewWorld Macích</title>
<para>

NewWorld PowerMacy podporují zavádìní ze sítì, z ISO9660 CD-ROM
nebo zavedení binárních ELF souborù pøímo z pevného disku.
Tyto poèítaèe budou zavádìt Linux zavadìèem <command>yaboot</command>,
který podporuje zavedení jádra a RAMdisku pøímo z ext2 oblasti stejnì
jako duální zavádìní s MacOS. Zavádìní z pevného disku je dùle¾ité pro
novìj¹í poèítaèe bez disketové mechaniky. <command>BootX</command>
není na NewWorld PowerMacích podporován, tak¾e ho nepou¾ívejte.

</para><para>

Následující ètyøi soubory <emphasis>zkopírujte</emphasis> (nepøesuòte)
do koøenového adresáøe va¹eho disku. (Toho mù¾ete docílit, kdy¾
stisknete <keycap>option</keycap> a pøetáhnete soubory na ikonu
pevného disku). 

<itemizedlist>
<listitem><para>

<filename>linux.bin</filename>

</para></listitem>
<listitem><para>

<filename>root.bin</filename> (ze slo¾ky images-1.44)

</para></listitem>
<listitem><para>

<filename>yaboot</filename>

</para></listitem>
<listitem><para>

<filename>yaboot.conf</filename>

</para></listitem>
</itemizedlist>

</para><para>

Poznamenejte si èíslo diskové oblasti, kam jste soubory nakopírovali.
Napøíklad v programu <command>pdisk</command> pøíkazem L.
Toto èíslo budete potøebovat pro Open Firmware a¾ budete zavádìt
instalaèní systém.

</para><para>

Instalaèní systém zavedete podle <xref linkend="boot-newworld"/>.

</para>
  </sect2>
 </sect1>
