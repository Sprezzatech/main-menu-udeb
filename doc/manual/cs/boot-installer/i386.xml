<?xml version="1.0" encoding="ISO-8859-2"?>
<!-- $Id: i386.xml,v 1.3 2004/01/15 17:15:45 mck-guest Exp $ -->
<!-- original version: 1.7 -->

  <sect2 arch="i386"><title>Zavedení z CD-ROM</title>

&boot-installer-intro-cd.xml;

<para>

Mo¾ná budete muset nastavit hardware podle
<xref linkend="boot-dev-select"/>. Vlo¾te CD-ROM do mechaniky a
restartujte. Systém by mìl nabìhnout a mìl by se zobrazit prompt
<prompt>boot:</prompt>.  Zde mù¾ete zadat zavádìcí parametry, nebo
prostì zmáèknout &enterkey;.

</para><para>

Disk 1 z oficiální sady debianích CD-ROM pro &arch-title; se vám na
vìt¹inì poèítaèù ohlásí promptem <prompt>boot:</prompt>. Klávesou
<keycap>F3</keycap> si mù¾ete zobrazit seznam variant jádra, které
mù¾ete zavést. Do promptu <prompt>boot:</prompt> pak staèí napsat
název varianty (idepci, vanilla, compact, bf24) následovaný klávesou
&enterkey;.

</para><para>

Pokud vá¹ poèítaè neumo¾òuje zavedení rùzných jader z prvního CD
(programem <command>isolinux</command>), vlo¾te do mechaniky jiný
disk. Vypadá to, ¾e do této kategorie spadá vìt¹ina SCSI mechanik,
tak¾e jejich majitelé musí pou¾ít nìkteré ze zbývajících CD.

</para><para>

Ka¾dé z CD 2 a¾ 5 obsahuje jinou variantu jádra. (Výbìrem vhodného
jádra se zabývá <xref linkend="kernel-choice"/>.)

<variablelist>
<varlistentry>
<term>CD 1</term><listitem><para>

Umo¾ní výbìr jádra (pokud ¾ádné nevyberete, standardnì se zavede
varianta <quote>idepci</quote>).

</para></listitem></varlistentry>
<varlistentry>
<term>CD 2</term><listitem><para>

Zavede jádro <quote>vanilla</quote>.

</para></listitem></varlistentry>
<varlistentry>
<term>CD 3</term><listitem><para>

Zavede jádro <quote>compact</quote>.

</para></listitem></varlistentry>
<varlistentry>
<term>CD 4</term><listitem><para>

Zavede jádro <quote>idepci</quote>.

</para></listitem></varlistentry>
<varlistentry>
<term>CD 5</term><listitem><para>

Zavede jádro <quote>bf2.4</quote>.

</para></listitem></varlistentry>

 </variablelist>

</para><para>

Jestli¾e vá¹ poèítaè nepodporuje zavádìní z CD-ROM, nic se nedìje.
Instalaci mù¾ete spustit z DOSu pøíkazem
<command>E:\install\boot.bat</command>, kde <userinput>E:</userinput>
nahradíte písmenem své CD mechaniky. Poté pøeskoète na
<xref linkend="init-config"/>.

</para><para>

Pokud budete instalovat z oblasti FAT, mù¾ete zavést instalaèní
systém z pevného disku. Informace o této metodì naleznete v
<xref linkend="install-from-dos"/>.

</para><para>

Jádro <quote>bf2.4</quote> podporuje i CD-ROM mechaniky na USB a
FireWire zaøízení podporovaná ovladaèi ohci1394 a sbp2.

</para>
  </sect2>



  <sect2 arch="i386" id="install-from-dos">
  <title>Zavedení z DOSové oblasti</title>

&boot-installer-intro-hd.xml;

<para>

Zaveïte operaèní systém DOS (ne Windows) bez jakýchkoliv ovladaèù.
Toho dosáhnete stiskem klávesy <keycap>F8</keycap> ve správný moment
bìhem zavádìní. (Pro jistotu vyberte mo¾nost ,,Pøíkazová øádka v
bezpeèném módu''.) Pøesuòte se do podadresáøe s preferovanou variantou
jádra, napø.

<informalexample><screen>

cd c:\current\compact

</screen></informalexample>.  

a spus»te dávku <command>install.bat</command>. Jádro nahraje a spustí
instalaèní systém.

</para><para>

V souèasné dobì existuje problém (#142421) s programem loadlin, který
znemo¾òuje pou¾ít <filename>install.bat</filename> s variantou jádra
bf2.4. Pøíznakem tohoto problému je chybová hlá¹ka
<computeroutput>invalid compressed format</computeroutput>.

</para>
  </sect2>


  <sect2 arch="i386" id="boot-initrd">
  <title>Zavedení z Linuxu programem <command>LILO</command></title>
<para>

Jedinou øádkou <emphasis>initrd=</emphasis> v souboru
<filename>/etc/lilo.conf</filename> nastavíte dvì dùle¾ité vìci:

<itemizedlist>
<listitem><para>

øeknete zavadìèi <command>LILO</command>, ¾e má pøi zavádìní pou¾ít
soubor <filename>root.bin</filename> jako RAMdisk,

</para></listitem>
<listitem><para>

øeknete jádru <filename>linux.bin</filename>, ¾e má tento RAMdisk
pou¾ít jako svou koøenovou oblast.

</para></listitem>
</itemizedlist>

Následuje pøíklad <filename>/etc/lilo.conf</filename>:

</para><para>

<informalexample><screen>

image=/boot/newinstall/linux.bin
       label=newinstall
       initrd=/boot/newinstall/root.bin

</screen></informalexample>

Obvyklá volba <emphasis>root=/dev/hdXYZ</emphasis> v souboru
<filename>lilo.conf</filename> bude tentokrát ignorována.
Pokud vás zajímají pikantní detaily, prozkoumejte manuálové stránky
<citerefentry> <refentrytitle>initrd</refentrytitle>
<manvolnum>4</manvolnum> </citerefentry> a <citerefentry>
<refentrytitle>lilo.conf</refentrytitle> <manvolnum>5</manvolnum>
</citerefentry>. Nyní staèí spustit <userinput>lilo</userinput>
a restartovat poèítaè.

</para><para>

Magii okolo <filename>initrd</filename> mù¾ete bìhem zavádìní
vystopovat na nìkolika místech.


<itemizedlist>
<listitem><para>

Je¹tì pøed zavedením jádra zobrazí <command>LILO</command> øádku
<computeroutput>Loading
<replaceable>názevobrazu</replaceable>......</computeroutput> s mnohem
více teèkami ne¾ obvykle. To je stav zavádìní RAMdisku.

</para></listitem>
<listitem><para>

Nìkde kolem hlá¹ky o inicializaci hodin se zobrazí øádka
<computeroutput>RAM disk driver initialized</computeroutput>, která
sdìluje, ¾e jádro podporuje RAMdisk.

</para></listitem>
<listitem><para>

A koneènì po kontrole oblastí se objeví hlá¹ka
<computeroutput>RAMDISK: ext2 filesystem found at block 0</computeroutput>.
(Pokud ne, tak jádro <filename>initrd</filename> nepodporuje.)

</para></listitem>
</itemizedlist>

</para><para condition="FIXME">

Nyní byste mìli vidìt spu¹tìný instalaèní systém. Pokud nepou¾íváte
¾ádné výmìnné médium, mìli byste se <emphasis>pøed</emphasis>
rozdìlením disku peèlivì pøesvìdèit, ¾e va¹e sí»ové pøipojení opravdu
funguje. Mo¾ná potøebujete nahrát nìjaké moduly (tøeba pro sí»ovou
kartu). Nyní je potøeba <emphasis>neposlouchat</emphasis>
<command>debian-installer</command> a pøeskoèit rovnou ke kroku
<userinput>Pøipojit døíve inicializovanou oblast</userinput>. Zde si
pøipojíte oblast, na kterou jste rozbalili jaderné moduly z
<filename>drivers.tgz</filename> (<xref linkend="files-lilo"></xref>).

</para>

<!-- Ideally, configure Device Driver Modules should support the
following (insmod-ing from the hard-disk) and not only from a floppy.
That would avoid the need to open a shell -->

<para>

Pøepnìte se na druhou konzolu (viz <xref linkend="shell"/>) a v adresáøi
<filename>/target</filename> vyhledejte potøebné ovladaèe. Ty pak
nahrajete pøíkazem <userinput>insmod</userinput>.

</para><para>

Vra»te se zpìt do <command>debian-installer</command>, z menu vyberte
krok <xref linkend="configure-network"/> a
zkuste <userinput>ping</userinput>nout své oblíbené zrcadlo s Debianem.
Povedlo se? Gratulujeme!

</para><para>

Po pøíkazu <userinput>Odpojit oblast</userinput> se mù¾ete vrátit zpìt
k dìlení disku a pokraèovat jako obvykle. Nyní dokonce mù¾ete (i kdy¾
je to tro¹ku riskantní) úplnì smazat pøedchozí oblasti a zaèít s
èistým diskem. Jediné riziko je v tom, ¾e po krátkou dobu bìhem
instalace nebudete moci z disku zavést systém.

</para>
  </sect2>


  <sect2 arch="i386"><title>Zavedení z disket</title>
<para>

Pøedpokládáme, ¾e jste si ji¾ potøebné obrazy stáhli a podle
<xref linkend="create-floppy"/> vytvoøili pøíslu¹né diskety.
Jestli¾e je to nutné, mù¾ete si záchrannou disketu pøizpùsobit,
viz <xref linkend="rescue-replace-kernel"/>.

</para><para>

Zavedení ze záchranné diskety je jednoduché. Zasuòte disketu do
primární disketové jednotky a normálnì systém vypnìte a znovu
zapnìte.

</para><para>

Instalace z mechaniky LS-120 (ATAPI verze) je podporovaná pouze
jádry 2.4 a novìj¹ími. Navíc musíte jádru zadat virtuální umístìní
disketové mechaniky. Docílíte toho zavádìcím parametrem
<emphasis>root=</emphasis>, kterému zadáte zaøízení, na které
ovladaè ide-floppy pøipojí mechaniku LS-120. Napøíklad pokud ji
máte pøipojenou jako první IDE zaøízení na druhém kabelu, zadáte
<userinput>linux.bin root=/dev/hdc</userinput>.

</para><para>

Poznamenejme, ¾e na nìkterých stanicích kombinace kláves
<keycombo><keycap>Control</keycap> <keycap>Alt</keycap>
<keycap>Delete</keycap></keycombo> neprovede korektní reset poèítaèe a
je nutné pou¾ít <quote>tvrdý restart</quote>. Pokud instalujete z
existujícího operaèního systému (napø. na stanici, kde je nainstalován
DOS), pak nemáte na výbìr. V ostatních pøípadech pou¾ijte <quote>tvrdý
restart</quote> bìhem zavádìní.

</para><para>

Kontrolka disketové mechaniky se rozsvítí a mìla by se zobrazit
uvítací obrazovka konèící výzvou <prompt>boot:</prompt>.

</para><para>

Pokud zavádíte systém alternativní cestou, postupujte podle instrukcí
a poèkejte, a¾ se objeví výzva <prompt>boot:</prompt>.
Pøi instalaci z disket o kapacitì men¹í ne¾ 1,44 MB
<phrase condition="rescue-needs-root-disk">
(nebo vlastnì kdykoliv pøi instalaci z disket)
</phrase> musíte pou¾ít zavádìní s RAMdiskem a navíc budete je¹tì
potøebovat disketu s koøenovým svazkem souborù.

</para><para>

Kdy¾ je na obrazovce výzva <prompt>boot:</prompt>, mù¾ete si buï
pøeèíst informace dostupné po stisknutí funkèních kláves
<keycap>F1</keycap> a¾ <keycap>F10</keycap>, nebo rovnou spustit
zavádìní systému.

</para><para>

U¾iteèné informace o zavádìcích parametrech jsou dostupné pod
klávesami <keycap>F4</keycap> a <keycap>F5</keycap>. Jestli¾e chcete
zadat nìjaké parametry, nezapomeòte pøed nimi uvést název zavádìcí
metody (napøíklad <userinput>linux floppy=thinkpad</userinput>). Pokud
pouze zmáèknete &enterkey;, je to jako byste napsali
<userinput>linux</userinput> bez dal¹ích doplòujících parametrù.

</para><para>

Disketa se nazývá záchranná, ponìvad¾ ji mù¾ete pou¾ít i v nouzové
situaci, kdy by vá¹ nainstalovaný systém ne¹el spustit z pevného
disku. Tuto disketu byste si radìji mìli schovat i po zdárném
dokonèení instalace. Více informací o pou¾ití záchranné diskety
získáte klávesou <keycap>F3</keycap>.

</para><para>

Po stisknutí &enterkey; se objeví hlá¹ení
<computeroutput>Loading...</computeroutput> následované
<computeroutput>Uncompressing Linux...</computeroutput> a nìkolika
stranami o hardwaru va¹eho poèítaèe. O této fázi zavádìní pojednává
<xref linkend="kernel-msgs"/>.

</para><para>

Pokud zvolíte nestandardní zavádìcí postup
(napø. <quote>ramdisk</quote> nebo <quote>floppy</quote>), budete
vyzváni k vlo¾ení diskety s koøenovým svazkem. A¾ vlo¾íte disketu do
první mechaniky, zmáèknìte &enterkey;. (Volba <quote>floppy1</quote>
ète disketu z druhé disketové mechaniky.)

</para><para>

Po zavedení ze záchranné diskety je po¾adována koøenová
disketa. Vlo¾te ji do mechaniky, zmáèknìte &enterkey; a poèkejte, a¾
se její obsah natáhne do pamìti a automaticky se spustí program
<command>debian-installer</command>.

</para>
  </sect2>
  
  <sect2 arch="i386"><title>Zavádìcí parametry pro i386</title>
<para>

Pokud zavádíte systém ze záchranné diskety nebo z CD-ROM, objeví se
vám tzv. boot prompt (zavádìcí výzva), <prompt>boot:</prompt>.
Podrobnosti, jak pou¾ívat zavádìcí parametry se záchrannou disketou,
jsou k nalezení v <xref linkend="boot-from-floppies"/>.
Pokud systém zavádíte ze stávajícího operaèního systému, budete muset
pou¾ít jiné zpùsoby, jak parametry nastavit. Napøíklad pøi instalaci z
DOSu lze parametry zmìnit editací souboru
<filename>install.bat</filename>.

</para><para>

Nìkteré systémy mají disketové mechaniky s invertovanými DCL. Pokud
pøi ètení z mechaniky zaznamenáte chyby a pøitom jste si jisti, ¾e
disketa je dobrá, zkuste parametr
<userinput>floppy=thinkpad</userinput>.

</para><para>

Na nìkterých systémech jako napø. IBM PS/1 nebo ValuePoint, které
pou¾ívají øadièe diskù ST-506, asi nebude øadiè IDE rozpoznán
korektnì. Nejprve pokud mo¾no vyzkou¹ejte zavést systém beze zmìny
parametrù. Pokud nebude disk rozpoznán, zkuste zadat geometrii disku
(poèet cylindrù, hlav a sektorù) pomocí parametru:
<userinput>hd=<replaceable>cylindry</replaceable>,<replaceable>hlavy</replaceable>,<replaceable>sektory</replaceable></userinput>.

</para><para>

Jestli¾e máte velmi starý poèítaè a jádro se zasekne po hlá¹ce
<computeroutput>Checking 'hlt' instruction...</computeroutput>, potom
by mohl pomoci parametr <userinput>no-hlt</userinput>, kterým zaká¾ete
provádìní tohoto testu.

</para><para>

Jestli¾e je obraz na obrazovce bìhem zavádìní jádra
<quote>divný</quote>, jako tøeba èistì bílý, naprosto èerný, nebo se
zobrazuje barevné <quote>smetí</quote>, máte problematickou grafickou
kartu, která se neumí správnì pøepnout do grafického re¾imu. V takovém
pøípadì pomù¾e zavádìcí parametr
<userinput>video=vga16:off</userinput>, kterým vypnete grafickou
konzolu. Bìhem instalace se v¹ak nezobrazí výzva pro výbìr jazyka a
celá instalace probìhne pouze v angliètinì. Zavádìcí parametry
popisuje <xref linkend="boot-parms"/>.

</para>
  </sect2>


  <sect2 arch="i386">
  <title>Systém zamrzne bìhem konfigurování PCMCIA</title>

<para>

Nìkteré modely notebookù firmy DELL jsou známé tím, ¾e se zhroutí,
kdy¾ automatické rozpoznávání PCMCIA zaøízení pøistoupí na urèité
hardwarové adresy. Pokud se u vás tento problém projevuje, mù¾ete
zkusit následující okliku:

<itemizedlist>
<listitem><para>

pøipravte koøenový souborový systém a nainstalujte jádro s moduly, ale
je¹tì nespou¹tìjte konfiguraci PCMCIA zaøízení.

</para></listitem>
<listitem><para>

pøepnìte se do pøíkazového øádku (viz <xref linkend="shell"/>)

</para></listitem>
<listitem><para>

spus»te pøíkaz:
<userinput>echo exclude port 0x810-0x81f >>
/target/etc/pcmcia/config.opts</userinput>

</para></listitem>
<listitem><para>

vra»te se do hlavního menu a pokraèujte konfigurací PCMCIA

</para></listitem>
</itemizedlist>

</para>
  </sect2>

  <sect2 arch="i386">
  <title>Systém zamrzne bìhem nahrávání USB modulù</title>
<para>

Varianta jádro <quote>bf2.4</quote> se standardnì sna¾í nahrát
ovladaèe pro USB a konkrétnì pro USB klávesnici, aby umo¾nila
instalaci u¾ivatelùm s nestandardními USB klávesnicemi. Bohu¾el
existují porouchané USB systémy, na kterých se ovladaè pøi nahrávání
zasekne. Obejít je mù¾ete tím, ¾e problémový USB øadiè deaktivujete v
BIOSu základní desky. Jinou mo¾ností je zavádìcí parametr
<userinput>nousb</userinput>, který zabrání zavedení USB modulù,
i kdy¾ je pøíslu¹ný hardware nalezen.

</para>
  </sect2>





