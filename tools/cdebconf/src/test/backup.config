#!/bin/sh -e

. /usr/share/debconf/confmodule

db_capb backup

db_register test/string test/string-register

STATE=1
LASTSTATE=10

while [ "$STATE" != 0 -a "$STATE" -le "$LASTSTATE" ]; do

case "$STATE" in
  1)
    db_input critical test/string-register || true
    ;;

  2)
    db_input critical test/string || true
    ;;

  3)
    db_subst test/text-subst TEXT "yabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadooyabbadiyabbadoo 1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz"
    db_input critical test/text-subst || true
    ;;

  4)
    db_input critical test/boolean || true
    ;;

  5)
    db_input critical test/multiselect || true
    ;;

  6)
    db_input critical test/note || true
    ;;

  7)
    db_input critical test/password || true
    ;;

  8)
    db_input critical test/select || true
    ;;

  9)
    db_input critical test/string || true
    ;;

  10)
    db_input critical test/text || true
    ;;
  esac

  if db_go; then
     STATE=$(($STATE + 1))
  else
     STATE=$(($STATE - 1))
  fi
done
