debian-installer (20040209) unstable; urgency=low

  * Steve Langasek
    - Use -di flavored kernels for alpha
    - build-depend on aboot for alpha (needed for making
      floppies/CDs bootable)
    - include srm-modules and socket-modules in the alpha initrd
    - tell d-i that alpha CDROMs don't use a floppy image, just an
      initrd and kernel
    - upgrade to 2.4.24 for alpha kernels
  * Thiemo Seufer
    - Remove dead apt-get code in the Makefile.
    - Redesigned build system. Major changes to the configuration
      handling for all architectures. Closes: #215508
    - Remove arhcdetect from m68k config, it is already in the generic
      config.
    - Fix broken alpha build, input-modules isn't created for -di
      kernel flavour.
    - Adjust daily-build script for the new build system.
    - Remove special handling for "default", it was broken anyway.
    - Switch back sparc kernel handling in tftpboot.sh to the old value.
    - Add support for MANIFEST files. Closes: #231767
    - Fix genromfs invocation, found by Thomas Poindessous.
  * Thomas Poindessous
    - Remove redundant kbd-chooser from netboot pkg-list.
    - Add discover, discover-data to sparc netboot image. Closes: #227853
    - Correct netboot image building on sparc. Closes: #228519
  * Joey Hess
    - Copyright date updates.
    - Add wireless-tools to the net_drivers floppy and the netboot initrd.
    - Switch the kernel to 2.4.24 for i386.
    - Document vga=771 option for laptops with display problems.
      Closes: #229904
    - Add syslinux splash image by Matthew A. Nicholson, and another by
      Klowner, and still another by Volkan YAZICI.
    - Make all the syslinux help screens leave graphics mode when displayed.
    - Hack syslinux.txt so it all fits on one line, the same line as the boot:
      prompt.
    - Add ${BOOTPROMPT} expansion to bootscreen-subst, to make it easy 
      to make the last line in a syslinux screen not have a newline at EOF
      on the image, while still being easily editable.
    - Switch cdroms from load-installer to load-cdrom. This is to work around
      limitations in main-menu (see #218774). Driver floppy loading will now
      be started by cdrom-detect if it fails to find a CD.
    - Version the mtools build-dep. Closes: #225584
    - Let HOST, BASEDIR, or DIR be set in the environment before running
      daily-build, to override the defaults.
    - Fix up miniiso creation to fit into the new build system better.
    - Turn on miniiso creation for netboot, so there is a
      dest/netboot/mini.iso that behaves the same as a netboot would.
    - Add a dest/cdrom/debian-cd_info.tar.gz with the syslinux screens
      and splash image, for eventual use by debian-cd.
    - Convert the miniiso to use isolinux, to support any size initrd.
    - Improvements to manifest generation and formatting.
  * Richard Hirst
    - ia64: Fix cdrom to autoboot, and tidy up kernel params.  Partial
      fix for 227114.
    - ia64: Change to 2.4.22 -di kernel, and include usb storage modules,
      and ide/scsi core modules.  Partial fix for 227114.
    - Increase ia64 'floppy' image to 10MB, and initrd to 24MB
    - hppa: Add config/type/netboot-hppa, so TYPE=netboot generates a lifimage
    - hppa: include fdisk-udeb in pkglists so we can partition.
    - hppa: include text frontend, as it is useful for debugging.
    - hppa: fix up palo cmdline for netboot lifimage
  * Stephen R. Marenka
    - m68k: update/create pkg-lists/cdrom/m68k pkg-lists/netboot/m68k.
    - m68k: add some more devices to help support 2.2.25.
  * Jeff Bailey
    - sparc: Update config/arch/linux-sparc to show 2.4.24 and di flavour
    - sparc: Remove ide-modules and scsi-modules - they're built in.
    - sparc: Update kernel version in mirror-udeb list.
    - sparc: Update config/sparc.cfg to show 2.4.24 and di flavour

 -- Joey Hess <joeyh@debian.org>  Mon,  9 Feb 2004 13:07:04 -0500

debian-installer (20040102) unstable; urgency=low

  * Another day, another build. This one has updated busybox in it.

 -- Joey Hess <joeyh@debian.org>  Fri,  2 Jan 2004 14:48:13 -0500

debian-installer (20040101) unstable; urgency=low

  * Giuseppe Sacco
    - Corrected a small error in make/arch/linux-powerpc about
    - the creation of a boot.msg
  * Joey Hess
    - Minor consistency fix in f10.txt.

 -- Joey Hess <joeyh@debian.org>  Thu,  1 Jan 2004 13:48:56 -0500

debian-installer (20031230) unstable; urgency=low

  * Giuseppe Sacco
    - Changed the KERNEL_FLAVOUR for powerpc to -di
  * Joey Hess
    - i386 will work on 32 mb now, update system requirements in syslinux help
      screen
    - Remove the encoding grep, all non-utf8 encodings should be fixed now.
    - Fix make dependency loop on hppa and sparc where FLOPPY_SIZE is not set.
      Closes: #225389
    - Add expert and expert-safe boot modes to yaboot.
    - Pass devfs=mount,dall in yaboot.conf for new powerpc kernel.
    - Add build date to yaboot boot.msg.
  * Thiemo Seufer
    - Sanitize mips/mipsel image creation.
  * Vincent Sanders
    - Initial ARM port

 -- Joey Hess <joeyh@debian.org>  Tue, 30 Dec 2003 16:25:49 -0500

debian-installer (20031226) unstable; urgency=low

  * Thiemo Seufer
    - "make reallyclean" should really clean.
    - Fix build failure, images/ wasn't created.
  * Joey Hess
    - Add fakeroot to build-depends, as the debian/rules uses it in the build
      target. Should fix FTBFS on mips.
    - Don't put docs under images/, so debian-cd will find them.

 -- Joey Hess <joeyh@debian.org>  Fri, 26 Dec 2003 21:15:47 -0500

debian-installer (20031223) unstable; urgency=low

  * Joey Hess
    - Generate bootable hd-media images, not just the initrd.
      These can be written directly the usb memory stick, then mounted
      and a d-i iso copied in. As they're quite big (and sparse),
      they are gzipped.
    - NB: The above change means you need 128+ mb more free space to
      build this package on i386.
    - If System.map is included in the kernel image udeb, pass it to depmod
      via -F and delete it when done. This is to support building on systems
      running 2.6.
    - Remove ide modules stuff from net drivers floppy. I don't know why it
      was there, but its deps were not met and this could cause ugly messages 
      during install.
    - Remove the same ide modules from i386 netboot.
    - Document the bootkbd boot parameter in syslinux f7.txt.
    - Add "expert" mode boot to syslinux, which sets DEBCONF_PRIORITY=low.
    - Include a doc/index.en.html in the install-images tarball, so
      debian-cd will find some documentation and not include the boot floppies
      docs.
    - Include INSTALLATION-HOWTO there too, by way of a gross, gross hack.
    - netcfg reorg
    - scsi-common-modules reorg
    - Grep out several encodings that confuse reduce-font:
      ISO-8859-*, EUC-JP, CP1251. This is a temporary hackaround to get it
      building again.
    - Access floppy filled up, so move the network stuff to the access_drivers
      floppy. That filled up access_drivers, so comment out SCSI support at
      least for now.
    - Turn ia64 back on, let's see if it builds now.
  * Thiemo Seufer
    - Build the demo tree only for architectures which support it.
    - Don't build images for the demo target.
    - Ensure TYPE=demo for the Makefile's demo target.
    - Remove stamp files for tree and get_udebs at the begin of their rule,
      create them at the rule's end.
    - Ignore errors for the all_clean target.
    - Don't use USERDEVFS for linux-mips.
    - Fix 'make clean' if type demo is unsupported.
  * Marco d'Itri
    - Add preliminary support for .ko kernel modules.

 -- Joey Hess <joeyh@debian.org>  Sat, 13 Dec 2003 18:44:06 -0500

debian-installer (20031212) unstable; urgency=low

  * Joey Hess
    - Switch i386 to using dhcp-client rather than pump for netboot.
      Left it using pump on other arches that did not already use dhcp-client,
      at least for now.
    - Switch i386, hppa, and ia64 to dhcp-client rather than udhcp
      on the root floppy.
    - Switch powerpc to pump on the root floppy.
    - Switch i386 to dhcp-client rather than udhcp on the access floppy.
    - Switch from pump to dhcp-client on powerpc.
    - Add disk labels to the i386 floppy images, for use by the bootfloppy
      initrd, and maybe later by the floppy retreiver, etc.
    - In debian/rules, if the changelog is UNRELEASED, use unstable as the
      DISTRIBUTION.
    - makelabel takes the build date as its second parameter. Calculating
      BUILD_DATE once at the start to avoid inconsistencies during
      long/midnight builds.
    - Add MEDIA_TYPE to configs for bootable image types.
    - Add DEBIAN_VERSION to config.
    - Add bootscreen-subst to substitute these variables into boot screens.
    - Make a syslinux help screen, for all i386 syslinuxed boot media.
      Includes the build date, debian version, and media type, and is derived
      from isolinux help texts on the sarge cds, but modified to actually
      match d-i:
        - remove boot flavor docs, as we currently have no flavors
        - remove rescue stuff, as d-i is not currently also a rescue disk
        - reduce number of colors used for cleaner look
        - remove mention of non-free
        - try to make the prerequisites documentation somewhere close to
          reality -- 64 mb ram and 256 mb disk.
        - make every boot message screen 22 lines long, followed by a blank
          line (which is in turn followed by the boot: prompt), for consistent
          display
        - remove references in f4.txt to a nonexistant table
        - remove documentation of mono and vga16:off, as they do not work with
          d-i
        - remove keytimer hack documentation, that was for boot-floppies
        - add documentation of d-i's boot time parameters, including the new
          debian-installer/framebuffer=false
        - remove the mailing list subscription info; boot time is not the
          time to tell the user about this. In its place, make f9.txt be
          about Debian.
      - Remove DEBCONF_DEBUG setting from syslinux.cfg.
      - Use bootscreen-subst on powerpc's boot.msg, too.
      - Comment out the udeb apt status file stuff in get-packages, now is not
        the time to be breaking the build with that.
      - Build depend on elilo on ia64. This had better be the last one.
  * Goswin von Brederlow
    - Moved fetching of (u)debs into get-packages shell script.
    - Changed sources.list to sources.list.udeb, added sources.list.deb.
    - Allowed "deb file:/..." urls in /etc/apt/sources.list, (Closes: #221031)
      simplified sed expression and change file to copy urls.
    - Add explaining error message when apt-get update fails
    - get-packages: Only seed dpkg status with libs when getting udebs
    - pkg-lists/cdrom/alpha: missing input-modules-${kernel:Version}
    - pkg-lists/mirror_udeb: lists for a partial mirror suitable for the CDs
    - Drop pump-udeb (netboot on alpha, s390 and sparc) in favour of
      dhcp-client-udeb
    - debain/control: added Build-Depends: mkisofs
    - daily-build: changed to copy last days images and rsync new ones
    - daily-build: don't let the builder wait for logs, use tee
    - No discover for mips/mipsel
    - Added arch mips to the debian-installer.deb (Closes: #221534)
  * Thiemo Seufer
    - Fix error handling in tftpboot.sh
  * Chris Tillman
    - Add DEBCONF_PRIORITY note to powerpc boot message.
    - Add MacRISC3 & 4 to ofboot.b for compatibility with G4/G5 powerpcs
  * Mario Lang
    - Add new boot floppy flavour "speakup" which uses a speakup-enabled
      kernel version.
    - Update the access flavour to use the same kernel version as the
      speakup flavour.
    - Update the access_drivers common and i386 pkg-list.
  * Thiemo Seufer
    - Sanitize tftpboot.sh. It aborts now on errors and won't move/copy
      files around without good reason. Changed mipsel image generation
      to t-rex.
    - Add pkg-lists/netboot/mips.
    - Add fdisk to the mips/mipsel CD images, add AT keyboard support
      to mips image.
    - Add AT keyboard support to mips demo image.
    - Polish make/arch/linux-mips{,el} a bit.
    - Switch config/arch/linux-mips to kernel 2.4.22 with -di flavour.

 -- Joey Hess <joeyh@debian.org>  Thu, 13 Nov 2003 14:39:21 -0500

debian-installer (20031113) unstable; urgency=low

  * Joey Hess
    - Add new loop-modules to bootfloppy, hd-media.
    - Move input-modules from root floppy to bootfloppy, as the new
      rootskel-bootfloppy prompts for the user to hit enter.
    - Remove redundant usb-discover and usb-modules from root floppy;
      the boot floppy takes care of that.
    - Remove fat-modules and floppy-modules from the root floppy; they
      boot floppy loads them.
    - Create DEST before copying in DEST_KERNEL.
    - ia64 build-depends on dosfstools. Closes: #219919
    - sparc build-depends on genromfs. Closes: #220208
    - remove brltty from everything except access. It is causing problems
      (#219928) on sparc at least.
    - add nic-extra-modules to netboot for i386, as it fits and netboot
      should support as much as it can
    - try to get full UTF-8 going on netboot
    - add nano to netboot
  * Richard Hirst
    - Add mtools as a build-dep for ia64

 -- Joey Hess <joeyh@debian.org>  Sun,  9 Nov 2003 19:59:13 -0500

debian-installer (20031109) unstable; urgency=low

  * Richard Hirst
    - Remove efi-reader from ia64 cdrom pkglist for now; the one in the
      archive is linked against libdebian-installer3 which is no longer
      available.
    - Stop including debootstrap-udeb in cdrom pkg-list for ia64.

 -- Joey Hess <joeyh@debian.org>  Fri, 07 Nov 2003 22:31:07 +0000

debian-installer (20031106.1) unstable; urgency=low

  * Enable ia64 in control file. (Build report from Jeff Bailey)
  * Idempotency fix in debian/rules install.
  * Put in some stuff to allow for more than one release per day.

 -- Joey Hess <joeyh@debian.org>  Thu,  6 Nov 2003 15:12:48 -0500

debian-installer (20031106) unstable; urgency=low

  * Improved the copyright file, decided not to try to list the copyright
    of every component of the images.
  * Uppercased the md5sums filename.
  * New retriever menu setup:
    - add load-floppy and download-installer to floppy
    - add load-installer to cdrom, netboot
    - add load-iso to hd-media
    - add load-cdrom, hw-detect-full, ide-core-modules, and cdrom-detect
      to cd_drivers, which is actually usable now
  * Remove pcmcia-udeb from pkg-lists, hw-detect took over.
  * Make d-i-demo catch SIGINT, clean up properly.
  * Fix kernel module package names in udeb_include for driver floppies.
  * Alastair McKinstry:
    - Add additional shade characters to fix the scroll bar in the newt
      frontend.
    - The terminfo entries are now provided by di-utils-terminfo, not
      the Makefile.
  * Richard Hirst:
    - Misc ia64 fixes - define KERNEL_FLAVOUR, clean up pkglists, etc
  * Improved the description of debian-installer-demo. Closes: #219255
  * Build includes new cdebconf, fixed partconf, fixed bogl-bterm redraw
    problems, etc, etc. Many other fixes and improvements.

 -- Joey Hess <joeyh@debian.org>  Thu, 30 Oct 2003 15:12:38 -0500

debian-installer (20031029) unstable; urgency=low

  * Initial release.
  * This includes a deb that lets a demo of the installer be run
    (and triggers autobuilders), but the main payload is the
    debian-installer-images tarball, which is designed to be unpacked
    by ftp-master into the ftp site.
  * Set architecture to i386, powerpc for now. More will be added
    once d-i works on them well enough to distribute images.

 -- Joey Hess <joeyh@debian.org>  Wed, 22 Oct 2003 16:16:21 -0400
