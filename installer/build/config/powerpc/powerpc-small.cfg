FLAVOUR_SUPPORTED = boot boot-ofonly root net-drivers cd-drivers
MEDIA_TYPE = floppy
FLOPPY_SIZE = 1440

KERNELVERSION = 2.4.25-powerpc-small

arch_boot:
	dd if=/dev/zero of=$(TEMP_BOOT).new bs=1024 count=$(FLOPPY_SIZE)
	hformat -l $(DISK_LABEL) $(TEMP_BOOT).new
	gzip -vc9 $(TEMP_KERNEL) > $(TEMP_KERNEL).gz
	echo device $(TEMP_BOOT).new > $(TEMP)/miboot.conf
	echo kernel $(TEMP_KERNEL).gz $(KERNEL_CMDL) >> $(TEMP)/miboot.conf
	miboot -c $(TEMP)/miboot.conf
	mv $(TEMP_BOOT).new $(TEMP_BOOT)

arch_root:
	cp $(TEMP_INITRD) $(TEMP_ROOT)

# FIXME: uh?
# media where images may be written to (via dd).
#WRITE_MEDIA += $(FLAVOUR_SUPPORTED)
