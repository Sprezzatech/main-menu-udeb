<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 24663 -->
<!-- revisado por nahoo, 6 noviembre 2004 -->

  <sect2 condition="supports-dhcp" id="dhcpd">
   <title>Configuración del servidor DHCP</title>
<para>

Un servidor DHCP considerado software libre es el <command>dhcpd</command> de ISC.
En &debian;, está disponible en el paquete <classname>dhcp</classname>.
A continuación se muestra una configuración de ejemplo para él (generalmente
<filename>/etc/dhcpd.conf</filename>):

<informalexample><screen>
option domain-name "ejemplo.com";
option domain-name-servers ns1.ejemplo.com;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "nombredeservidor";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host nombredecliente {
  filename "/tftpboot/tftpboot.img";
  server-name "nombredeservidor";
  next-server nombredeservidor;
  hardware ethernet 01:23:45:67:89:AB; 
  fixed-address 192.168.1.90;
}
</screen></informalexample>

Nota: el nuevo (y preferido) paquete <classname>dhcp3</classname> usa
<filename>/etc/dhcp3/dhcpd.conf</filename>.

</para><para>

En este ejemplo, existe un servidor 
<replaceable>"nombredeservidor"</replaceable> que hace de
de DCHP, servidor, servidor TFTP y puerta de enlace de la red. 
Ciertamente necesitará cambiar las opciones de nombre de dominio, así
como la dirección hardware del servidor y del cliente. La opción
<replaceable>"filename"</replaceable> debe ser el nombre del fichero que
se recuperará a través de TFTP.

</para><para>

Después de editar el fichero de configuración de <command>dhcpd</command>,
reinícielo con <userinput>/etc/init.d/dhcpd restart</userinput>.

</para>

   <sect3 arch="i386">
   <title>Habilitar el arranque PXE en la configuración DHCP</title>
<para>
Aquí hay otro ejemplo para un <filename>dhcp.conf</filename> usando el
método de Entorno de ejecución de pre-arranque (PXE) de TFTP.

<informalexample><screen>
option domain-name "ejemplo.com";

default-lease-time 6048;
max-lease-time 604800;

allow booting;
allow bootp;

# El siguiente párrafo debe modificarse para adaptarlo a su caso
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option subnet-mask 255.255.255.0;
  option broadcast-address 192.168.1.255;
# la dirección de la puerta de enlace puede ser diferente
# (por ejemplo, acceso a Internet)
  option routers 192.168.1.1;
# indique el dns que desea usar
  option domain-name-servers 192.168.1.3;
}

host tftpserver {
# dirección ip del servidor tftp
  fixed-address 192.168.1.90;
# dirección hardware del servidor
  hardware ethernet 01:23:45:67:89:AB;
}

group {
 next-server 192.168.1.3;
 host tftpclient {
# dirección hardware del cliente tftp
  hardware ethernet  00:10:DC:27:6C:15;
  filename "/tftpboot/pxelinux.0";
 }
}
</screen></informalexample>

Note que para el arranque PXE, el fichero del cliente
<filename>pxelinux.0</filename> es un gestor de arranque, no
una imagen de núcleo (vea <xref linkend="tftp-images"/> a
continuación).

</para>
   </sect3>
  </sect2>
