<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 16879 -->


  <sect2 condition="supports-bootp" id="tftp-bootp">
  <title>Configurar el servidor BOOTP</title>
<para>

Existen dos servidores BOOTP disponibles para GNU/Linux, el 
<command>bootpd</command> de CMU y el otro en realidad es un servidor DHCP,
<command>dhcpd</command> de ISC, los que vienen en los paquetes
<classname>bootp</classname> y <classname>dhcp</classname> en
&debian;.

</para><para>

Para usar el <command>bootpd</command> de CMU, primero debe comentar 
(o añadir) la línea relevante en <filename>/etc/inetd.conf</filename>. En
&debian;, puede ejecutar <userinput>update-inetd --enable
bootps</userinput>, luego <userinput>/etc/init.d/inetd
reload</userinput> para hacerlo. En cualquier caso, la línea en cuestión
deberá ser como la siguiente:

<informalexample><screen>

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

</screen></informalexample>

</para><para>

Ahora, debe crear el fichero <filename>/etc/bootptab</filename>.  Este
tiene el mismo tipo de formato familiar y cifrado que los ficheros 
antiguos de BSD <filename>printcap</filename>, <filename>termcap</filename>,
y <filename>disktab</filename>. Vea la página de manual de
<filename>bootptab</filename> para más información. Para el 
<command>bootpd</command> de CMU, necesitará conocer la dirección de
hardware (MAC) del cliente. Este es un ejemplo
<filename>/etc/bootptab</filename>:

<informalexample><screen>

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

</screen></informalexample>

Necesitará cambiar por lo menos la opción "ha", la cual especifíca la
dirección de hardware del cliente. La opción "bf" especifíca el fichero
que el cliente debe recuperar a través de TFTP; para mas detalle vea
<xref linkend="tftp-images"/>.

<phrase arch="mips"> 
En Indys SGI puede simplemente ingresar al monitor de órdenes y escribir
<userinput>printenv</userinput>.  El valor de la variable
<userinput>eaddr</userinput> es el la dirección MAC de la máquina.
</phrase>

</para><para>

En contraste, configurar BOOTP con <command>dhcpd</command> de ISC
es realmente fácil, porque trata los clientes BOOTP como casos moderadamente
especiales de clientes DHCP. Algunas arquitecturas requieren una configuración
compleja para arrancar clientes a trav de BOOTP. Si la suya es una de
estas, lea la sección <xref linkend="dhcpd"/>.  De otro modo, probalemente
pueda saltar esto simplemente añadiendo la directiva 
<userinput>allow bootp</userinput> al bloque de configuración
para la sub-red donde esta el cliente, y reiniciar
<command>dhcpd</command> con <userinput>/etc/init.d/dhcpd
restart</userinput>.

</para>
  </sect2>
