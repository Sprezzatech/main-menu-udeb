<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 22935 -->
<!-- revisado por nahoo, 4 noviembre 2004 -->

 <sect1 id="automatic-install">
 <title>Instalación automática</title>
<para>

Para instalaciones en múltiples ordenadores, es posible efectuar
instalaciones totalmente automáticas. Los paquetes de Debian que tienen
este propósito son:
<classname>fai</classname> (que usa un servidor de instalación),
<classname>replicator</classname>,
<classname>systemimager</classname>,
<classname>autoinstall</classname> y el
mismo instalador de Debian.

</para>

<sect2>
<title>Instalación automática usando el instalador de Debian</title>

<para>
El instalador de Debian soporta instalaciones automatizadas a través
de ficheros de preconfiguración. Un fichero de preconfiguración puede
cargarse desde la red o desde medios extraíbles y usarse para
responder a las preguntas que se formulan durante el proceso de instalación.

</para><para>

El fichero de preconfiguración usa el mismo formato que
la orden «debconf-set-selections». Un ejemplo que puede editar muy bien
documentado y que funciona se encuentra en
<xref linkend="example-preseed"/>.

</para><para>

El fichero de preconfiguración tiene el formato que usa la
orden «debconf-set-selections», una forma de obtener un fichero
completo que liste todos los valores que puedan ser preconfigurados de antemano,
es efectuar una instalación manual y luego usar
la orden <filename>debconf-get-selections</filename>, que trae el
paquete <classname>debconf-utils</classname>. Para
volcar tanto la base de datos de debconf como la de cdebconf en
/var/log/debian-installer/cdebconf en un solo fichero use:

<informalexample><screen>
debconf-get-selections --installer > fichero
debconf-get-selections >> fichero
</screen></informalexample>

</para><para>

Sin embargo, un fichero generado de esta manera tendrá algunos
elementos que no deben ser preconfigurados, por lo que el fichero
de <xref linkend="example-preseed"/> es un mejor punto de partida
para la mayoría de usuarios.

</para><para>

Una vez que tiene un fichero de preconfiguración, puede editarlo en
caso de que sea necesario, y colocarlo en un servidor web, o copiarlo en el
medio de instalación del instalador. En donde quiera que coloque
el fichero, necesitará pasar un parámetro al instalador al
arrancar para indicarle que lo use.

</para><para>

Para que el instalador use un fichero de preconfiguración 
descargado desde la red, añada 
«preseed/url=http://url/a/preseed.cfg» a los parámetros de arranque
del núcleo. Obviamente la preconfiguración no tendrá efecto hasta
que el instalador consiga configurar la red para descargar el fichero,
de modo que es más útil si el instalador puede configura la red a través
de DHCP sin formular preguntas. Podría querer definir la prioridad
de la instalación a «critical» para evitar cualquier pregunta mientras
se configura la red. Vea <xref linkend="installer-args"/>.

</para><para>

Para colocar un fichero de preconfiguración en un CD, necesitará
remasterizar la imagen ISO para incluir su fichero de preconfiguración.
Vea la página de manual de «mkisofs» para más detalles. Alternativamente,
puede poner el fichero de preconfiguración en un disquete y usar
el parámetro «preseed/file=/floppy/preseed.cfg»

</para><para arch="i386">

Si arrancará desde un dispositivo de memoria USB, puede simplemente
copiar su fichero de preconfiguración en el sistema de ficheros
de este medio, y editar el fichero «syslinux.cfg» para añadir
«preseed/file=/hd-media/preseed.cfg» a los parámetros de arranque
del núcleo.

</para>
</sect2>
 </sect1>