<?xml version="1.0" encoding="EUC-JP"?>
<!-- retain these comments for translator revision tracking -->
<!-- original version: 22664 -->


  <sect2 arch="i386"><title>DOS や Windows からのパーティション分割</title>
<para>

<!--
If you are manipulating existing FAT or NTFS partitions, it is
recommended that you either use the scheme below or native Windows or
DOS tools.  Otherwise, it is not really necessary to partition from DOS
or Windows; the Linux partitioning tools will generally do a better
job.
-->
既存の FAT もしくは NTFS パーティションを扱う場合には、
以降で説明する方法を用いるか、
あるいは Windows や DOS のツールを用いることをお勧めします。
扱わない場合には、
DOS や Windows からパーティションを分割する必要はまったくありません。
一般的に Linux 上のパーティション分割ツールを使えば、
より適切に作業が行えます。

</para><para>

<!--
But if you have a large IDE disk, and are using neither LBA addressing,
overlay drivers (sometimes provided by hard disk manufacturers), nor a
new (post 1998) BIOS that supports large disk access extensions, then
you must locate your Debian boot partition carefully. In this case,
you will have to put the boot partition into the first 1024 cylinders
of your hard drive (usually around 524 megabytes, without BIOS
translation). This may require that you move an existing FAT or NTFS
partition.
-->
ただし大きな IDE ディスクを用いる場合で、
LBA アドレスも、オーバーレイドライバ
(HDD のメーカーから提供されることが時々あります) も、
ラージディスクアクセス拡張をサポートした新しい (1998 年以降の) BIOS も
ないときには、Debian のブートパーティションは注意して配置しなければなりません。
このような場合、ブートパーティションをハードドライブの
先頭 1024 シリンダ以内に収めなければなりません
(これは BIOS 変換がなければ、通常 524 メガバイトになります)。
これはすなわち、既存の FAT パーティションや NTFS
パーティションを移動しないといけないことを意味します。

</para>

   <sect3 id="lossless">
   <title>DOS, Windows, OS/2 から無駄なくパーティションを切り直す
   </title>

<para>

<!--
One of the most common installations is onto a system that already
contains DOS (including Windows 3.1), Win32 (such as Windows 95, 98, Me,
NT, 2000, XP), or OS/2, and it is desired to put Debian onto the same disk
without destroying the previous system. Note that the installer supports
resizing of FAT and NTFS filesystems as used by DOS and Windows,
and in most cases you should not need to use the method described below,
unless you need to move the start of the FAT filesystem. 
-->
よくあるインストールのかたちとして、
すでに DOS (Windows3.1 も含む)、
Win32 (Windows 95, 98, Me, NT, 2000, XP)、
OS/2 などが入っているシステムに、
新たに Debian をインストールするような場合があり、
既存のシステムを壊すことなく、
同じディスクに Debian を入れるという要望があります。
DOS や Windows で使用された、
FAT ファイルシステム・NTFS ファイルシステムのリサイズを
インストーラがサポートしており、
ほとんどの場合、ファイルシステムの開始位置を移動させる必要がなければ、
以下に記述された方法を使用する必要がないことに注意してください。

</para><para>

<!--
Before going any further, you should have decided how you will be
dividing up the disk. The method in this section will only split a
partition into two pieces. One will contain the original OS and the
other will be used for Debian.  During the installation of Debian, you
will be given the opportunity to use the Debian portion of the disk as you
see fit, i.e., as swap or as a file system.
-->
先に進む前に、ディスクをどのように分割するのか決めておかなければなりません。
この節では 1 つのパーティションを 2 つに分割する方法のみ説明します。
そのうち 1 つには既存の OS を残し、もう 1 つを Debian で利用します。
なお、Debian に割り当てたディスク領域を、
どの用途 (スワップかファイルシステムか) に
どのくらいずつ割り当てるかは、Debian インストールの途中で決定できます。

</para><para>

<!--
The idea is to move all the data on the partition to the beginning,
before changing the partition information, so that nothing will be
lost.  It is important that you do as little as possible between the
data movement and repartitioning to minimize the chance of a file
being written near the end of the partition as this will decrease the
amount of space you can take from the partition.
-->
ここで紹介する方法は、パーティション情報を変更する前に、
パーティション上の全データを、
そのパーティションの先頭部分に移動するというものです。
こうすることでデータの損失はなくなります。
パーティションの後ろの方にファイルが存在すると、
そのパーティションから得られる空き領域が減ってしまいます。
従って、データの移動とパーティションの切り直しの最中に、
ファイルがパーティションの終りの方に
書き込まれないようにするのが大切です。

</para><para>

<!--
The first thing needed is a copy of <command>fips</command> which is
available in the <filename>tools/</filename> directory on your nearest Debian
mirror. Unzip the archive and copy the files
<filename>RESTORRB.EXE</filename>, <filename>FIPS.EXE</filename> and
<filename>ERRORS.TXT</filename> to a bootable floppy.  A bootable floppy can
be created using the command <filename>sys a:</filename> under DOS.
<command>fips</command> comes with very good documentation which you may
want to read.  You will definitely need to read the documentation if
you use a disk compression driver or a disk manager.  Create the disk
and read the documentation <emphasis>before</emphasis> you defragment the disk.
-->
まず最初に必要となるのは、<command>fips</command> のコピーです。
これはお近くの Debian ミラーサイトの 
<filename>tools/</filename> ディレクトリから入手できます。
そのアーカイブを unzip して、<filename>RESTORRB.EXE</filename>, 
<filename>FIPS.EXE</filename>, <filename>ERRORS.TXT</filename> の各ファイルを
起動可能なフロッピーにコピーしてください。
起動可能なフロッピーは、DOS 上で <filename>sys a:</filename> というコマンドを
用いれば作成できます。
<command>fips</command> には大変優れたドキュメントが用意されていますので、
読んでおくとよいでしょう。
特にディスク圧縮ドライバやディスクマネージャを使っている場合は、
このドキュメントは必ず読んでおくべきでしょう。
ディスクをデフラグメントする <emphasis>前</emphasis> に、
このフロッピーディスクを作り、ドキュメントを読んでください。

</para><para>

<!--
The next thing needed is to move all the data to the beginning of the
partition. <command>defrag</command>, which comes standard with DOS 6.0 and
later, can easily do the job.  See the <command>fips</command> documentation
for a list of other software that may do the trick.  Note that if you
have Windows 9x, you must run <command>defrag</command> from there, since
DOS doesn't understand VFAT, which is used to support for long
filenames, used in Windows 95 and higher.
-->
次に必要となるのは、すべてのデータをパーティションの前方に移動する作業です。
DOS 6.0 以降に標準で用意されている <command>defrag</command> を使えば、
これは簡単です。同じような作業を行える他のソフトウェアの一覧は、
<command>fips</command> のドキュメントに書いてあります。
Windows9x を使っている場合は、Windows9x の方から <command>defrag</command>
を実行しなければならないことに注意してください。
DOS は VFAT (Windows95 以降で使われており、
長いファイル名をサポートする) を認識できないからです。

</para><para>

<!--
After running the defragmenter (which can take a while on a large
disk), reboot with the <command>fips</command> disk you created in the
floppy drive.  Simply type <filename>a:\fips</filename> and follow the directions.
-->
デフラグツールを実行した後 (大きなディスクでは少々時間がかかります)、
先ほど作成した、<command>fips</command> を収めたフロッピーディスクを
ドライブに挿入してリブートしてください。
起動したらそのまま <filename>a:\fips</filename> と打ち込んで、
その指示にしたがってください。

</para><para>

<!--
Note that there are many other other partition managers out there, in
case <command>fips</command> doesn't do the trick for you.
-->
<command>fips</command> ではうまくいかない場合のために、
他にもパーティション管理ソフトウェアはたくさんあることを
心に留めておいてください。

</para>
   </sect3>

   <sect3 id="partitioning-for-dos"><title>DOS のパーティションを分割する</title>

<para>

<!--
If you are partitioning for DOS drives, or changing the size of DOS
partitions, using Linux tools, many people experience problems working
with the resulting FAT partitions.  For instance, some have reported
slow performance, consistent problems with <command>scandisk</command>, or
other weird errors in DOS or Windows.
-->
DOS のドライブにパーティションを作成したり、DOS パーティションの容量を
変更したりする作業を Linux のツールで行うと、
その結果できた FAT パーティションでの作業に問題が残ることがあるようです。
例えば DOS や Windows 上でパフォーマンスが落ちたり、
<command>scandisk</command> で整合性の問題が起きたり、
その他原因不明のエラーに遭遇したりといった報告例があります。

</para><para>

<!--
Apparently, whenever you create or resize a partition for DOS use,
it's a good idea to fill the first few sectors with zeros.  Do this
prior to running DOS's <command>format</command> command, from Linux:
-->
どうやら、
DOS で使用するパーティションを作成したりその容量を変更したりする場合は、
その最初のいくつかのセクタを 0 で埋めておくのが良いようです。
DOS の <command>format</command> コマンドを実行する前に、
Linux から次のコマンドを実行してください。
<informalexample><screen>

dd if=/dev/zero of=/dev/hdXX bs=512 count=4

</screen></informalexample>

</para>
   </sect3>
  </sect2>
