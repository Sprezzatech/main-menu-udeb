<?xml version="1.0" encoding="EUC-JP"?>
<!-- retain these comments for translator revision tracking -->
<!-- original version: 23797 -->


  <sect2 arch="sparc" id="invoking-openboot"><title>OpenBoot の起動</title>

<para>

<!--
OpenBoot provides the basic functions needed to boot the &arch-title;
architecture.  This is rather similar in function to the BIOS in the
x86 architecture, although much nicer.  The Sun boot PROMs have a
built-in forth interpreter which lets you do quite a number of things
with your machine, such as diagnostics, simple scripts, etc.
-->
OpenBoot は、&arch-title; アーキテクチャのブートに必要となる
基本的な機能を提供するものです。
これは x86 アーキテクチャに置ける BIOS と機能的には似ていますが、
ずっと優れています。
Sun のブート PROM には Forth のインタープリタが組み込まれており、
これを使うと診断を行ったり、簡単なスクリプトを実行したり、
コンピュータに対してさまざまなことが行えます。

</para><para>

<!--
To get to the boot prompt you need to hold down the
<keycap>Stop</keycap> key (on older type 4 keyboards, use the
<keycap>L1</keycap> key, if you have a PC keyboard adapter, use
the <keycap>Break</keycap> key) and press the
<keycap>A</keycap> key. The boot PROM will give you a prompt,
either <userinput>ok</userinput> or <userinput>&gt;</userinput>. It is
preferred to have the <userinput>ok</userinput> prompt. So if you get
the old style prompt, hit the <keycap>n</keycap> key to get the new
style prompt. 
-->
ブートプロンプトを呼び出すには、<keycap>Stop</keycap> キー
(Type 4 キーボードより古いものでは <keycap>L1</keycap> キー、
また PC キーボードアダプタを持っているなら <keycap>Break</keycap> キー)
を押しながら <keycap>A</keycap> キーを押してください。
ブート PROM は <userinput>ok</userinput> あるいは <userinput>&gt;</userinput> 
というプロンプトを表示します。
<userinput>ok</userinput> というプロンプトの方を好まれる方が多いようです。
古い方のプロンプトが表示された場合は、
<keycap>n</keycap> キーを押すと新しい方のプロンプトになります。

</para><para>

<!--
If you are using a serial console, send a break to the machine. With Minicom,
use <keycap>Ctrl-A F</keycap>, with cu, hit <keycap>Enter</keycap>, then type
<userinput>%~break</userinput>. Consult the documentation of your terminal
emulator if you are using a different program.
-->
シリアルコンソールを使用している場合、マシンに break を送信してください。
Minicom では <keycap>Ctrl-A F</keycap> を使用します。
cu では <keycap>Enter</keycap> を押して、
<userinput>%~break</userinput> と入力してください。
その他のプログラムを使用している場合は、
その端末エミュレータの文書を参照してください。

</para>
  </sect2>

  <sect2 arch="sparc" id="boot-dev-select-sun">
  <title>ブートデバイスの選択</title>

<para>

<!--
You can use OpenBoot to boot from specific devices, and also to change
your default boot device.  However, you need to know some details
about how OpenBoot names devices; it's much different from Linux
device naming, described in <xref linkend="device-names"/>.
Also, the command will vary a bit, depending on what version of
OpenBoot you have.  More information about OpenBoot can be found in
the <ulink url="&url-openboot;">Sun OpenBoot Reference</ulink>.
-->
OpenBoot を使うと、特定のデバイスから起動したり、
デフォルトのブートデバイスを変更したりできます。
しかしこのためには、OpenBoot におけるデバイスの呼び方について、
ある程度詳しく知っておく必要があります。
これは、<xref linkend="device-names"/> で説明した
Linux におけるデバイスの命名法とはかなり異なっています。
またコマンドも OpenBoot のバージョンによって少々異なります。
OpenBoot に関するより詳細な情報は、
<ulink url="&url-openboot;">Sun OpenBoot Reference</ulink> にあります。

</para><para>

<!--
Typically, with newer revisions, you can use OpenBoot device such as
``floppy'', ``cdrom'', ``net'', ``disk'', or ``disk2''.  These have
the obvious meanings; the ``net'' device is for booting from the
network.  Additionally, the device name can specify a particular
partition of a disk, such as ``disk2:a'' to boot disk2, first
partition.  Full OpenBoot device names have the form
-->
新しい版では、たいていの場合 
``floppy'', ``cdrom'', ``net'', ``disk'', ``disk2'' 
などの OpenBoot デバイスが使えます。
それぞれ文字通りの意味です。
例えば ``net'' デバイスはネットワークからの起動用です。
さらに、デバイス名では特定のディスク・特定のパーティションを
指定することもできます。
例えば第 2 ディスクの第 1 パーティションから起動するには 
``disk2:a'' のように指定します。
OpenBoot の完全なデバイス名は、

<informalexample>
<screen>
<replaceable>driver-name</replaceable>@
<replaceable>unit-address</replaceable>:
<replaceable>device-arguments</replaceable>
</screen></informalexample>
という形式です。

<!--
In older revisions of OpenBoot, device naming is a bit different: the
floppy device is called ``/fd'', and SCSI disk devices are of the form
``sd(<replaceable>controller</replaceable>,
<replaceable>disk-target-id</replaceable>,
<replaceable>disk-lun</replaceable>)''.  The command
<userinput>show-devs</userinput> in newer OpenBoot revisions is useful
for viewing the currently configured devices.  For full information,
whatever your revision, see the 
<ulink url="&url-openboot;">Sun OpenBoot Reference</ulink>.
-->
OpenBoot の古い版では、デバイス名の付け方が若干異なります。
フロッピーデバイスは ``/fd'' となり、
SCSI ディスクデバイスの形式は
``sd(<replaceable>controller</replaceable>,
<replaceable>disk-target-id</replaceable>,
<replaceable>disk-lun</replaceable>)'' となります。
新しい版の OpenBoot には 
<userinput>show-devs</userinput> というコマンドがあり、
これは現在設定されているデバイスを見るのに便利です。
どの版を使うにせよ、完全な情報は
<ulink url="&url-openboot;">Sun OpenBoot Reference</ulink> をご覧ください。

</para><para>

<!--
To boot from a specific device, use the command <userinput>boot
<replaceable>device</replaceable></userinput>.  You can set this
behavior as the default using the <userinput>setenv</userinput>
command.  However, the name of the variable to set changed between
OpenBoot revisions.  In OpenBoot 1.x, use the command
<userinput>setenv boot-from
<replaceable>device</replaceable></userinput>.  In later revisions of
OpenBoot, use the command <userinput>setenv boot-device
<replaceable>device</replaceable></userinput>. Note, this is also
configurable using the <command>eeprom</command> command on Solaris,
or modifying the appropriate files in
<filename>/proc/openprom/options/</filename>, for example under Linux:
-->
特定のデバイスから起動するには、
<userinput>boot<replaceable>デバイス名</replaceable></userinput>
というコマンドを使ってください。
<userinput>setenv</userinput> コマンドを使えば、
その動作をデフォルトに設定することができます。
しかし設定する変数名は OpenBoot のリビジョンによって異なります。
OpenBoot 1.x では、
<userinput>setenv boot-from<replaceable>デバイス名</replaceable></userinput> 
というコマンドを使います。
それ以降の版の OpenBoot では
<userinput>setenv boot-device<replaceable>デバイス名</replaceable></userinput>
というコマンドを使います。
なおこの設定は、Solaris の <command>eeprom</command> コマンドを使ったり、
<filename>/proc/openprom/options/</filename> の適当なファイルを変更して
行います。例として Linux からなら 

<informalexample><screen>

echo disk1:1 &gt;/proc/openprom/options/boot-device

</screen></informalexample> 

<!--
and under Solaris:
-->
Solaris なら

<informalexample><screen>

eeprom boot-device=disk1:1

</screen></informalexample> 

のようにします。

</para>
  </sect2>
