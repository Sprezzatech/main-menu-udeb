<?xml version="1.0" encoding="ISO-8859-2"?>
<!-- $Id$ -->
<!-- original version: 11648 -->

  <sect2 condition="supports-bootp" id="tftp-bootp">
  <title>Nastavení BOOTP serveru</title>
<para>

V GNU/Linuxu mù¾ete pou¾ít v zásadì dva BOOTP servery. Jednak je to
CMU <command>bootpd</command> a druhý je vlastnì DHCP server &mdash;
ISC <command>dhcpd</command>. V distribuci &debian; jsou k dispozici v
balíècích <classname>bootp</classname> a <classname>dhcp</classname>.

</para><para>

Pokud chcete pou¾ít CMU <command>bootpd</command>, musíte nejprve
odkomentovat (nebo pøidat) jeden dùle¾itý øádek v souboru
<filename>/etc/inetd.conf</filename>. V systému &debian; mù¾ete
spustit <userinput>update-inetd --enable bootps</userinput> a následnì
restartovat inetd pomocí <userinput>/etc/init.d/inetd
reload</userinput>. V jiných systémech pøidejte øádku, která bude
vypadat zhruba takto:

<informalexample><screen>

bootps   dgram   udp     wait    root    /usr/sbin/bootpd  bootpd -i -t 120

</screen></informalexample>

</para><para>

Nyní musíte vytvoøit soubor <filename>/etc/bootptab</filename>. Jeho
struktura je velmi podobná té, co pou¾ívají staré dobré soubory
<filename>printcap</filename>, <filename>termcap</filename>, a
<filename>disktab</filename> ze systému BSD.
Bli¾¹í informace jsou v manuálové stránce
<filename>bootptab</filename>. Pokud pou¾íváte CMU
<command>bootpd</command>, musíte rovnì¾ znát hardwarovou (MAC) adresu
klienta. Následuje pøíklad souboru <filename>/etc/bootptab</filename>:

<informalexample><screen>

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

</screen></informalexample>

Z pøíkladu budete muset zmìnit minimálnì volbu ,,ha'', která znaèí
hardwarovou adresu klienta. Volba ,,bf'' specifikuje soubor, který
si klient stáhne protokolem TFTP, viz <xref linkend="tftp-images"/>.

<phrase arch="mips"> 
Na strojích SGI Indy staèí spustit pøíkazový monitor a napsat
<userinput>printenv</userinput>. Hodnota <userinput>eaddr</userinput>
je MAC adresa daného poèítaèe.
</phrase>

</para><para>

V kontrastu s pøedchozím je nastaveni BOOTP pomocí ISC
<command>dhcpd</command> velmi jednoduché, proto¾e dhcpd pova¾uje
BOOTP klienty za speciální pøípad DHCP klientù. Nìkteré architektury
v¹ak vy¾adují pro zavádìní klientù pomocí BOOTP komplikované
nastavení. Je-li to vá¹ pøípad, pøeètìte si <xref linkend="dhcpd"/>.
V opaèném pøípadì staèí v konfiguraèním souboru vlo¾it do bloku
podsítì, ve které se nachází klient, direktivu <userinput>allow
bootp</userinput>. Potom restartujte <command>dhcpd</command> server
pøíkazem <userinput>/etc/init.d/dhcpd restart</userinput>.

</para>
  </sect2>
