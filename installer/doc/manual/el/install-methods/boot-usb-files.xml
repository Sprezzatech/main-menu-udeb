<!-- retain these comments for translator revision tracking -->
<!-- $Id: boot-usb-files.xml 22935 2004-10-09 18:36:20Z fjpop-guest $ -->

 <sect1 condition="bootable-usb" id="boot-usb-files">
 <title>Προετοιμασία Αρχείων για Εκκίνηση από ένα USB Stick μνήμης</title>

<para>

Για την προετοιμασία του USB stick θα χρειαστείτε ένα σύστημα που τρέχει ήδη
GNU/Linux και υποστηρίζει USB. Πρέπει να βεβαιωθείτε ότι το usb-storage kernel module
είναι φορτωμένο  (<userinput>modprobe
usb-storage</userinput>) και προσπαθήστε να βρείτε σε ποια συσκευή SCSI έχει
αντιστοιχηθεί το USB stick (στο παράδειγμα μας χρησιμοποιούμε τη συσκευή
<filename>/dev/sda</filename>). Για να γράψετε στο stick,  θα πρέπει πιθανόν να
απενεργοποιήσετε την προστασία εγγραφής.

</para><para>

Σημειώστε ότι το USB stick πρέπει να έχει μέγεθος τουλάχιστον 128 MB (διαφορετικά 
setups είναι δυνατά αν ακολουθήσετε το  <xref
linkend="usb-copy-flexible"/>).

</para>

  <sect2 id="usb-copy-easy">
  <title>Αντιγράψτε τα αρχεία - ο εύκολος τρόπος </title>
<para>

Υπάρχει ένα συγκεντρωτικό αρχείο
<filename>hd-media/boot.img.gz</filename>
που περιέχει όλα τα αρχεία του εγκαταστάτη (μαζί με τον πυρήνα) καθώς και
το <command>SYSLINUX</command> και τα αρχεία ρύθμισης του. Το μόνο που έχετε να
κάνετε είναι να αποσυμπιέσετε το αρχείο κατευθείαν στο USB stick:

<informalexample><screen>

gzip -dc boot.img.gz >/dev/<replaceable>sda</replaceable>

</screen></informalexample>

Αυτό θα καταστρέψει φυσικά ο,τιδήποτε υπάρχει ήδη στη συσκευή, οπότε πρέπει να προσέ
ξετε ιδιαίτερα  ότι χρησιμοποιείτε το σωστό όνομα συσκευής για το USB
stick.

</para><para>

Μετά από αυτό, προσαρτήστε το USB stick μνήμης (<userinput>mount /dev/sda
/mnt</userinput>), που θα έχει τώρα ένα FAT σύστημα αρχείων FAT, και αντιγράψτε σε
αυτό την εικόνα ενός  Debian netinst ή businesscard ISO. Σημειώστε ότι το όνομα
των αρχείων αυτών πρέπει να τελειώνει σε  <filename>.iso</filename>.
Αποπροσαρτήστε το stick (<userinput>umount /mnt</userinput>) και έχετε τελειώσει.

</para>
  </sect2>

  <sect2 id="usb-copy-flexible">
  <title>Αντιγράψτε τα αρχεία - ο ευέλικτος τρόπος</title>
<para>

Αν θέλετε μεγαλύτερη ευελιξία ή απλά θέλετε να ξέρετε τι ακριβώς συμβαίνει,
θα πρέπει να χρησιμοποιήσετε την ακόλουθη μέθοδο για την τοποθέτηση των αρχείων
στο stick. Θα δείξουμε πώς μπορείτε να ρυθμίσετε το stick μνήμης ώστε να
χρησιμοποιήσει την πρώτη διαμέριση αντί ολόκληρης της συσκευής..

</para><note><para>

Από τη στιγμή που τα περισσότερα USB stick έρχονται προ-ρυθμισμένα με ένα
μοναδική διαμέριση FAT16, το πιθανότερο είναι ότι δεν θα χρειαστεί να
επαναδιαμερίσετε ή επαναμορφοποιήσετε το stick.  Αν πρέπει παρόλα αυτά να κάνετε
κάτι τέτοιο, χρησιμοποιήστε το  <command>cfdisk</command>
ή ένα οποιοδήποτε άλλο εργαλείο διαμέρισης για να δημιουργήσετε μια διαμέριση FAT16
και μετά πληκτρολογήστε

<informalexample><screen>

mkdosfs /dev/<replaceable>sda1</replaceable>

</screen></informalexample>

Προσέξτε και πάλι να χρησιμοποιήσετε το σωστό όνομα συσκευής για το USB
stick. Η εντολή <command>mkdosfs</command> περιέχεται στο πακέτο
<classname>dosfstools</classname>.

</para></note><para>

Για να ξεκινήσουμε τον πυρήνα αμέσως μετά την εκκίνηση από το USB
stick, θα πρέπει να βάλουμε έναν φορτωτή εκκίνησης στο stick. Αν και
οποιοσδήποτε φορτωτής εκκίνησης (πχ. <command>LILO</command>) 
θα δούλευε, είναι πιο βολικό να χρησιμοποιήσετε το <command>SYSLINUX</command>,
μιας και χρησιμοποιεί διαμέριση με FAT16 και μπορεί να προ-ρυθμιστεί με την
απλή διόρθωση ενός αρχείου κειμένου. Οποιοδήποτε λειτουργικό σύστημα που υποστηρίζει
το σύστημα αρχείων FAT μπορεί να χρησιμοποιηθεί για να γίνουν αλλαγές στη ρύθμιση
του φορτωτή εκκίνησης.

</para><para>

Για να βάλετε το <command>SYSLINUX</command> στην διαμέριση με το FAT16
στο USB stick σας, εγκαταστήστε τα πακέτα  <classname>syslinux</classname> και
<classname>mtools</classname> στο σύστημά σας και πληκτρολογήστε

<informalexample><screen>

syslinux /dev/<replaceable>sda1</replaceable>

</screen></informalexample>

Και πάλι φροντίστε να χρησιμοποιήσετε το σωστό όνομα για τη συσκευή σας.
Η διαμέριση δεν πρέπει να είναι προσαρτημένη κατά την εκκίνηση
του <command>SYSLINUX</command>. Η διαδικασία αυτή γράφει έναν τομέα εκκίνησης στην
διαμέριση και δημιουργεί το αρχείο <filename>ldlinux.sys</filename> που περιέχει
τον κώδικα του φορτωτή εκκίνησης.

</para><para>

Προσαρτήστε τη διαμέριση  (<userinput>mount /dev/sda1
/mnt</userinput>) και αντιγράψτε τα ακόλουθα αρχεία από τις αρχειοθήκες του Debian
στο stick:

<itemizedlist>
<listitem><para>

<filename>vmlinuz</filename> (εκτελέσιμο του πυρήνας)

</para></listitem>
<listitem><para>

<filename>initrd.gz</filename> (αρχική εικόνα ramdisk)

</para></listitem>
<listitem><para>

<filename>syslinux.cfg</filename> (αρχείο ρύθμισης του SYSLINUX )

</para></listitem>
<listitem><para>

Προαιρετικά modules του πυρήνα

</para></listitem>
</itemizedlist>

Αν θέλετε να ονομάσετε διαφορετικά τα αρχεία παρακαλούμε σημειώστε ότι το
<command>SYSLINUX</command> μπορεί να επεξεργαστεί μόνο can ονόματα αρχείων τύπου DOS
(8.3).

</para><para>

Το αρχείο ρυθμίσεων <filename>syslinux.cfg</filename> πρέπει να περιέχει
τουλάχιστον τις ακόλουθες δύο γραμμές:

<informalexample><screen>

default vmlinuz
append initrd=initrd.gz ramdisk_size=10000 root=/dev/rd/0 init=/linuxrc devfs=mount,dall rw

</screen></informalexample>

Προσέξτε ότι η παράμετρος  <userinput>ramdisk_size</userinput>
πιθανόν να πρέπει να μεγαλώσει ανάλογα με την εικόνα ramdisk που εκκινείτε.

</para><para>

Τώρα θα πρέπει να τοποθετήσετε οποιαδήποτε  εικόνα από Debian ISO
(businesscard, netinst ή και το πλήρες CD) στο stick σας (εφόσον χωράει). Το όνομα
του αρχείου πρέπει να τελειώνει σε <filename>.iso</filename>.

</para><para>

Αν θέλετε να κάνετε εγκατάσταση πάνω από το δίκτυο, χωρίς την χρήση μιας εικόνας
ISO, προφανώς θα παραλείψετε το προηγούμενο βήμα. Επιπλέον θα πρέπει να
χρησιμοποιήσετε την αρχική εικόνα  ramdisk από τον
κατάλογο <filename>netboot</filename>
αντί του καταλόγου  <filename>hd-media</filename>,
επειδή η εικόνα <filename>hd-media/initrd.gz</filename> δεν έχει υποστήριξη για
δίκτυοt.

</para><para>

Όταν τελειώσετε, αποπροσαρτήστε το USB stick μνήμης (<userinput>umount
/mnt</userinput>) και ενεργοποιήστε την προστασία εγγραφής.

</para><warning><para>

Αν το σύστημά σας αρνείται να εκκινήσει, τότε το stick ίσως περιέχει ένα μη
έγκυρο Κύριο Αρχείο Εκκίνησης (MBR). Για να το διορθώσετε αυτό, χρησιμοποιήστε την
εντολή <command>install-mbr</command> από το πακέτο
<classname>mbr</classname>:

<informalexample><screen>

install-mbr /dev/<replaceable>sda</replaceable>

</screen></informalexample>

</para></warning>
  </sect2>
 </sect1>
