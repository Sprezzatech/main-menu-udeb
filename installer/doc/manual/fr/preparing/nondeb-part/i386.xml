<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 22595 -->


  <sect2 arch="i386"><title>Partitionnement depuis DOS ou Windows</title>
<para>

Si vous manipulez des partitions FAT ou NTFS existantes, il est
recommandé de suivre la méthode ci-dessous ou d'utiliser des produits
DOS ou Windows. Sinon, il n'est pas utile de partitionner à partir de
DOS ou Windows&nbsp;; les outils de partitionnement Linux sont généralement
meilleurs.

</para><para>

Si vous avez un grand disque IDE, et que vous n'utilisiez ni l'adressage LBA,
ni des pilotes de recouvrement (parfois fournis par les constructeurs de
disques durs), ni un BIOS récent (après 1998) qui accepte les extensions
d'accès pour disques de haute capacité, vous devez faire attention
à la position de la partition de démarrage de Debian&nbsp;: vous
devez la placer dans les premiers 1024&nbsp;cylindres de votre disque dur
(habituellement aux alentours de 524&nbsp;Mo, sans conversion par le
BIOS). Et il faudra peut-être déplacer une partition FAT ou NTFS
existante.

</para>

   <sect3 id="lossless">
   <title>Repartitionnement sans perte sous DOS, Windows-32 ou OS/2
   </title>

<para>

L'une des situations les plus courantes, c'est d'avoir un système qui contient
déjà DOS (y compris Windows 3.1), Win32 (comme Windows 95, 98, Me, NT, 2000, 
XP) ou OS/2, et l'on veut installer Debian sur le même disque, sans détruire 
le précédent système. L'installateur Debian sait redimensionner les systèmes de
fichiers FAT et NTFS utilisés par DOS et Windows. Et dans la
plupart des cas, vous n'aurez pas besoin de la méthode décrite plus bas, 
à moins que vous vouliez déplacer le début du système de fichiers. 

</para><para>

Avant d'aller plus loin, vous devez avoir décidé comment vous allez
diviser le disque. La méthode présentée dans ce chapitre ne vise qu'à
découper une partition en deux parties. L'une contiendra l'OS original
et l'autre sera utilisée pour Debian.
Pendant l'installation de Debian, vous aurez l'occasion de terminer la division
de la partie Debian du disque comme vous le souhaitez (partition d'échange ou
partition avec système de fichiers).

</para><para>

L'idée est de déplacer toutes les données au début de la partition, avant de
changer les caractéristiques de la partition&nbsp;: ainsi rien ne sera perdu.
Il est important que vous fassiez le moins de chose possible entre le
déplacement des données et le repartitionnement, pour minimiser le risque qu'un
fichier soit écrit près de la fin de la partition puisque cela diminuerait
la quantité d'espace pouvant être pris sur la partition.

</para><para>

Il faut tout d'abord une copie de <command>fips</command> qui est disponible
dans le répertoire <filename>tools/</filename> de votre miroir Debian le plus
proche. Décompresser l'archive et copiez les fichiers 
<filename>RESTORRB.EXE</filename>,
<filename>FIPS.EXE</filename> et <filename>ERRORS.TXT</filename> sur une 
disquette amorçable. Une disquette amorçable peut être créée en utilisant la
commande <filename>sys a:</filename> sous DOS. <command>fips</command> est 
fourni avec une très bonne documentation qu'il faudrait lire. Vous devrez la 
lire si vous utilisez un pilote de compression de disque ou un gestionnaire 
de disque. Créez la disquette et lisez la documentation 
<emphasis>avant</emphasis> de défragmenter le disque.

</para><para>

L'étape suivante consiste à déplacer toutes les données au début de
la partition. L'utilitaire <command>defrag</command>, qui est livré en 
standard avec DOS 6.0 et les versions supérieures, peut facilement faire ce 
travail. Consultez la documentation de fips pour une liste des autres 
logiciels qui peuvent faire l'affaire. Notez que si vous avez Windows95, vous 
devez lancer <command>defrag</command> depuis celui-ci, puisque DOS ne 
comprend pas le type de système de fichiers VFAT qui est utilisé pour gérer 
les noms longs depuis Windows 95 et les versions supérieures

</para><para>

Après la défragmentation (qui peut prendre du temps sur un grand
disque), réamorcez avec la disquette <command>fips</command> que vous avez 
créée dans le lecteur de disquette. Tapez simplement 
<filename>a:\fips</filename> et suivez les instructions.

</para><para>

Remarquez qu'il y a beaucoup d'autres utilitaires de partitionnement
au cas où <command>fips</command> ne vous convient pas.

</para>
   </sect3>

   <sect3 id="partitioning-for-dos"><title>Partitionnement sous DOS</title>

<para>

Si vous partitionnez des disques DOS, ou si vous changez la taille de
partitions DOS, en utilisant des outils Linux, sachez que beaucoup de
problèmes ont été constatés avec
les partitions FAT obtenues. Par exemple, on a remarqué des problèmes de
performance ou des problèmes de cohérence avec <command>scandisk</command>, et
d'autres erreurs bizarres sous DOS ou Windows.

</para><para>

Apparemment, chaque fois que vous créez ou que vous redimensionnez une
partition destinée à être utilisée sous DOS, c'est une bonne idée de
remplir avec des zéros quelques-uns des premiers secteurs. Faites-le depuis
Linux avant de lancer la commande DOS <command>format</command>&nbsp;:
<informalexample><screen>

dd if=/dev/zero of=/dev/hdXX bs=512 count=4

</screen></informalexample>

</para>
   </sect3>
  </sect2>
