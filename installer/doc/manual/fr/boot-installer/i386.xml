<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 14362 -->


  <sect2 arch="i386"><title>Amorcer depuis un cédérom</title>

&boot-installer-intro-cd.xml;

<para>

Il se peut que vous ayez à configurer votre matériel comme indiqué 
dans&nbsp;: <xref linkend="boot-dev-select"/>. Ensuite, insérez le cédérom 
dans le lecteur et réamorcez. Le système devrait s'amorcer et vous devriez 
apercevoir l'invite <prompt>boot:</prompt>. À partir de là, vous pouvez 
entrer les paramètres d'amorçage ou bien simplement taper sur la touche 
&enterkey;.

</para><para>

<!-- We'll comment the following section until we know exact layout -->
<!-- 
Le cédérom n°&nbsp;1 du jeu officiel de cédéroms pour
      &arch-title; vous présentera une invite <prompt>boot:</prompt> sur la
      plupart des matériels. Appuyez sur <keycap>F3</keycap> pour afficher la
      liste des options du noyau disponibles à partir desquelles
      amorcer. Tapez simplement le nom de la saveur (idepci, vanilla,
      compact, bf24) après l'invite de <prompt>boot:</prompt> et validez par
      &enterkey;.

</para><para>

Si votre matériel ne supporte pas l'amorçage d'images multiples,
      insérez un des autres cédéroms dans le lecteur. Il semble que la
      plupart des lecteurs de cédéroms SCSI soient incapables de gérer
l'amorçage d'images multiples de <command>isolinux</command>, les
      possesseurs de tels lecteurs de cédéroms devraient essayer le
      cédérom 2 (vanilla), 3 (compact) ou 5 (bf2.4).

</para><para>

Les cédéroms numéro 2 à 5 amorceront chacun sur une saveur différente
dépendant du cédérom inséré. cf.<xref linkend="kernel-choice"/>
pour une discussion sur les différentes
variantes. Voici comment sont disposées les variantes sur les
      différents cédéroms&nbsp;:

<variablelist>
<varlistentry>
<term>CD 1</term><listitem><para>

           Sur les nouveaux matériels, il permet une sélection
           d'images de noyau à amorcer. Sur les vieux matériels, il
           amorcera le noyau en saveur «&nbsp;idepci&nbsp;»&nbsp;;
Allows a selection of kernel images to boot from (the idepci flavor is
the default if no selection is made). 

</para></listitem></varlistentry>
<varlistentry>
<term>CD 2</term><listitem><para>

Amorce la saveur «&nbsp;vanilla&nbsp;»&nbsp;;

</para></listitem></varlistentry>
<varlistentry>
<term>CD 3</term><listitem><para>

Amorce la saveur «&nbsp;compact&nbsp;»&nbsp;;

</para></listitem></varlistentry>
<varlistentry>
<term>CD 4</term><listitem><para>

Amorce la saveur «&nbsp;idepci&nbsp;»&nbsp;;

</para></listitem></varlistentry>
<varlistentry>
<term>CD 5</term><listitem><para>

Amorce la saveur «&nbsp;bf2.4&nbsp;».

</para></listitem></varlistentry>

 </variablelist>

</para><para>

-->

Si votre système ne peut s'amorcer directement depuis un cédérom ou tout 
simplement ne semble pas fonctionner, ne désespérez pas&nbsp;; vous pouvez 
simplement lancer <command>E:\install\boot.bat</command> sous DOS (remplacez 
<userinput>E:</userinput> par la lettre que MS-DOS assigne à votre lecteur 
de cédérom) pour lancer le processus d'installation.
Passez ensuite à <xref linkend="init-config"/>.

</para><para>

Si vous tentez aussi d'installer depuis une partition FAT (MS-DOS), vous avez 
l'option de lancer l'installateur depuis le disque dur, voir 
<xref linkend="install-from-dos"/> pour plus d'informations sur 
l'installation par cette méthode.

</para>
     </sect2>



  <sect2 arch="i386" id="install-from-dos">
  <title>Amorcer depuis une partition DOS</title>

&boot-installer-intro-hd.xml;

<para>

Démarrez en MS-DOS (pas en Windows) sans charger de pilotes. Pour faire cela, 
il faut presser <keycap>F8</keycap> au bon moment (et éventuellement 
sélectionner l'option «&nbsp;safe mode command prompt only&nbsp;»&nbsp;: 
«&nbsp;mode DOS sans échec&nbsp;»). Puis allez dans le sous-répertoire qui
contient la saveur que vous avez choisie, p. ex.

<informalexample><screen>

cd c:\current\compact

</screen></informalexample>.  

Ensuite exécutez <command>install.bat</command>. Le noyau se chargera et 
lancera l'installateur.

</para><para>

Veuillez noter qu'il y a actuellement un problème avec loadlin 
(bogue n°142421) qui empêche le fichier <filename>install.bat</filename> 
d'être utilisé par la saveur bf2.4. Le symptôme de ce problème est le message 
<computeroutput>invalid compressed format</computeroutput>.

</para>
  </sect2>


  <sect2 arch="i386" id="boot-initrd">
  <title>Démarrer à partir de linux en utilisant <command>LILO</command>
  ou <command>GRUB</command></title>
<para>

Une ligne <emphasis>initrd=</emphasis> dans le fichier 
<filename>/etc/lilo.conf</filename> suffit pour configurer deux choses 
essentielles&nbsp;:
<itemizedlist>
<listitem><para>

Elle dit à <command>LILO</command> de charger le programme d'installation
<filename>initrd.gz</filename> comme un disque virtuel en mémoire au cours
du démarrage&nbsp;;

</para></listitem>
<listitem><para>

Elle dit au noyau <filename>vmlinuz</filename> d'utiliser cette image virtuelle
en mémoire comme sa partition racine.

</para></listitem>
</itemizedlist>


Voici un exemple de fichier <filename>/etc/lilo.conf</filename>&nbsp;:


</para><para>

<informalexample><screen>

image=/boot/newinstall/vmlinuz
       label=newinstall
       initrd=/boot/newinstall/initrd.gz
       append="devfs=mount,dall"

</screen></informalexample>

Dans ce cas, l'option <emphasis>root=/dev/hdXYZ</emphasis> du fichier
<filename>lilo.conf</filename> sera ignorée.
Pour plus de précisions, référez-vous aux pages de manuel de
<citerefentry><refentrytitle>initrd</refentrytitle>
<manvolnum>4</manvolnum></citerefentry> et de 
<citerefentry><refentrytitle>lilo.conf</refentrytitle>
<manvolnum>5</manvolnum></citerefentry>. Exécutez maintenant
<userinput>lilo</userinput> et relancez la machine.

</para><para>
La procédure pour <command>GRUB</command> est relativement similaire.
Cherchez le fichier <filename>menu.lst</filename> dans le répertoire
<filename>/boot/grub/</filename> (parfois dans
<filename>/boot/boot/grub/</filename>), ajoutez les lignes suivantes

<informalexample><screen>

title  New Install
kernel (hd0,0)/boot/newinstall/vmlinuz root=/dev/ram ramdisk_size=10000 devfs=mount,dall
initrd (hd0,0)/boot/newinstall/initrd.gz

</screen></informalexample>

et redémarrez. Veuillez noter qu'il sera peut-être nécessaire d'augmenter 
le paramètre <userinput>ramdisk_size</userinput>, selon l'image que vous
démarrez.
À partir de maintenant, il ne devrait plus y avoir de différences
entre <command>GRUB</command> et <command>LILO</command>.

</para><para>

Vous pouvez voir à plusieurs reprises le magique
<filename>initrd</filename> au travail durant l'amorce de la machine.

<itemizedlist>
<listitem><para>

Avant que le noyau n'ait été chargé, <command>LILO</command> affiche
une ligne 
<computeroutput>Loading <replaceable>imagelabel</replaceable>......</computeroutput> 
bien plus longue, avec plus de points que d'ordinaire, ce qui montre 
la progression du chargement de l'image virtuelle en mémoire&nbsp;;

</para></listitem>
<listitem><para>

Vous devriez voir le message&nbsp;:
<computeroutput>RAM disk driver initialized</computeroutput>, au moment
de l'initialisation de l'horloge réelle, ce qui montre que le noyau
accepte le disque virtuel en mémoire&nbsp;;

</para></listitem>
<listitem><para>

Enfin, si vous ne voyez pas 
<computeroutput>RAMDISK: ext2 filesystem found at block 0</computeroutput>
immédiatement après le contrôle des partitions, c'est probablement parce que 
votre noyau ne possède pas l'option <filename>initrd</filename>.

</para></listitem>
</itemizedlist>

</para><para condition="FIXME">

Le programme d'installation de Debian devrait maintenant fonctionner.
Si vous n'utilisez pas de média amovible, vous devez vérifier très tôt que 
votre connexion réseau fonctionne&nbsp;;faites-le <emphasis>avant</emphasis> 
d'avoir partionner irréversiblement votre disque dur. Vous pouvez aussi avoir 
besoin d'ajouter des modules au noyau avec <userinput>insmod</userinput>, 
par exemple pour votre interface réseau. Cette fois-ci, ne suivez 
<emphasis>pas</emphasis> l'ordre suggéré par &d-i;. Passez directement à 
<userinput>Monter une partition Linux déjà initialisée</userinput>, et montez 
la partition où vous avez placé les modules que 
<xref linkend="files-lilo"></xref> vous avez décompressé à partir de 
<filename>drivers.tgz</filename>.

</para>

        <!-- Idéalement, configurer les modules des pilotes de périphériques
        devrait permettre ce qui suit (faire « insmod » à partir du disque
        dur)
        et non seulement à partir d'une disquette. On éviterait l'ouverture
        d' un shell. -->

<para>

Ensuite passez à un autre terminal virtuel et utilisez un shell
(voyez <xref linkend="shell"/>) pour trouver les pilotes dans la partition 
qui vient tout juste d'être montée dans le répertoire 
<filename>/target</filename>. Ajoutez ceux dont vous avez besoin à l'aide de 
la commande <userinput>insmod</userinput>.

</para><para>

Rendez-vous à <xref linkend="netcfg"/> dans les menus d'installation du 
<command>debian-installer</command>, et essayez de contacter votre miroir 
Debian favori à l'aide de la commande <userinput>ping</userinput>.
        Félicitations&nbsp;!

</para><para>

Utilisez <userinput>Démonter une partition</userinput> si vous en avez monté
une dans le paragraphe précédent, retournez en toute sécurité aux étapes de 
partionnement au début de <command>debian-installer</command> et suivez la 
procédure habituelle, avec le réseau en bonus. À ce moment, il est même 
possible (tout de même un peu risqué) d'effacer toutes les partitions qui
se trouvent sur votre disque dur pour une installation en site totalement
propre. Le seul risque est que votre disque dur ne pourra pas être amorcé 
pendant un laps de temps. 

</para>
  </sect2>


  <sect2 arch="i386" id="usb-boot">
  <title>Démarrer à partir d'une clé USB</title>
<para>
Supposons que vous avez tout préparé selon 
<xref linkend="boot-dev-select"/> et <xref linkend="boot-usb-files"/>. 
Branchez simplement la clé USB dans un connecteur libre et réamorcez la
machine. Le système devrait se lancer et afficher une invite
<prompt>boot:</prompt>. Indiquez alors des paramètres d'amorçage ou
tapez simplement la touche &enterkey;.

</para><para>

Si votre ordinateur ne sait pas démarrer à partir des prériphériques
USB, vous pouvez utiliser une disquette pour faire le premier démarrage et
passer ensuite à USB. Procédez selon <xref linkend="floppy-boot"/>&nbsp;; le 
noyau sur la disquette de démarrage détectera automatiquement la clé USB. 
Quand la disquette racine est demandée, tapez simplement sur la touche 
&enterkey;. Vous devriez voir se lancer &d-i;.

</para>
  </sect2>

  <sect2 arch="i386" id="floppy-boot">
  <title>Amorcer depuis des disquettes</title>
<para>

Vous devez avoir déjà téléchargé les images de disquettes dont vous aurez 
besoin et créé les disquettes à partir des images de&nbsp;: 
<xref linkend="create-floppy"/>. Si vous le désirez, vous pouvez aussi 
modifier la disquette d'amorçage&nbsp;; voir
<xref linkend="rescue-replace-kernel"/>.

</para><para>

Amorcer depuis la disquette de secours est très facile&nbsp;: placez la 
disquette dans le premier lecteur de disquette, éteignez la machine comme 
vous le faites habituellement puis rallumez-la.

</para><para>

Pour réaliser l'installation à partir d'un lecteur LS-120 (version ATAPI) 
avec un jeu de disquettes, vous devrez préciser l'emplacement virtuel du 
lecteur de disquette. On utilise le paramètre de démarrage 
<emphasis>root=</emphasis> pour le faire, en indiquant le périphérique que le 
pilote ide-floppy aura simulé. Par exemple si votre lecteur est connecté sur 
la première interface IDE en seconde position sur le cable, entrez
<userinput>linux.bin root=/dev/hdc</userinput> lors de l'invite de démarrage.
L'installation depuis un lecteur LS-120 n'est possible qu'à partir des noyaux 
2.4.

</para><para>

Remarquez bien que sur certaines machines <keycombo><keycap>Control</keycap>
<keycap>Alt</keycap> <keycap>Delete</keycap></keycombo> ne remet pas 
proprement à zéro la machine. Éteindre la machine est alors recommandé. Si 
vous installez depuis un système d'exploitation existant, (p. ex. à partir 
d'une boîte MS-DOS), vous n'aurez pas le choix. Sinon, veuillez éteindre la
machine et rallumez-là.

</para><para>

On suppose la disquette fonctionnelle&nbsp;; vous devriez apercevoir un écran 
présentant la disquette d'amorçage et qui se termine par l'invite 
<prompt>boot:</prompt>.

</para><para>

Vous pouvez faire deux choses à l'invite <prompt>boot:</prompt>. Vous
pouvez presser les touches de fonctions de <keycap>F1</keycap> jusqu'à
<keycap>F10</keycap> pour visualiser quelques pages supplémentaires
d'information ou vous pouvez amorcer le système.

</para><para>

Des informations utiles sur les paramètres d'amorçage peuvent être consultées 
en pressant les touches <keycap>F4</keycap> et jusqu'à <keycap>F7</keycap>. 
Si vous 
ajoutez des paramètres à la ligne de commande d'amorçage, assurez-vous 
d'indiquer la méthode d'amorçage (la valeur par défaut est 
<userinput>linux</userinput>) et un espace avant le premier paramètre 
(par exemple, 
<userinput>linux floppy=thinkpad</userinput>). Si vous pressez simplement sur 
la touche &enterkey;, cela reviendra au même que de taper 
<userinput>linux</userinput> sans autre paramètre.

</para><para>

Une fois que vous avez appuyé sur &enterkey;, vous devez voir le message 
<computeroutput>Loading...</computeroutput> suivi par 
<computeroutpu>Uncompressing Linux...</computeroutpu> et ensuite un écran 
rempli d'informations sur les éléments matériels de votre machine. Vous 
pouvez trouver un complément d'information sur cette phase dans&nbsp;: 
<xref linkend="kernel-msgs"/>.

</para><para>

Après avoir démarré depuis la disquette d'amorçage, la disquette Root est
démandée. Insérez-la puis pressez la touche &enterkey; et le contenu est 
chargé en mémoire. Le programme d'installation
<command>debian-installer</command> est automatiquement lancé.

</para>
  </sect2>
  
  <sect2 arch="i386" id="boot-tftp"><title>Amorçage avec TFTP</title>
 
&boot-installer-intro-net.xml;
 
<para>

Il y a plusieurs façons d'amorcer avec TFTP sur une machine i386.

</para>

   <sect3><title>Etherboot</title>
<para>

Le projet <ulink url="http://www.etherboot.org">etherboot</ulink> offre des
disquettes de démarrage et même des ROM de démarrage pour un démarrage par
TFTP.

</para>
   </sect3>

   <sect3><title>NIC avec ROM de démarrage réseau</title>
<para>

Une carte d'interface réseau peut offrir la possibilité de démarrer par TFTP.

</para><para condition="FIXME">

Dites-nous (<email>&email-debian-boot-list;</email>) comment vous 
avez fait. Veuillez vous référer à ce document

</para>
   </sect3>

   <sect3><title>NIC ou carte-mère avec PXE</title>
<para>

Une carte d'interface réseau ou une carte mère peuvent permettre de démarrer
avec PXE. C'est une nouvelle implémentation de TFTF par 
<trademark class="trade">Intel</trademark>.

</para><para condition="FIXME">

Dites-nous (<email>&email-debian-boot-list;</email>) comment vous avez fait.
Veuillez vous référer à ce document.

<!-- from #debian-boot 2004-03-13
06:37 -!- SuperQ [ben@trogdor.likes.to.burninate.net] has joined
#debian-boot
06:38 < SuperQ> anyone done much with d-i on pxe boot?
06:39 < SuperQ> I got it all setup, daily build from sjogren's files
06:39 < joshk> yes, it works
06:39 < SuperQ> "Warning: unable to open an initial console."
06:39 < SuperQ> Kernel panic: Attempted to kill init!
06:39 < joshk> pass devfs=mount to the kernel
06:40 < joshk> in pxelinux.cfg/whatever
06:40 < SuperQ> oh.. that's changed since the bug tracking post
06:40 < SuperQ>
http://lists.debian.org/debian-testing/2003/debian-testing-200311/msg00098.html
06:40 < SuperQ> that says to devfs=nomount
06:41 < SuperQ> should probably copy the bulk of that message into
debian/dists/sarge/main/installer-i386/current/doc/INSTALLATION-HOWTO
06:41 < SuperQ> :) )
06:41 < joshk> that's from months ago
06:41 < joshk> :P
06:41 < SuperQ> I know
06:42 < SuperQ> but it's still referanced in the howto
06:42 < SuperQ> yay! it works now
06:42  * SuperQ gives his new ThinkPad X31 some sarge love
06:42 < SuperQ> I'll have to write up a page on Sarge/D-I and things
for
                linux-laptops.net
06:45 < SuperQ> thanks joshk
-->
</para>
   </sect3>
  </sect2>

  <sect2 arch="i386"><title>Paramètres de démarrage pour i386</title>
<para>

Si vous amorcez à partir de la disquette d'amorçage ou du cédérom il vous 
sera présenté une invite d'amorçage, <prompt>boot:</prompt>. Plus de détails 
sur l'utilisation des paramètres de démarrage avec la  disquette d'amorçage 
peuvent être trouvés dans&nbsp;: <xref linkend="floppy-boot"/>. Si vous 
amorcez à partir d'un système d'exploitation pré-installé, vous aurez à 
utiliser une autre méthode pour spécifier les paramètres d'amorçage. 
Si vous installez à partir de DOS, par exemple, vous pouvez modifier le 
fichier <filename>install.bat</filename> avec un éditeur de texte.

</para><para>

Certains systèmes ont un lecteur de disquettes avec 
«&nbsp;DCLs inversés&nbsp;». Si vous obtenez des erreurs lors de la lecture
de disquettes, même lorsque vous savez que les disquettes sont 
«&nbsp;bonnes&nbsp;», essayez le paramètre 
<userinput>floppy=thinkpad</userinput>.

</para><para>

Sur certains systèmes, tels que les IBM PS/1 ou ValuePoint (qui ont des 
pilotes de disques ST-506), le disque IDE peut ne pas  être reconnu. Encore 
une fois, essayez d'abord sans paramètre supplémentaire pour voir si votre 
disque IDE est reconnu correctement. Si ce n'est pas le cas, déterminez la 
géométrie du disque (cylindres, têtes et secteurs) et utilisez le paramètre
<userinput>hd=<replaceable>cylindres</replaceable>,<replaceable>têtes</replaceable>,<replaceable>secteurs</replaceable></userinput>.

</para><para>

Si vous avez une très vieille machine et si le noyau gèle après avoir 
affiché <computeroutput>Checking 'hlt' instruction...</computeroutput>,
alors vous devez passer le paramètre d'amorçage <userinput>no-hlt</userinput>
qui désactive ce test.

</para><para>

Si votre écran commence à afficher une image bizarre lors des démarrages du 
noyau, par exemple, un écran entièrement blanc, noir ou un écran contenant un 
mélange de couleurs, alors votre système a très certainement une carte video 
problématique qui ne parvient pas à passer en mode 
<emphasis>framebuffer</emphasis> correctement. Dans ce cas, essayez de passer 
le paramètre de démarrage 
<userinput>debian-installer/framebuffer=false</userinput> ou
<userinput>video=vga16:off</userinput>, 
pour désactiver la console <emphasis>framebuffer</emphasis>. Le menu de 
sélection de la langue n'apparaîtra pas, et l'anglais sera la seule langue 
utilisable pour l'installation&nbsp;; c'est dû aux caractéristiques limitées 
de la console. Référez-vous à <xref linkend="boot-parms"/> pour plus de 
précisions.

</para>
  </sect2>


  <sect2 arch="i386">
  <title>Le système bloque lors de la configuration du PCMCIA</title>
<para>
Quelques ordinateurs portables produits par Dell plantent fréquemment
lorsque la détection des périphériques essaie d'accéder à certaines
adresses matérielles. D'autres portables ont aussi des problèmes semblables.
Si vous rencontrez un tel problème et si vous n'avez pas besoin de PCMCIA 
pendant l'installation, vous pouvez désactiver cette option avec le paramètre 
<userinput>hw-detect/start_pcmcia=false</userinput>. Vous pourrez configurer
PCMCIA après l'installation et éviter le problème des adresses des ressources.
  </para>
<para>
Vous pouvez aussi essayez la procédure suivante&nbsp;:

     <itemizedlist>
     <listitem><para>
Démarrez le système d'installation en mode expert, choisissez la langue et le
pays, et arrêtez le processus avant la détection du matériel&nbsp;;
	</para></listitem>
     
<listitem><para>
entrez dans un shell système (voir <xref linkend="shell"/> pour plus de 
détails)&nbsp;;
	</para></listitem>

     <listitem><para>
Exécutez la commande suivante&nbsp;:
<userinput>echo exclude port <replaceable>0x810-0x81f</replaceable> >> /etc/pcmcia/config.opts</userinput> <footnote>
<para>
L'intervalle d'adresses donné dans l'exemple vaut pour Dell. Mettez 
l'intervalle qui va bien avec votre situation. Pour d'autres exemples, voyez
le 
<ulink url="http://pcmcia-cs.sourceforge.net/ftp/doc/PCMCIA-HOWTO.html">PCMCIA
HOWTO</ulink></para></footnote>&nbsp;;
	</para></listitem>

     <listitem><para>
Retournez maintenant au menu principal et poursuivez le processus 
d'installation.
	</para></listitem>
</itemizedlist>

Vous devrez exclure le même intervalle dans
<userinput>/target/etc/pcmcia/config.opts</userinput> avant de redémarrer
l'ordinateur, pour éviter le même problème quand vous lancerez le système
Debian nouvellemnt installé.

</para>
  </sect2>

  <sect2 arch="i386">
  <title>Le système se bloque lors du chargement des modules USB</title>
<para>

Le noyau essaye normalement d'installer les modules USB et les pilotes de 
claviers USB afin de permettre l'installation de quelques claviers USB non 
standard. Cependant, sur certains systèmes USB, le pilote provoque un blocage 
lors du démarrage. 
Il est possible d'éviter ces problèmes en désactivant le contrôleur USB dans 
la configuration BIOS de votre carte mère. Il est également possible 
d'utiliser le paramètre 
<userinput>debian-installer/probe/usb=false</userinput> à l'invite de 
démarrage, 
ce qui empêchera le chargement de ces modules.

</para>
  </sect2>
