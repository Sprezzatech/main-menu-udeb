<!-- retain these comments for translator revision tracking -->
<!-- original version: 27118 -->

   <sect3 id="mdcfg">
   <title>»Multidisk Devices« (Software RAID) konfigurieren (mdcfg)</title>
<para>

Wenn Sie mehr als eine Festplatte in Ihrem Rechner haben,<footnote><para>

Wir wollen ehrlich sein: Sie können auch ein MD-Gerät aus Partitionen
einer einzige Festplatte erstellen, dies bringt Ihnen aber keinen sinnvollen
Vorteil.

</para></footnote> können Sie <command>mdcfg</command> für die Einrichtung
Ihrer Festplatten benutzen, um die Performance zu erhöhen und/oder eine
höhere Datensicherheit zu erreichen. Das Ergebnis nennt sich
<firstterm>Multidisk Device</firstterm> (oder nach der bekanntesten
Variante auch <firstterm>Software-RAID</firstterm> genannt).

</para><para>

MD ist im Prinzip ein Verbund von Partitionen auf unterschiedlichen
Festplatten, die zu einer Art <emphasis>logischem</emphasis> Laufwerk
zusammengefasst sind. Dieses Laufwerk kann wie eine gewöhnliche Partition
genutzt werden (z.B. kann man es mit <command>partman</command> formatieren,
einen Einhängepunkt festlegen usw.)

</para><para>

Welchen Vorteil Ihnen das bringt, hängt vom Typ des MD-Laufwerks ab.
Im Moment werden unterstützt:

<variablelist>
<varlistentry>

<term>RAID0</term><listitem><para>

Dieser Typ zielt hauptsächlich auf die Performance ab. RAID0 splittet
alle ankommenden Daten in <firstterm>Stripes</firstterm> (Streifen) und
verteilt sie gleichmäßig auf alle Festplatten im Verbund. Dies kann die
Geschwindigkeit von Schreib-/Leseoperationen erhöhen, wenn jedoch eins
der Laufwerke ausfällt, verlieren Sie <emphasis>alle</emphasis> Daten
(ein Teil der Informationen ist immer noch auf einem/mehreren funktionierenden
Laufwerk(en), der andere Teil <emphasis>war</emphasis> auf der defekten Platte).

</para><para>

Der typische Anwendungsfall für RAID0 ist eine Partition zum Editieren von
Videos.

</para></listitem>
</varlistentry>
<varlistentry>

<term>RAID1</term><listitem><para>

Dieser Typ eignet sich für Setups, wo die Datensicherheit das oberste
Gebot ist. RAID1 besteht aus mehreren (gewöhnlich zwei) gleichgroßen
Partitionen, wobei beide Partitionen exakt die gleichen Daten enthalten.
Dies bedeutet dreierlei. Erstens: wenn eine Disk ausfällt, haben Sie immer
noch die gespiegelten Daten auf den anderen Laufwerken. Zweitens: Sie können
nur einen Teil der tatsächlichen Kapazität nutzen (genauer gesagt die Größe
der kleinsten Partition im Verbund). Drittens: Bei Dateileseoperationen
wird die Last auf die Festplatten aufgeteilt; dies kann die Performance
auf einem Server verbessern, z.B. auf einem Dateiserver, der mehr Lese- als
Schreibvorgänge tätigt.

</para><para>

Zusätzlich können Sie eine Reservedisk im Verbund haben, die im Fehlerfall
den Platz des defekten Laufwerks einnimmt.

</para></listitem>
</varlistentry>
<varlistentry>

<term>RAID5</term><listitem><para>

Dies ist ein guter Kompromiss zwischen Geschwindigkeit, Datensicherheit
und Redundanz. RAID5 splittet alle ankommenden Daten in Streifen und
verteilt Sie gleichmäßig auf alle Laufwerke außer einem (vergleichbar
zu RAID0). Im Unterschied zu RAID0 erzeugt der RAID5-Typ zusätzliche
<firstterm>Paritäts</firstterm>-Informationen, die auf die verbleibende
Disk geschrieben werden. Die Paritäts-Disk ist nicht statisch festgelegt
(dies wäre RAID4), sondern wechselt periodisch, so dass die Paritäts-Informationen
gleichmäßig auf allen Platten vorhanden sind. Wenn eine Festplatte
ausfällt, können die fehlenden Informationen aus den verbleibenden Daten
und Ihrer Parität wiederhergestellt werden. Ein RAID5-Verbund muss aus mindestens
drei aktiven Partitionen bestehen. Zusätzlich können Sie eine Reserve-Disk
im Verbund haben, die im Fehlerfall den Platz der defekten Platte einnimmt.

</para><para>

Wie Sie sehen, erreicht RAID5 einen ähnlichen Grad der Betriebssicherheit
wie RAID1 bei weniger Redundanz/besserer Auslastung. Auf der anderen Seite
könnte es bei Schreibvorgängen etwas langsamer sein, da zusätzlich die
Paritäts-Informationen errechnet werden müssen.

</para></listitem>
</varlistentry>
</variablelist>

Um es nochmal zusammenzufassen:

<informaltable>
<tgroup cols="5">
<thead>
<row>
  <entry>Typ</entry>
  <entry>Mindestanzahl benötigter Laufwerke</entry>
  <entry>Reserve-Laufwerk</entry>
  <entry>Übersteht einen Laufwerkscrash?</entry>
  <entry>Verfügbarer Speicherplatz</entry>
</row>
</thead>

<tbody>
<row>
  <entry>RAID0</entry>
  <entry>2</entry>
  <entry>nein</entry>
  <entry>nein</entry>
  <entry>Größe der kleinsten Partition multipliziert mit der Anzahl der Laufwerke</entry>
</row>

<row>
  <entry>RAID1</entry>
  <entry>2</entry>
  <entry>optional</entry>
  <entry>ja</entry>
  <entry>Größe der kleinsten Partition im Verbund</entry>
</row>

<row>
  <entry>RAID5</entry>
  <entry>3</entry>
  <entry>optional</entry>
  <entry>ja</entry>
  <entry>Größe der kleinsten Partition multipliziert mit (Anzahl der Laufwerke minus 1)</entry>
</row>

</tbody></tgroup></informaltable>

</para><para>

Wenn Sie die ganze Wahrheit über Software-RAID erfahren wollen, werfen
Sie einen Blick in das
<ulink url="&url-software-raid-howto;">Software-RAID-HOWTO</ulink>.

</para><para>

Wenn Sie ein MD-Laufwerk erstellen möchten, müssen die beteiligten
Partitionen für die Nutzung im RAID gekennzeichnet werden.
(Dies erledigen Sie in <command>partman</command> in den
<guimenu>Partitions-Einstellungen</guimenu>, wo Sie unter
<menuchoice> <guimenu>Benutzen als:</guimenu> <guimenuitem>Physical Volume für
RAID</guimenuitem> </menuchoice> auswählen.)

</para><warning><para>

Die Installer-Unterstützung für MD ist noch relativ neu. Sie könnten
bei einigen RAID-Stufen und in Kombination mit einigen Bootloadern
Probleme bekommen, wenn Sie versuchen, MD für das
root-(<filename>/</filename>)Dateisystem zu verwenden. Erfahrenen Nutzern
ist es vielleicht möglich, einige dieser Probleme zu umgehen, indem Sie
ein paar Konfigurations- oder Installationsschritte manuell auf der Shell
ausführen.

</para></warning><para>

Als nächstes wählen Sie <guimenuitem>Software-RAID konfigurieren</guimenuitem>
aus dem <command>partman</command>-Hauptmenü. Im ersten Bild von
<command>mdcfg</command> wählen Sie einfach
<guimenuitem>MD-Gerät erstellen</guimenuitem>.
Ein Liste unterstützter Typen von MD-Laufwerken wird angezeigt, von denen
Sie einen auswählen (z.B. RAID1). Die folgenden Schritte unterscheiden sich
abhängig davon, welchen Typ Sie gewählt haben:

</para>

<itemizedlist>
<listitem><para>

RAID0 ist einfach &ndash; Sie bekommen eine Liste der verfügbaren
RAID-Partitionen und Sie müssen lediglich auswählen, aus welchen Partitionen
das MD bestehen soll.

</para></listitem>
<listitem><para>

RAID1 ist ein wenig komplizierter. Als erstes müssen Sie die Anzahl
der aktiven Laufwerke und der Reserve-Laufwerke angeben, aus denen
das MD bestehen soll. Als nächstes wählen Sie aus der Liste der
verfügbaren RAID-Partitionen diejenigen aus, die aktiv sein sollen
und diejenigen, die Reserve bleiben. Die Gesamtanzahl der gewählten
Partitionen muss mit der zuvor angezeigten Anzahl Partitionen übereinstimmen.
Aber keine Sorge, wenn Sie einen Fehler machen und eine falsche Anzahl
Partitionen wählen, wird der &d-i; dies nicht zulassen und Sie können
erst weitermachen, wenn dies korrigiert ist.

</para></listitem>
<listitem><para>

Die Einrichtungsprozedur von RAID5 ist ähnlich der von RAID1 mit der
Ausnahme, dass Sie mindestens <emphasis>drei</emphasis> aktive
Partitionen benutzen müssen.

</para></listitem>
</itemizedlist>

<para>

Es ist uneingeschränkt möglich, verschiedene Typen von MDs gleichzeitig
zu benutzen. Wenn Sie zum Beispiel drei 200GB-Festplatten haben, die
für MD genutzt werden sollen, und jede enthält zwei 100GB-Partitionen,
können Sie die jeweils erste Partition auf allen drei Platten zu einem
RAID0 kombinieren (eine schnelle 300GB-Videobearbeitungs-Partition) und
die anderen drei Partitionen (zwei aktive und eine als Reserve)
für ein RAID1 benutzen (eine hoch-betriebssichere 100GB-Partition für
<filename>/home</filename>).

</para><para>

Wenn Sie die MD-Laufwerke nach Ihren Wünschen eingerichtet haben, kehren
Sie mit <guimenuitem>Beenden</guimenuitem> zu <command>partman</command>
zurück, um dort Dateisysteme auf Ihren neuen MD-Laufwerken zu erstellen
und die Attribute wie Einhängepunkte festzulegen.

</para>
   </sect3>
