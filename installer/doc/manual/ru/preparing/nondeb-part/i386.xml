<!-- retain these comments for translator revision tracking -->
<!-- $Id: i386.xml 22664 2004-10-06 15:49:49Z fjpop-guest $ -->


  <sect2 arch="i386"><title>Разметка дисков из DOS или Windows</title>
<para>Если вы манипулируете существующими разделами FAT или NTFS, рекомендуется, чтобы для этого вы следовали схеме, приведённой ниже или родными утилитами Windows или DOS. Иначе, нет никакой необходимости в разметке из DOS или Windows; утилиты разметки Linux обычно лучше подходят для этой работы. </para><para>Но если вы имеете большой IDE диск, и не используете ни LBA адресацию, ни вспомогательный драйвер (иногда поставляемый производителями жёстких дисков ), у вас нет нового(после 1998 года) BIOS, который поддерживает расширенный доступ к большим дискам, то вы должны осторожно размещать загрузочный раздел для Debian. В этом случае, нужно разместить загрузочный раздел на первых 1024 цилиндрах жёсткого диска (обычно в первых 524 мегабайтах, без BIOS трансляции). Для этого может потребоваться переместить существующий FAT или NTFS раздел. </para>

   <sect3 id="lossless">
   <title>Переразметка без потерь при запуске из DOS, Win-32 или OS/2 </title>

<para>Одна из наиболее распространённых установок это на машину, которая уже содержит DOS (включая Windows 3.1), Win32 (все Windows 95, 98, Me, NT, 2000, XP) или OS/2, и желательно разместить Debian на том же диске без уничтожения предыдущей системы. Заметим, что программа установки поддерживает изменение размера файловых систем FAT и NTFS, используемых DOS и Windows, но в большинстве случаев вы не должны использовать метод, описываемый ниже, если только вам не нужно переместить начало файловой системы. </para><para>Перед тем как что-то сделать дальше, вы должны решить как вы разделите диск. Метод в этом разделе описывает разделение только на две части. Одна будет содержать имеющеюся ОС, а другая будет использоваться для Debian. Во время установки Debian, вам предоставят возможность использовать часть диска Debian на ваше усмотрение, то есть, под раздел подкачки или в качестве файловой системы. </para><para>Идея в том, чтобы переместить все данные в начало раздела, перед изменением информации о разделах, для того чтобы ничего не потерять. Важно сделать как можно меньшим промежуток между перемещаемыми данными и переразмечаемой областью, чтобы минимизировать вероятность того, что файл будет в конце раздела, а это уменьшает количество места, которое можно вычленить из раздела. </para><para>Во-первых, нужно скопировать <command>fips</command> из каталога <filename>tools/</filename> с ближайшего сервера-зеркала Debian. Распакуйте архив и скопируйте файлы <filename>RESTORRB.EXE</filename>, <filename>FIPS.EXE</filename> и <filename>ERRORS.TXT</filename> на загрузочную дискету. Загрузочную дискету можно создать с помощью команды <filename>sys a:</filename> из DOS. По <command>fips</command> есть хорошая документация, с которой не плохо было бы ознакомиться. Вам однозначно нужно прочитать её, если вы используете драйвер сжатия или дисковый менеджер. Создайте диск и прочитайте документацию <emphasis>перед</emphasis> дефрагментацией диска. </para><para>Далее, нужно переместить все данные в начало раздела. Стандартная команда <command>defrag</command> из DOS 6.0 и более позднего легко выполняет эту работу. Смотрите в документации к <command>fips</command> список других программ, которые делают тоже самое. Заметим, что если у вас Windows 9x, то вы должны запускать <command>defrag</command> из неё, так как DOS не понимает VFAT, который используется для поддержки длинных имён, используемый в Windows 95 и выше. </para><para>После завершения дефрагментации (которая занимает много времени на большом диске), перезагрузитесь с дискеты <command>fips</command>. Просто введите <filename>a:\fips</filename> и следуйте инструкциям. </para><para>Заметим, что существует много других менеджеров разделов, если<command>fips</command> чем-то не подошёл вам. </para>
   </sect3>

   <sect3 id="partitioning-for-dos"><title>Разметка для DOS</title>

<para>Если вы делаете раздел для диска DOS, или изменяете размер разделов DOS с помощью утилит Linux, надо сказать, что много людей испытывали проблемы при работе с получившимися разделами FAT. Например, некоторые рассказывали о плохой производительности, проблемах целостности с <command>scandisk</command> и других странных ошибках в DOS или Windows. </para><para>Очевидно, что при создании или изменении размера раздела для использования в DOS, хорошей идеей будет заполнить несколько первых секторов нулями. Сделайте это из Linux перед запуском DOS-вой команды <command>format</command>: <informalexample><screen>dd if=/dev/zero of=/dev/hdXX bs=512 count=4

</screen></informalexample>

</para>
   </sect3>
  </sect2>
