<!-- retain these comments for translator revision tracking -->
<!-- $Id: sparc.xml 11648 2004-03-22 00:37:46Z joeyh $ -->


  <sect2 arch="sparc" id="invoking-openboot"><title>Вызов OpenBoot</title>

<para>OpenBoot предоставляет основные функции, требуемые для загрузки машины на архитектуре &arch-title;. По функциям он очень напоминает BIOS на архитектуре x86, хотя намного симпотичнее. Sun boot PROM содержит встроенный интрепретатор языка форт, который позволяет вам делать довольно много разных вещей с вашей машиной, например диагностику, выполнять простые сценарии и т.д. </para><para>Чтобы попасть в boot prompt вам нужно удерживая клавишу <keycap>Stop</keycap> (на старых клавиатурах 4-го типа, используйте клавишу <keycap>L1</keycap>, если у вас адаптер PC клавиатуры, используйте клавишу <keycap>Break</keycap>) нажать клавишу <keycap>A</keycap>. Boot PROM выдаст приглашение: или <userinput>ok</userinput> или <userinput>&gt;</userinput>. Желательно иметь приглашение <userinput>ok</userinput>. Поэтому, если у вас появилось приглашение старого типа, нажмите клавишу <keycap>n</keycap>, чтобы получить приглашение нового типа. </para>
  </sect2>

  <sect2 arch="sparc" id="boot-dev-select-sun">
  <title>Boot Device Selection</title>

<para>

You can use OpenBoot to boot from specific devices, and also to change
your default boot device.  However, you need to know some details
about how OpenBoot names devices; it's much different from Linux
device naming, described in <xref linkend="device-names"/>.
Also, the command will vary a bit, depending on what version of
OpenBoot you have.  More information about OpenBoot can be found in
the <ulink url="&url-openboot;">Sun OpenBoot Reference</ulink>.

</para><para>

Typically, with newer revisions, you can use OpenBoot device such as
``floppy'', ``cdrom'', ``net'', ``disk'', or ``disk2''.  These have
the obvious meanings; the ``net'' device is for booting from the
network.  Additionally, the device name can specify a particular
partition of a disk, such as ``disk2:a'' to boot disk2, first
partition.  Full OpenBoot device names have the form

<informalexample>
<screen>
<replaceable>driver-name</replaceable>@
<replaceable>unit-address</replaceable>:
<replaceable>device-arguments</replaceable>
</screen></informalexample>.

In older revisions of OpenBoot, device naming is a bit different: the
floppy device is called ``/fd'', and SCSI disk devices are of the form
``sd(<replaceable>controller</replaceable>,
<replaceable>disk-target-id</replaceable>,
<replaceable>disk-lun</replaceable>)''.  The command
<userinput>show-devs</userinput> in newer OpenBoot revisions is useful
for viewing the currently configured devices.  For full information,
whatever your revision, see the 
<ulink url="&url-openboot;">Sun OpenBoot Reference</ulink>.

</para><para>

To boot from a specific device, use the command <userinput>boot
<replaceable>device</replaceable></userinput>.  You can set this
behavior as the default using the <userinput>setenv</userinput>
command.  However, the name of the variable to set changed between
OpenBoot revisions.  In OpenBoot 1.x, use the command
<userinput>setenv boot-from
<replaceable>device</replaceable></userinput>.  In later revisions of
OpenBoot, use the command <userinput>setenv boot-device
<replaceable>device</replaceable></userinput>. Note, this is also
configurable using the <command>eeprom</command> command on Solaris,
or modifying the appropriate files in
<filename>/proc/openprom/options/</filename>, for example under Linux:

<informalexample><screen>

echo disk1:1 &gt;/proc/openprom/options/boot-device

</screen></informalexample> 

and under Solaris:

<informalexample><screen>

eeprom boot-device=disk1:1

</screen></informalexample> 

</para>
  </sect2>
