<!-- retain these comments for translator revision tracking -->
<!-- $Id: bootp.xml 16879 2004-06-16 21:47:55Z fjpop-guest $ -->


  <sect2 condition="supports-bootp" id="tftp-bootp">
  <title>Настройка BOOTP сервера</title>
<para>В GNU/Linux есть два BOOTP сервера, CMU <command>bootpd</command> и ещё один, на самом деле DHCP сервер, ISC <command>dhcpd</command>, которые находятся в пакетах &debian; <classname>bootp</classname> и<classname>dhcp</classname>. </para><para>Для использования CMU <command>bootpd</command>, сначала вы должны раскомментировать (или добавить) соответствующую строку в<filename>/etc/inetd.conf</filename>. Для этого в &debian; вы можете запустить<userinput>update-inetd --enable bootps</userinput>, затем <userinput>/etc/init.d/inetd reload</userinput>. Иначе, добавляемая строка должна выглядеть так: <informalexample><screen>bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

</screen></informalexample>

</para><para>Теперь, вы должны создать файл <filename>/etc/bootptab</filename>. Внутри он напоминает хорошо знакомый и загадочный формат старых добрых BSD файлов<filename>printcap</filename>, <filename>termcap</filename> и<filename>disktab</filename>. Подробности смотрите на странице руководства <filename>bootptab</filename>. Для CMU <command>bootpd</command>, вам нужно знать аппаратный адрес (MAC) клиента. Вот пример <filename>/etc/bootptab</filename>: <informalexample><screen>

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

</screen></informalexample> Вам нужно изменить по крайней мере параметр "ha", который содержит аппаратный адрес клиента. Параметр "bf" содержит файл, который клиент должен получить по TFTP; подробности смотрите в <xref linkend="tftp-images"/>. <phrase arch="mips"> На SGI Indy, вы можете просто войти в командный монитор и набрать <userinput>printenv</userinput>. Значение переменной <userinput>eaddr</userinput> содержитMAC адрес машины.</phrase> </para><para>В противоположность, настройка BOOTP от ISC <command>dhcpd</command> очень проста, так как он трактует BOOTP клиентов, как частный случай DHCP клиентов.Некоторые архитектуры требуют сложной конфигурации для загрузки клиентов поBOOTP. Если у вас один из таких случаев, прочитайте раздел <xref linkend="dhcpd"/>. Иначе, вероятно, вам будет достаточно просто добавить директиву <userinput>allow bootp</userinput> в конфигурационный блок подсети, содержащейклиента, и перезапустить <command>dhcpd</command> командой <userinput>/etc/init.d/dhcpd restart</userinput>. </para>
  </sect2>
