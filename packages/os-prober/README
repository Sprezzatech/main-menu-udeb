os-prober
--------

This is a small shell library that may be depended on by any bootloader
installer package to detect other filesystems with operating systems on
them.

All one has to do is Depend on os-prober, and then run the os-prober
command. This command takes no arguments: it will scan all disks available
on the system for other operating systems, and output a list of strings
such as:

"/dev/discs/.../part1:Windows NT/2000/XP:WinNT:chain"
 ^------------------^ ^----------------^ ^---^ ^---^
      partition        OS name for boot  short May change: type of boot loader
                       loader's pretty   name  required. Usually there is only
		       output                  a 'linux' style bootloader or
		                               a chain one for other partitions
		                               with their own boot sectors.

Tests are executable programs in the directory /usr/share/os-prober/. Each
test is called once per partition, with the partiton to check as its
parameter, and may output a string as described above, or nothing if it does
not recognise an OS on that partition. Tests return an exit code of 0
if they successfully found an OS, and no further tests will be run on that
partition; or return an exit code of 1 to indicate that no OS was found,
and let the next test run.

Tests that require the partition to be mounted can be placed in
/usr/share/os-prober/mounted/. These tests are passed the following
parameters: partition, mount point, filesystem.

Bootloader installer packages will then have to process this output (fairly
trivial) to create valid configuration entries for the bootloader.

Note that os-prober can find other Linux installations, as well as other
operating systems. It does not try to work out all the information needed
to boot Linux (initrd, kernel params, etc), instead that task is left to
some other (as yet unwritten) program. In the case of Linux systems, the
partition detected to have a Linux system on it may not even be bootable;
there may be a separate /boot partition.
